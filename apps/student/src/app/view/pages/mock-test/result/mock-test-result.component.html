<div *ngIf="testResult" class="flex w-full justify-center">
  <div class="col gap-6 md:gap-8 w-full max-w-[1122px] p-6 md:p-12">
    <div class="gap-2 flex md:hidden justify-center">
      <a [routerLink]="paths.home.path" class="menu-item">
        <img src="/assets/images/Home.svg" alt="" />
        <span>Trang ch·ªß</span>
      </a>
      <a [routerLink]="paths.chatbot.path" class="menu-item">
        <img src="/assets/images/FAQ.svg" alt="" />
        <span>Chat v·ªõi Kyo</span>
      </a>
      <a [routerLink]="paths.account.path" class="menu-item">
        <img src="/assets/images/Profile.svg" alt="" />
        <span>T√†i kho·∫£n</span>
      </a>
    </div>
    <div class="flex items-center justify-between w-full">
      <div class="flex gap-4 items-center">
        <h4>ƒêi·ªÉm b√†i ki·ªÉm tra</h4>
      </div>
      <div class="gap-2 hidden md:flex">
        <a [routerLink]="paths.home.path" class="menu-item">
          <img src="/assets/images/Home.svg" alt="" />
          <span>Trang ch·ªß</span>
        </a>
        <a [routerLink]="paths.account.path" class="menu-item">
          <img src="/assets/images/Profile.svg" alt="" />
          <span>T√†i kho·∫£n</span>
        </a>
      </div>
    </div>
    <div class="col p-6 bg-white rounded-lg gap-6">
      <div class="col md:flex-row items-center justify-center w-full gap-8">
        <div class="flex items-center justify-between flex-shrink flex-grow-0 gap-6 md:gap-8">
          <div class="h-[132px] lg:w-[198px] aspect-square">
            <circle-progress
              [percent]="testResult.score * 10"
              [subtitle]="testResult.score.toString() + '/10'"
              [animateTitle]="false"
              [lazy]="false"
              title="ƒêi·ªÉm s·ªë"
              titleFontSize="12px"
              titleFontWeight="bold"
              subtitleFontSize="30px"
              subtitleFontWeight="bold"
              [subtitleColor]="theme === 'default' ? 'var(--color-primaryBlue)' : 'var(--color-white)'"
              [radius]="75"
              outerStrokeColor="var(--color-lightOrange-1)"
              innerStrokeColor="var(--color-blueGrey-300)"
              [innerStrokeWidth]="20"
              [outerStrokeWidth]="20"
              [space]="-20"
              [responsive]="true"
            ></circle-progress>
          </div>
          <!-- <div class="h-[132px] lg:w-[198px] aspect-square">
            <circle-progress
              *ngIf="!probabilityIndex"
              [percent]="0"
              [subtitle]="'--'"
              [animateTitle]="false"
              [lazy]="false"
              title="T·ªâ l·ªá th√†nh c√¥ng"
              titleFontSize="12px"
              titleFontWeight="bold"
              subtitleFontSize="30px"
              subtitleFontWeight="bold"
              [subtitleColor]="theme === 'default' ? 'var(--color-primaryBlue)' : 'var(--color-white)'"
              [radius]="75"
              outerStrokeColor="var(--color-blueGrey-300)"
              innerStrokeColor="var(--color-blueGrey-300)"
              [innerStrokeWidth]="20"
              [outerStrokeWidth]="20"
              [space]="-20"
              [responsive]="true"
              [lazy]="false"
            ></circle-progress>
            <circle-progress
              *ngIf="probabilityIndex"
              [percent]="probabilityIndex"
              [subtitle]="probabilityIndex + '%'"
              [animateTitle]="false"
              [lazy]="false"
              title="T·ªâ l·ªá th√†nh c√¥ng"
              titleFontSize="12px"
              titleFontWeight="bold"
              subtitleFontSize="30px"
              subtitleFontWeight="bold"
              [subtitleColor]="theme === 'default' ? 'var(--color-primaryBlue)' : 'var(--color-white)'"
              [radius]="75"
              outerStrokeColor="var(--color-lightBlue-1)"
              innerStrokeColor="var(--color-blueGrey-300)"
              [innerStrokeWidth]="20"
              [outerStrokeWidth]="20"
              [space]="-20"
              [responsive]="true"
            ></circle-progress>
          </div> -->
        </div>
        <div class="w-full md:w-[411px] col gap-6">
          <span
            ><strong class="text-orange">B·∫°n mu·ªën c·∫£i thi·ªán ƒëi·ªÉm s·ªë?</strong><br />AI c·ªßa Kyons s·∫Ω t·∫°o l·ªô tr√¨nh h·ªçc d·ª±a
            v√†o nh·ªØng ƒëi·ªÉm thi·∫øu s√≥t c·ªßa b·∫°n.<br />B·∫•m <strong>T·∫°o l·ªô tr√¨nh h·ªçc</strong> ƒë·ªÉ b·∫Øt ƒë·∫ßu ngay!</span
          >
          <div class="col md:flex-row gap-2 md:items-center items-stretch justify-between w-full">
            <button
              #reviewElm
              data-tooltip-content="B·∫°n h√£y b·∫•m v√†o ƒë√¢y ƒë·ªÉ xem l·∫°i k·∫øt qu·∫£ b√†i ki·ªÉm tra c·ªßa m√¨nh"
              data-tooltip-position="bottom"
              (click)="review()"
              class="btn-rounded order-2 md:order-1"
            >
              Xem l·∫°i ƒë√°p √°n b√†i ki·ªÉm tra
            </button>
            <button
              #createElm
              data-tooltip-content="B·∫°n h√£y b·∫•m v√†o ƒë√¢y ƒë·ªÉ t·∫°o l·ªô tr√¨nh h·ªçc"
              data-tooltip-position="bottom"
              [disabled]="testResult.status !== MockTestStatus.mock_test_submitted && !showTutorial"
              (click)="activateLearningPath()"
              class="btn order-1 md:order-2"
            >
              T·∫°o l·ªô tr√¨nh h·ªçc
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="stats text-white items-center shadow-4 rounded-2xl md:h-[296px] flex flex-col md:flex-row">
      <div class="flex-1 flex items-center justify-center p-3">
        <img src="/assets/images/Spider chart.svg" alt="" class="w-[179px] md:w-auto" />
      </div>
      <div class="h-[150px] border-r border-solid border-blueGrey-600 hidden md:block"></div>
      <div class="w-[222px] border-t border-solid border-blueGrey-600 md:hidden"></div>
      <div class="flex-1 h-full col gap-6 md:gap-0 items-center justify-start p-14 pt-6 md:pt-14">
        <div class="flex gap-4">
          <img
            width="32px"
            height="32px"
            *ngFor="let o of over; index as i"
            [src]="'/assets/images/' + (o || activeStat === i ? stats[i] : statsBW[i]) + '.svg'"
            alt=""
            (mouseover)="over[i] = true"
            (mouseout)="over[i] = false"
            class="cursor-pointer stat"
            [ngClass]="{ active: activeStat === i }"
            (click)="activeStat = i"
          />
        </div>
        <div class="flex-1 text-base font-bold flex items-center text-center">
          T√≠nh nƒÉng b√≠ m·∫≠t s·∫Øp<br />ƒë∆∞·ª£c b·∫≠t m√≠ ü•≥
        </div>
      </div>
    </div>
    <div class="col md:flex-row gap-6 items-stretch md:items-center justify-between">
      <button
        [routerLink]="paths.mockTest.path"
        class="bg-white p-6 rounded-lg flex gap-6 items-center justify-between cursor-pointer flex-grow order-2 md:order-1"
      >
        <div class="col gap-2 items-start">
          <b>B√†i ki·ªÉm tra qu√° d·ªÖ?</b>
          <span class="text-left">B·∫°n c√≥ th·ªÉ l·ª±a ch·ªçn l·∫°i m·ª•c ti√™u h·ªçc t·∫≠p</span>
        </div>
        <i class="icon-btn icon-ChevronRight"></i>
      </button>
      <button
        class="bg-white p-6 rounded-lg flex gap-6 items-center justify-between cursor-pointer flex-grow order-1 md:order-2"
      >
        <div class="col gap-2 items-start">
          <b>Th√°ch th·ª©c b·∫°n th√¢n nh·∫≠n qu√†!</b>
          <span class="text-left">Nh·∫≠n qu√† t·ª´ Kyons khi g·ª≠i b√†i ki·ªÉm tra cho b·∫°n b√®</span>
        </div>
        <i class="icon-btn icon-ChevronRight"></i>
      </button>
    </div>
  </div>
  <div *ngIf="showTutorial">
    <kyonsvn-tutorial
      *ngIf="tutorialPart === 1"
      [scriptElements]="[reviewElm]"
      [scriptEvents]="[['click', nextTutorial1], null]"
      (skipCallback)="skip()"
    ></kyonsvn-tutorial>
    <kyonsvn-tutorial
      *ngIf="tutorialPart === 2"
      [scriptElements]="[createElm]"
      [scriptEvents]="[['click', nextTutorial2], null]"
      (skipCallback)="skip()"
    ></kyonsvn-tutorial>
  </div>
</div>
