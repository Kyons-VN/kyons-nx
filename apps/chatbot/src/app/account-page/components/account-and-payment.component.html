<div class="flex flex-col items-start justify-start w-full">
  <div class="flex bg-secondaryBlue text-white rounded-t-lg">
    <div class="tab-item" [ngClass]="{ 'bg-white text-primaryBlue': activeTab() === 0 }" (click)="activeTab.set(0)">
      <i class="icon-Work text-xl"></i> Tổng quan
    </div>
    <div
      class="tab-item"
      [ngClass]="{ 'bg-white text-primaryBlue': activeTab() === 1 }"
      (click)="activeTab.set(1); loadPackages()"
    >
      <i class="icon-Subscription text-xl"></i> Gói tài khoản
    </div>
    <!-- <div class="tab-item" [ngClass]="{ 'bg-white text-primaryBlue': activeTab === 2 }" (click)="activeTab = 2">
      <i class="icon-Shop text-xl"></i> Cửa hàng
    </div> -->
    <div
      class="tab-item"
      [ngClass]="{ 'bg-white text-primaryBlue': activeTab() === 3 }"
      (click)="activeTab.set(3); loadOrderHistory()"
    >
      <i class="icon-History text-xl"></i> Lịch sử giao dịch
    </div>
  </div>
  <div class="bg-white w-full p-6 max-h-[calc(100vh_-_200px)] rounded-tr-lg rounded-b-lg overflow-y-auto ga-4">
    @switch(activeTab()){ @case(0){
    <div *ngIf="currentPackage" class="flex flex-col gap-4">
      <h5>Tổng quan</h5>
      <div class="flex flex-col gap-6">
        <div class="flex gap-8">
          <div class="flex flex-col gap-2 md:w-[180px]">
            <span class="h7">Gói tài khoản</span>
            <div class="flex gap-2">
              <img [src]="currentPackage.image" alt="" class="w-8 h-8" />
              <h4 class="text-lightBlue-1">{{ currentPackage.name }}</h4>
            </div>
          </div>
          <div class="flex flex-col gap-2 flex-1">
            <span class="h7">Hết hạn</span>
            <h4>{{ currentPackage.level === 0 ? 'Không hết hạn' : remainingHoursDisplay }}</h4>
          </div>
          <!-- <a (click)="showBenefit = true">Xem quyền lợi</a> -->
        </div>
        <hr />
        <div class="flex gap-8">
          <div class="flex flex-col gap-2 md:w-[180px]">
            <span class="h7">Tài nguyên của bạn</span>
          </div>
          <div class="flex flex-col flex-1 gap-4">
            <div class="flex gap-3 items-start cursor-pointer">
              <img src="/assets/images/Koins 1.svg" alt="" class="w-10 h-10" />
              <div class="flex flex-col flex-1 gap-0.5">
                <strong class="text-lightBlue-1">Koins: 0</strong>
                <span class="text-xs">Dùng Koins để đổi ngay các phần quà hấp dẫn.</span>
              </div>
              <!-- <i class="icon-ArrowRight text-base self-center"></i> -->
            </div>
            <hr />
            <div class="flex gap-3 items-start cursor-pointer" *ngFor="let item of items">
              <img [src]="item.image" alt="" class="w-10 h-10" />
              <div class="flex flex-col flex-1 gap-0.5">
                <strong class="text-lightBlue-1">{{ item.name }}</strong>
                <strong>Đang có: {{ item.quantity }}</strong>
              </div>
              <!-- <i class="icon-ArrowRight text-base self-center"></i> -->
            </div>
          </div>
        </div>
      </div>
    </div>
    } @case(1) {
    <div class="flex flex-col gap-4">
      <div class="flex">
        <h5>Gói tài khoản</h5>
        <div class="flex-1"></div>
        <div class="flex gap-3 items-center">
          <i class="icon-Cash text-4xl"></i>
          <strong>{{ balance.formatedValue }}</strong>
          <button class="btn w-8 h-8"><i class="icon-Add"></i></button>
        </div>
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div class="flex flex-col gap-4 p-6 rounded-lg border border-b-gray-300" *ngFor="let package of packages">
          <div class="flex flex-col gap-2.5 h-full">
            <span class="h7 flex items-center gap-2">
              <span>{{ package.packageTypeDisplay }}</span>
              <span *ngIf="package.isUsing" class="bg-orange text-white rounded-full uppercase px-2 py-0.5 text-xs"
                >Đang sử dụng</span
              >
            </span>
            <div class="flex items-center">
              <div class="flex gap-2 items-center">
                <img [src]="package.image" alt="" class="w-8 h-8" />
                <h6 [ngClass]="{ 'text-lightBlue-1': package.level > 0 }">{{ package.name }}</h6>
              </div>
              <div class="flex-1"></div>
              <h6 *ngIf="package.price === 0">Miễn phí</h6>
              <h6 *ngIf="package.price > 0">
                {{ package.formatedSalePrice }}<sub class="text-sm font-normal">/ {{ package.duration / 24 }} ngày</sub>
              </h6>
            </div>
            <hr />
            <div class="flex flex-col">
              <span class="h7">Quyền lợi</span>
              @if(package.price === 0){
              <ul class="check-list">
                <li><strong>01</strong> bài thi thử miễn phí mỗi tuần</li>
                <li>Sau đó 25.000đ/bài thi thử</li>
                <li>Lộ trình học <strong>cơ bản</strong></li>
              </ul>
              } @else{
              <div [innerHTML]="package.description | safeHtml" class="check-list-wrapper"></div>
              }
            </div>
            <span class="flex-1"></span>
            <button
              *ngIf="package.level < currentPackage.level"
              class="btn btn-rounded"
              (click)="showWarning = true; selectedPackage = package"
            >
              Đổi về gói
            </button>
            <button
              *ngIf="package.level > 0 && package.level === currentPackage.level"
              class="btn"
              (click)="showExtending = true"
            >
              Gia hạn
            </button>
            <button
              *ngIf="package.level > 0 && package.level > currentPackage.level"
              class="btn"
              (click)="currentPackage.level === 0 ? selectPackage(package) : (showUpgrade = true)"
            >
              Nâng cấp gói
            </button>
          </div>
        </div>
        <!-- <div class="flex flex-col gap-4 p-6 rounded-lg border border-b-gray-300">
          <div class="flex flex-col gap-2.5 h-full">
            <span class="h7 flex items-center gap-2">
              <span>Gói mở rộng</span>
              <span class="bg-orange text-white rounded-full uppercase px-2 py-0.5 text-xs">Đang sử dụng</span>
            </span>
            <div class="flex items-center">
              <div class="flex gap-2 items-center">
                <img src="/assets/images/Group 1488.svg" alt="" class="w-8 h-8" />
                <h4 class="text-lightBlue-1">Plus</h4>
              </div>
              <div class="flex-1"></div>
              <h4>180.000đ<sub class="text-sm font-normal">/ 30 ngày</sub></h4>
            </div>
            <hr />
            <div class="flex flex-col">
              <span class="h7">Quyền lợi</span>
              <ul class="check-list">
                <li><strong>05</strong> bài thi thử miễn phí mỗi tuần</li>
                <li>Sau đó 19.000đ/bài thi thử</li>
                <li>Lộ trình học <strong>mở rộng</strong></li>
                <li>
                  Thành viên <a href="" target="_blank">Kyons Pioneer</a> giảm giá 10% tất cả các dịch vụ của Kyons trọn
                  đời.
                </li>
              </ul>
            </div>
            <span class="flex-1"></span>
            <button class="btn">Gia hạn</button>
          </div>
        </div> -->
      </div>
    </div>
    } @case(3) {
    <div class="flex flex-col gap-4">
      @if(isViewOrder){
      <div class="flex flex-col gap-6">
        <div class="flex flex-col gap-4">
          <div class="flex gap-4 items-center">
            <div class="flex gap-2 text-orange items-center cursor-pointer" (click)="isViewOrder = false">
              <i class="icon-ArrowLeft text-2xl"></i>
              <span>Quay lại</span>
            </div>
            <h5>Chi tiết giao dịch</h5>
          </div>
          <div class="">
            Tên gói: <b class="text-lightBlue-1">{{ orderDetails.orderPackage.name }}</b>
          </div>
          <div class="flex flex-col gap-3">
            <span>
              Gói bao gồm:
              <span *ngFor="let item of orderDetails.orderItems; index as i"
                >{{ item.name }}{{ i > 0 ? ' ,' : '' }}</span
              >
            </span>
            <span>
              Thành tiền:
              {{ orderDetails.totalPriceDisplay }}
            </span>
            <span>
              Mã thanh toán:
              {{ orderDetails.code }}
              <button (click)="copy(orderDetails.code)"><i class="icon-Duplicate text-orange"></i></button>
            </span>
            <span> Thời gian: {{ orderDetails.createdAtDisplay }} </span>
            <span>
              Trạng thái:
              <b
                [ngClass]="{
                  'text-darkYellow-1': orderDetails.status === OrderStatus.manualPaid,
                  'text-darkEmerald': orderDetails.status === OrderStatus.completed,
                  'text-red-0': orderDetails.status === OrderStatus.pending
                }"
                >{{ orderDetails.statusDisplay }}</b
              >
            </span>
          </div>
          <div *ngIf="orderDetails.status === OrderStatus.pending" class="flex gap-2">
            <button class="btn btn-rounded" (click)="cancelOrder()" [disabled]="isCanceling">
              {{ isCanceling ? 'Đang xử lý...' : 'Hủy giao dịch' }}
            </button>
            <button class="btn" (click)="viewAndPay(orderDetails)">Thanh toán</button>
          </div>
        </div>
        <hr />
        <div class="flex flex-col">
          <p *ngIf="orderDetails.status === OrderStatus.completed">
            Trạng thái “<span class="text-darkEmerald">Hoàn tất</span>" thể hiện khi giao dịch của bạn đã được xác nhận
            và vật phẩm đã được gửi đến bạn.
          </p>
          <p *ngIf="orderDetails.status === OrderStatus.manualPaid">
            Trạng thái “<span class="text-darkYellow-1">Đang xử lí</span>" thể hiện khi bạn đã hoàn tất thanh toán và
            đang đợi Kyons xác nhận giao dịch. Khi xác nhận thành công, vật phẩm sẽ được gửi đến bạn.
          </p>
          <p *ngIf="orderDetails.status === OrderStatus.pending">
            Trạng thái “<span class="text-red-0">Chưa thanh toán</span>" thể hiện khi bạn đã tạo giao dịch nhưng chưa
            thanh toán.
          </p>
          <p>
            Lưu ý: Nếu bạn nghĩ rằng đã có lỗi trong quá trình giao dịch, liên hệ
            <a href="https://www.facebook.com/KyonsVN" target="_blank">Kyons Fanpage</a> để được giải quyết nhanh chóng
            nhé.
          </p>
        </div>
      </div>
      } @else{
      <h5>Lịch sử giao dịch</h5>
      <table class="text-center border-separate border-spacing-x-6 border-spacing-y-4">
        <tr>
          <th class="text-left">Sản phẩm</th>
          <th>Thời gian</th>
          <th>Thành tiền</th>
          <th>Trạng thái</th>
          <th class="text-right">Mã thanh toán</th>
        </tr>
        <tr *ngFor="let order of orders">
          <th class="text-left text-orange cursor-pointer underline" (click)="viewOrder(order)">
            {{ order.orderPackage.name }}
          </th>
          <td>{{ order.createdAtDisplay }}</td>
          <td>{{ order.totalPriceDisplay }}</td>
          <td
            class="font-bold"
            [ngClass]="{
              'text-darkYellow-1': order.status === OrderStatus.manualPaid,
              'text-darkEmerald': order.status === OrderStatus.completed,
              'text-red-0': order.status === OrderStatus.pending
            }"
          >
            {{ order.statusDisplay }}
          </td>
          <td class="text-right">
            {{ order.code }} <button (click)="copy(order.code)"><i class="icon-Duplicate text-orange"></i></button>
          </td>
        </tr>
        <!-- <tr>
          <th class="text-left">[package_name]</th>
          <td>05/12/2022 13:20</td>
          <td>300,000VND</td>
          <td class="text-right">
            241010123456 <button (click)="copy('241010123456')"><i class="icon-Duplicate text-orange"></i></button>
          </td>
        </tr>
        <tr>
          <th class="text-left">[package_name]</th>
          <td>05/12/2022 13:20</td>
          <td>300,000VND</td>
          <td class="text-right">
            241010123456 <button (click)="copy('241010123456')"><i class="icon-Duplicate text-orange"></i></button>
          </td>
        </tr> -->
      </table>
      }
    </div>
    } }
  </div>
</div>
<div
  *ngIf="showBenefit"
  class="fixed top-0 left-0 w-full h-screen overflow-hidden flex items-center justify-center p-4 bg-blueGrey-100"
>
  <div class="w-full max-w-[700px] bg-white rounded-lg p-6 flex flex-col gap-4">
    @if(currentPackage.description===''){

    <ul class="check-list">
      <li><strong>01</strong> bài thi thử miễn phí mỗi tuần</li>
      <li>Sau đó 25.000đ/bài thi thử</li>
      <li>Lộ trình học <strong>cơ bản</strong></li>
    </ul>
    <button class="btn w-full" (click)="showBenefit = false">Ok nha</button>
    } @else{
    <div class="" [innerHTML]="currentPackage.description | safeHtml"></div>
    }
  </div>
</div>
<div
  *ngIf="showExtending"
  class="fixed top-0 left-0 w-full h-screen overflow-hidden flex items-center justify-center p-4 bg-blueGrey-100"
>
  <div class="w-full max-w-[700px] flex flex-col gap-6 bg-white rounded-lg p-6">
    <h3>Bạn đang sử dụng gói {{ currentPackage.name }}</h3>
    <p>Thời gian sử dụng vẫn còn, bạn vẫn muốn mua thêm thời gian?</p>
    <div class="flex gap-4">
      <button class="btn btn-rounded" (click)="showExtending = false">Quay lại</button>
      <button class="btn" (click)="selectPackage(currentPackage)">Tiếp tục gia hạn</button>
    </div>
  </div>
</div>
<div
  *ngIf="showWarning"
  class="fixed top-0 left-0 w-full h-screen overflow-hidden flex items-center justify-center p-4 bg-blueGrey-100"
>
  <div class="w-full max-w-[700px] flex flex-col gap-6 bg-white rounded-lg p-6">
    <h3>Bạn đang sử dụng gói {{ currentPackage.name }}</h3>
    <p>Thời gian sử dụng vẫn còn, bạn cần phải hủy gói đang dùng trước khi thay đổi?</p>
    <div class="flex gap-4 justify-end">
      <button class="btn" (click)="showWarning = false">Đã hiểu</button>
    </div>
  </div>
</div>
<div
  *ngIf="showUpgrade"
  class="fixed top-0 left-0 w-full h-screen overflow-hidden flex items-center justify-center p-4 bg-blueGrey-100"
>
  <div class="w-full max-w-[700px] flex flex-col gap-6 bg-white rounded-lg p-6">
    <h3>Bạn đang sử dụng gói {{ currentPackage.name }}</h3>
    <p>
      Thời gian sử dụng vẫn còn, nếu chọn nâng cấp gói thời gian sử dụng còn lại sẽ bị đóng băng. Sau khi thanh toán
      thành công gói mới bạn sẽ được hoàn tiền theo thời gian còn lại của gói cũ (nếu có) vào tài khoản KYONS của mình.
      Bạn muốn tiếp tục nâng cấp gói?
    </p>
    <div class="flex gap-4">
      <button class="btn btn-rounded" (click)="showUpgrade = false">Quay lại</button>
      <button class="btn" (click)="selectPackage(currentPackage)">Tiếp tục nâng cấp</button>
    </div>
  </div>
</div>
<div
  *ngIf="isOrderSuccess"
  class="fixed top-0 left-0 w-full h-screen overflow-hidden flex items-center justify-center p-4 bg-blueGrey-100"
>
  <div class="w-full max-w-[700px] flex flex-col gap-6 bg-white rounded-lg p-6">
    <h3><i class="icon icon-Success"></i></h3>
    <h5>
      Thanh toán cho giao dịch <span class="text-lightBlue-1">{{ orderCode }}</span> của bạn đã được tiếp nhận!
    </h5>
    <p>
      Kyons đã nhận được thông tin và đang tiến hành xử lí. Bạn có thể xem trạng thái của giao dịch trong
      <b> “Lịch sử giao dịch” </b>.
    </p>
    <p>
      Nếu sau 24h vẫn chưa nhận được email xác nhận, bạn hãy gửi <b>hình chụp giao dịch chuyển khoản</b> đến
      <a href="https://www.facebook.com/KyonsVN" target="_blank" class="text-orange font-bold underline"
        >Kyons fanpage</a
      >
      để được hỗ trợ nhé!
    </p>
    <div class="flex gap-4 justify-center">
      <button class="btn btn-rounded" [routerLink]="paths.home.path">Về trang chủ</button>
      <div class="w-3"></div>
      <button class="btn" (click)="backToHistory()">Xem lịch sử giao dịch</button>
    </div>
  </div>
</div>
<div
  *ngIf="showOrdering"
  class="fixed top-0 left-0 w-full h-screen overflow-hidden flex items-center justify-center p-4 bg-blueGrey-100"
>
  <div class="w-full max-w-[700px] flex flex-col gap-6 bg-white rounded-lg p-6">
    <h3>Bạn đang mua {{ selectedPackage.name }}</h3>
    <div class="flex flex-col gap-2.5">
      <h4>
        Mã thanh toán:&nbsp;<span class="text-lightBlue-1">{{ orderCode }}</span>
      </h4>
      <p><b>Quét mã QR</b> bằng ứng dụng Internet Banking hoặc <b>sao chép thông tin chuyển khoản</b> dưới đây:</p>
    </div>
    <div class="flex flex-col sm:flex-row items-center sm:items-start">
      <img
        [src]="
          'https://img.vietqr.io/image/TCB-19037780961051-compact2.png?amount=' +
          selectedPackage.salePrice +
          '&amp;addInfo=' +
          orderCode +
          '&amp;accountName=KYONS LLC'
        "
        alt="Bạn đang đăng ký Gói đặt trước ưu đãi (1 tháng)"
        class="sm:w-[50%]"
      />
      <div class="flex flex-col sm:flex-1 sm:items-start">
        <div class="h-3"></div>
        <h2 class="text-lg font-bold text-center sm:text-left">Số tiền: {{ selectedPackage.formatedSalePrice }}</h2>
        <div class="h-6"></div>
        <div class="flex flex-col p-4 bg-blueGrey-50 rounded-lg w-full">
          <div class="flex flex-col gap-1.5">
            <span>Nội dung chuyển khoản</span>
            <a class="flex justify-between cursor-pointer no-underline" (click)="copy(orderCode)">
              <strong id="copyText" class="text-orange"
                ><span id="code">{{ orderCode }}</span></strong
              >
              <i class="icon-Duplicate text-orange text-base"></i>
            </a>
          </div>
          <div class="flex flex-col gap-1.5">
            <span>Ngân hàng</span>
            <span id="copyBank" class="flex justify-between cursor-pointer" (click)="copy('Techcombank')">
              <strong>Techcombank</strong>
              <i class="icon-Duplicate text-orange text-base"></i>
            </span>
          </div>
          <div class="flex flex-col gap-1.5">
            <span>Số tài khoản</span>
            <span id="copyCard" class="flex justify-between cursor-pointer" (click)="copy('19037780961051')">
              <strong>19037780961051</strong>
              <i class="icon-Duplicate text-orange text-base"></i>
            </span>
          </div>
          <div class="flex flex-col gap-1.5">
            <span>Tên chủ tài khoản</span>
            <span id="copyName" class="flex justify-between cursor-pointer" (click)="copy('KYONS LLC')">
              <strong>KYONS LLC</strong>
              <i class="icon-Duplicate text-orange text-base"></i>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="flex items-center justify-between">
      <button class="btn btn-rounded" (click)="cancelOrder()" [disabled]="isCanceling">
        {{ isCanceling ? 'Đang xử lý...' : 'Hủy giao dịch' }}
      </button>
      <button class="btn" (click)="confirmOrder()" [disabled]="isConfirming">
        {{ isConfirming ? 'Đang xử lý...' : 'Xác nhận đã chuyển khoản' }}
      </button>
    </div>
  </div>
</div>

<div
  *ngIf="showTopup"
  class="fixed top-0 left-0 w-full h-screen overflow-hidden flex items-center justify-center p-4 bg-blueGrey-100"
>
  <div class="w-full max-w-[700px] flex flex-col gap-6 bg-white rounded-lg p-6">
    <h3>Bạn đang nạp tiền vào tài khoản</h3>
    <div class="flex flex-col sm:flex-row items-center sm:items-start">
      <img
        [src]="
          'https://img.vietqr.io/image/TCB-19037780961051-compact2.png?amount=' +
          selectedPackage.salePrice +
          '&amp;addInfo=' +
          orderCode +
          '&amp;accountName=KYONS LLC'
        "
        ,
      />
      <div class="flex flex-col sm:flex-1 sm:items-start">
        <div class="h-3"></div>
        <h2 class="text-lg font-bold text-center sm:text-left">Số tiền: {{ selectedPackage.formatedSalePrice }}</h2>
        <div class="h-6"></div>
        <div class="flex flex-col p-4 bg-blueGrey-50 rounded-lg w-full">
          <div class="flex flex-col gap-1.5">
            <span>Nội dung chuyển khoản</span>
            <a class="flex justify-between cursor-pointer no-underline">
              <strong id="copyText" class="text-orange"
                ><span id="code">{{ orderCode }}</span></strong
              >
              <i class="icon-Duplicate text-orange text-base" (click)="copy(orderCode)"></i>
            </a>
          </div>
          <div class="flex flex-col gap-1.5">
            <span>Ngân hàng</span>
            <span id="copyBank" class="flex justify-between cursor-pointer">
              <strong>Techcombank</strong>
              <i class="icon-Duplicate text-orange text-base"></i>
            </span>
          </div>
          <div class="flex flex-col gap-1.5">
            <span>Số tài khoản</span>
            <span id="copyCard" class="flex justify-between cursor-pointer">
              <strong>19037780961051</strong>
              <i class="icon-Duplicate text-orange text-base"></i>
            </span>
          </div>
          <div class="flex flex-col gap-1.5">
            <span>Tên chủ tài khoản</span>
            <span id="copyName" class="flex justify-between cursor-pointer">
              <strong>KYONS LLC</strong>
              <!-- <i class='icon-Duplicate text-orange text-base'></i> -->
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="flex items-center justify-between">
      <button class="btn btn-rounded" (click)="cancelOrder()" [disabled]="isCanceling">
        {{ isCanceling ? 'Đang xử lý...' : 'Hủy giao dịch' }}
      </button>
      <button class="btn" (click)="confirmOrder()" [disabled]="isConfirming">Xác nhận đã chuyển khoản</button>
    </div>
  </div>
</div>
<div
  *ngIf="isCancelSuccess"
  class="fixed top-0 left-0 w-full h-screen overflow-hidden flex items-center justify-center p-4 bg-blueGrey-100"
>
  <div class="w-full max-w-[443px] flex flex-col gap-6 bg-white rounded-lg p-6">
    <h5 class="text-center">Bạn đã hủy giao dịch thành công</h5>
    <div class="flex gap-4 justify-center">
      <button class="btn" (click)="backToHistory()">Ok</button>
    </div>
  </div>
</div>
<div
  *ngIf="isCancelFail"
  class="fixed top-0 left-0 w-full h-screen overflow-hidden flex items-center justify-center p-4 bg-blueGrey-100"
>
  <div class="w-full max-w-[443px] flex flex-col gap-6 bg-white rounded-lg p-6">
    <h5 class="text-center">Hủy giao dịch không thành công</h5>
    <div class="flex gap-4 justify-center">
      <button class="btn" (click)="backToHistory()">Ok, thử lại sau</button>
    </div>
  </div>
</div>
<div
  *ngIf="isPendingOrder"
  class="fixed top-0 left-0 w-full h-screen overflow-hidden flex items-center justify-center p-4 bg-blueGrey-100"
>
  <div class="w-full max-w-[443px] flex flex-col gap-6 bg-white rounded-lg p-6">
    <h5 class="text-center">
      Bạn đang có một đơn hàng trong trạng thái chờ duyệt nên không thể tiếp tục hành động này.
    </h5>
    <div class="flex gap-4 justify-center">
      <button class="btn" (click)="backToHistory()">Xem</button>
    </div>
  </div>
</div>
<div
  *ngIf="isOrderFail"
  class="fixed top-0 left-0 w-full h-screen overflow-hidden flex items-center justify-center p-4 bg-blueGrey-100"
>
  <div class="w-full max-w-[443px] flex flex-col gap-6 bg-white rounded-lg p-6">
    <h5 class="text-center">Có lỗi, xin thử lại</h5>
    <div class="flex gap-4 justify-center">
      <button class="btn" (click)="backToHistory()">Quay lại</button>
    </div>
  </div>
</div>
