{"version":3,"file":"main.88bd28053cb27543.js","mappings":"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A;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,MAAM/C,MAAM,GAAG+C,GAAG,CAAC,MAAM,CAAC,CAACzJ,GAAG,CAAC,CAACwI,IAAS,EAAE2D,CAAS,KAAKP,2EAAY,CAACnM,QAAQ,CAAC+I,IAAI,EAAE2D,CAAC,CAAC,CAAC;MACxF,OAAOzF,MAAM;IACf,CAAC,CAAC,CACH;EACH;EACAxN,YAAoB4I,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;EAAe;EAEvCsK,OAAOA,CAACF,cAAsB;IAC5B,OAAO,IAAI,CAACpK,IAAI,CAAC0B,GAAG,CAAmB,GAAG9B,2EAAS,EAAE,2BAA2BwK,cAAc,UAAU,CAAC,CAACtJ,IAAI;IAC5G;IACAvB,gDAAU,CAACD,oDAAQ,CAACyB,WAAW,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAAC,EACvD7C,yCAAG,CAAEM,IAAS,IAAI;MAChB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,OAAOqJ,iEAAgB,CAAClK,QAAQ,CAACa,IAAI,CAAC;IACxC,CAAC,CAAC,CACH;EACH;EAEA+L,SAASA,CAAC9M,EAAU;IAClB,OAAO,IAAI,CAACuC,IAAI,CAAC0B,GAAG,CAAc,GAAG9B,2EAAS,EAAE,WAAWnC,EAAE,EAAE,CAAC,CAACqD,IAAI;IACnE;IACA5C,yCAAG,CAAEyJ,GAAQ,IAAI;MACf,OAAOsC,gDAAW,CAACtM,QAAQ,CAACF,EAAE,EAAEkK,GAAG,CA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F,IAAI,CAAC,YAAY,CAAC,CAAC;IAE1C,OAAO,IAAIyR,WAAW,CAACzZ,CAAC,CAAC;EAC3B;EAEA,OAAOuP,KAAKA,CAAA;IACV,OAAO,IAAIkK,WAAW,CAAC;MAAExS,EAAE,EAAE,EAAE;MAAEoT,QAAQ,EAAE,CAAC;MAAEc,MAAM,EAAE,CAAC;MAAEM,WAAW,EAAE,EAAE;MAAExT,SAAS,EAAE,IAAIC,IAAI;IAAE,CAAE,CAAC;EACpG;EAEAwT,YAAYA,CAAA;IACV,OAAOF,6DAAa,CAAC,IAAI,CAACvT,SAAS,CAAC;EACtC;EAEA0T,cAAcA,CAAA;IACZ,OAAOlD,8DAAc,CAAC,IAAI,CAAC0C,MAAM,CAAC;EACpC;;AAGI,MAAOzB,eAAe;EAG1B9Y,YAAY;IAAEoZ,KAAK;IAAEC;EAAI,CAA0C;IACjE,IAAI,CAACD,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,IAAI,GAAGA,IAAI;EAClB;EACA,OAAO1K,KAAKA,CAAA;IACV,OAAO,IAAImK,eAAe,CAAC;MAAEM,KAAK,EAAE,CAAC;MAAEC,IAAI,EAAE;IAAmB,CAAE,CAAC;EACrE;;;;;;;;;;;;;;;;;;AC5D4E;AAC9E;AAC+C;AACd;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA,MAAM3G,YAAY;EAMhB1S,YAAY;IACVqG,EAAE;IACF2U,WAAW;IACX3N,MAAM;IACN4N,KAAK;IACLC;EAAK,CAON;IACC,IAAI,CAAC7U,EAAE,GAAGA,EAAE;IACZ,IAAI,CAAC2U,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAAC3N,MAAM,GAAGA,MAAM;IACpB,IAAI,CAAC4N,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,KAAK,GAAGA,KAAK;EACpB;EACA,OAAO3U,QAAQA,CAACqK,UAAe,EAAEsK,KAAc;IAC7C,MAAM9b,CAAC,GAAGqH,qDAAI,CAACmK,UAAU,EAAE,CAAC,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IAC7ExR,CAAC,CAAC4b,WAAW,GAAG,IAAI1T,IAAI,CAACsJ,UAAU,CAAC,c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","sources":["./apps/student/src/app/app-routing.module.ts","./apps/student/src/app/app.component.ts","./apps/student/src/app/app.component.html","./apps/student/src/app/app.module.ts","./apps/student/src/app/domain/auth/sandbox-account.ts","./apps/student/src/app/domain/gift/gift.ts","./apps/student/src/app/domain/gift/promotion.ts","./apps/student/src/app/domain/knowledge/i-mock-test.ts","./apps/student/src/app/domain/navigation/i-redirect.ts","./apps/student/src/app/domain/subject/subject.ts","./apps/student/src/app/domain/user/user.ts","./apps/student/src/app/infrastructure/auth/auth.service.ts","./apps/student/src/app/infrastructure/auth/interceptor.ts","./apps/student/src/app/infrastructure/gift/gift/gift.service.ts","./apps/student/src/app/infrastructure/helper/helper.ts","./apps/student/src/app/infrastructure/knowledge/category.ts","./apps/student/src/app/infrastructure/knowledge/knowledge.service.ts","./apps/student/src/app/infrastructure/knowledge/learning-goal-path.ts","./apps/student/src/app/infrastructure/knowledge/learning-goal.ts","./apps/student/src/app/infrastructure/knowledge/lesson.service.ts","./apps/student/src/app/infrastructure/knowledge/lesson.ts","./apps/student/src/app/infrastructure/knowledge/program.ts","./apps/student/src/app/infrastructure/knowledge/topic.ts","./apps/student/src/app/infrastructure/loading-overlay.service.ts","./apps/student/src/app/infrastructure/navigation/navigation.service.ts","./apps/student/src/app/infrastructure/notification/notification.service.ts","./apps/student/src/app/infrastructure/order/balance.ts","./apps/student/src/app/infrastructure/order/inventory.ts","./apps/student/src/app/infrastructure/order/order.service.ts","./apps/student/src/app/infrastructure/order/package.ts","./apps/student/src/app/infrastructure/order/transaction.ts","./apps/student/src/app/infrastructure/test/test-content.ts","./apps/student/src/app/infrastructure/test/test.service.ts","./apps/student/src/app/infrastructure/tracking/tracking.service.ts","./apps/student/src/app/infrastructure/tutorials/tutorial-service.ts","./apps/student/src/app/infrastructure/user/user.service.ts","./apps/student/src/app/material.module.ts","./apps/student/src/app/presentation/assets/svgs/home/home.component.ts","./apps/student/src/app/presentation/assets/svgs/home/home.component.svg","./apps/student/src/app/presentation/assets/svgs/svg/svg.component.ts","./apps/student/src/app/presentation/assets/svgs/svg/svg.component.html","./apps/student/src/app/presentation/assets/svgs/tutor/tutor.component.ts","./apps/student/src/app/presentation/assets/svgs/tutor/tutor.component.svg","./apps/student/src/app/presentation/auth.guard.ts","./apps/student/src/app/presentation/layouts/default/layout-default.component.ts","./apps/student/src/app/presentation/layouts/default/layout-default.component.html","./apps/student/src/app/presentation/layouts/full/layout-full.component.ts","./apps/student/src/app/presentation/layouts/full/layout-full.component.html","./apps/student/src/app/presentation/pages/account-page/account-page.component.ts","./apps/student/src/app/presentation/pages/account-page/account-page.component.html","./apps/student/src/app/presentation/pages/adaptive-test/adaptive-test.component.ts","./apps/student/src/app/presentation/pages/adaptive-test/adaptive-test.component.html","./apps/student/src/app/presentation/pages/email-verification/email-verification.component.ts","./apps/student/src/app/presentation/pages/email-verification/email-verification.component.html","./apps/student/src/app/presentation/pages/gift/gift.component.ts","./apps/student/src/app/presentation/pages/gift/gift.component.html","./apps/student/src/app/presentation/pages/home/home.component.ts","./apps/student/src/app/presentation/pages/home/home.component.html","./apps/student/src/app/presentation/pages/learning-path/learning-path.component.ts","./apps/student/src/app/presentation/pages/learning-path/learning-path.component.html","./apps/student/src/app/presentation/pages/lesson-page/lesson-page.component.ts","./apps/student/src/app/presentation/pages/lesson-page/lesson-page.component.html","./apps/student/src/app/presentation/pages/lesson-page/review/lesson-review-page.component.ts","./apps/student/src/app/presentation/pages/lesson-page/review/lesson-review-page.component.html","./apps/student/src/app/presentation/pages/mock-test/result/mock-test-result.component.ts","./apps/student/src/app/presentation/pages/mock-test/result/mock-test-result.component.html","./apps/student/src/app/presentation/pages/mock-test/review/mock-test-review.component.ts","./apps/student/src/app/presentation/pages/mock-test/review/mock-test-review.component.html","./apps/student/src/app/presentation/pages/mock-test/select-program/select-program.component.ts","./apps/student/src/app/presentation/pages/mock-test/select-program/select-program.component.html","./apps/student/src/app/presentation/pages/mock-test/select-topic/select-topic.component.ts","./apps/student/src/app/presentation/pages/mock-test/select-topic/select-topic.component.html","./apps/student/src/app/presentation/pages/mock-test/share/share.component.ts","./apps/student/src/app/presentation/pages/mock-test/share/share.component.html","./apps/student/src/app/presentation/pages/mock-test/test/mock-test-test.component.ts","./apps/student/src/app/presentation/pages/mock-test/test/mock-test-test.component.html","./apps/student/src/app/presentation/pages/new-lesson-page/new-lesson-page.component.ts","./apps/student/src/app/presentation/pages/new-lesson-page/new-lesson-page.component.html","./apps/student/src/app/presentation/pages/new-user/new-user.component.ts","./apps/student/src/app/presentation/pages/new-user/new-user.component.html","./apps/student/src/app/presentation/pages/package-page/package-page.component.ts","./apps/student/src/app/presentation/pages/package-page/package-page.component.html","./apps/student/src/app/presentation/pages/page-not-found/page-not-found.component.ts","./apps/student/src/app/presentation/pages/page-not-found/page-not-found.component.html","./apps/student/src/app/presentation/pages/profile/profile.component.ts","./apps/student/src/app/presentation/pages/profile/profile.component.html","./apps/student/src/app/presentation/pages/test/test.component.ts","./apps/student/src/app/presentation/pages/test/test.component.html","./apps/student/src/app/presentation/routes.ts","./apps/student/src/app/presentation/share-components/app-input/app-input.component.ts","./apps/student/src/app/presentation/share-components/app-input/app-input.component.html","./apps/student/src/app/presentation/share-components/carousel/carousel.component.ts","./apps/student/src/app/presentation/share-components/carousel/carousel.component.html","./apps/student/src/app/presentation/share-components/carousel/carousel.module.ts","./apps/student/src/app/presentation/share-components/carousel/carousel.ts","./apps/student/src/app/presentation/share-components/carousel/cells.ts","./apps/student/src/app/presentation/share-components/carousel/container.ts","./apps/student/src/app/presentation/share-components/carousel/slide.ts","./apps/student/src/app/presentation/share-components/carousel/touches.ts","./apps/student/src/app/presentation/share-components/carousel/utils.ts","./apps/student/src/app/presentation/share-components/confirm-dialog/confirm-dialog.component.ts","./apps/student/src/app/presentation/share-components/confirm-dialog/confirm-dialog.component.html","./apps/student/src/app/presentation/share-components/input-radio/input-radio.component.ts","./apps/student/src/app/presentation/share-components/input-radio/input-radio.component.html","./apps/student/src/app/presentation/share-components/loading/loading.component.ts","./apps/student/src/app/presentation/share-components/loading/loading.component.html","./apps/student/src/app/presentation/share-components/program-card/program-card.component.ts","./apps/student/src/app/presentation/share-components/program-card/program-card.component.html","./apps/student/src/app/presentation/share-components/questions-progress/questions-progress.component.ts","./apps/student/src/app/presentation/share-components/questions-progress/questions-progress.component.html","./apps/student/src/app/presentation/share-components/score-bar/score-bar.component.ts","./apps/student/src/app/presentation/share-components/test-content/test-content.component.ts","./apps/student/src/app/presentation/share-components/test-content/test-content.component.html","./apps/student/src/app/presentation/share-components/test-review/test-review.component.ts","./apps/student/src/app/presentation/share-components/test-review/test-review.component.html","./apps/student/src/app/presentation/share-components/top-menu/top-menu.component.ts","./apps/student/src/app/presentation/share-components/top-menu/top-menu.component.html","./apps/student/src/app/presentation/share-components/tracking/tracking-lesson.component.ts","./apps/student/src/app/presentation/share-components/tracking/tracking.component.ts","./apps/student/src/app/presentation/share-components/tutorial/lesson/tutorial-lesson.component.ts","./apps/student/src/app/presentation/share-components/tutorial/lesson/tutorial-lesson.component.html","./apps/student/src/app/presentation/share-components/tutorial/test/tutorial-test.component.ts","./apps/student/src/app/presentation/share-components/tutorial/test/tutorial-test.component.html","./apps/student/src/app/utils/formats.ts","./apps/student/src/environments/environment.dev.ts","./apps/student/src/main.ts","./libs/share-components/src/index.ts","./libs/share-components/src/lib/exercise-content/exercise-content.component.ts","./libs/share-components/src/lib/exercise-content/exercise-content.component.html","./libs/share-components/src/lib/input-radio/input-radio.component.ts","./libs/share-components/src/lib/input-radio/input-radio.component.html","./libs/share-components/src/lib/questions-progress/questions-progress.component.ts","./libs/share-components/src/lib/questions-progress/questions-progress.component.html","./libs/share-components/src/lib/test-content/test-content.component.ts","./libs/share-components/src/lib/test-content/test-content.component.html","./libs/share-components/src/lib/test-review/test-review.component.ts","./libs/share-components/src/lib/test-review/test-review.component.html","./libs/share-components/src/lib/tutorial/tutorial.component.ts","./libs/share-pipes/src/index.ts","./libs/share-pipes/src/lib/filter.pipe.ts","./libs/share-pipes/src/lib/keys.pipe.ts","./libs/share-pipes/src/lib/order-by-sa.pipe.ts","./libs/share-pipes/src/lib/order-by.pipe.ts","./libs/share-pipes/src/lib/safe-html.pipe.ts","./libs/share-pipes/src/lib/share-pipes.module.ts","./libs/share-utils/src/lib/data/index.ts","./libs/share-utils/src/lib/domain/index.ts","./libs/share-utils/src/lib/knowledge/data/category.ts","./libs/share-utils/src/lib/knowledge/data/index.ts","./libs/share-utils/src/lib/knowledge/data/progress.ts","./libs/share-utils/src/lib/knowledge/data/topic.ts","./libs/share-utils/src/lib/knowledge/domain/index.ts","./libs/share-utils/src/lib/test/data/submission.ts","./libs/share-utils/src/lib/test/data/test-content.ts","./libs/share-utils/src/lib/test/domain/i-test.ts","./libs/share-utils/src/lib/test/domain/i_test_content.ts","./libs/share-utils/src/lib/test/domain/index.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { routes } from './presentation/routes';\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forRoot(routes, {\r\n      anchorScrolling: 'enabled',\r\n      // useHash: true,\r\n    }),\r\n  ],\r\n  exports: [RouterModule],\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component, HostBinding, OnInit } from '@angular/core';\r\nimport { NavigationEnd, Router } from '@angular/router';\r\nimport { AuthService } from './infrastructure/auth/auth.service';\r\n\r\n@Component({\r\n  selector: 'student-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n})\r\nexport class AppComponent implements OnInit {\r\n  constructor(private authService: AuthService, private router: Router) { }\r\n\r\n  @HostBinding('class') class = 'block w-full h-full';\r\n\r\n  title = 'student';\r\n  isAuthenticated = true;\r\n\r\n  ngOnInit(): void {\r\n    this.isAuthenticated = this.authService.getToken() !== '';\r\n    this.router.events.subscribe((val) => {\r\n      // see also\r\n      if (val instanceof NavigationEnd)\r\n        this.isAuthenticated = this.authService.getToken() !== '';\r\n    });\r\n  }\r\n}\r\n","<router-outlet></router-outlet>\r\n","import { HttpClientModule } from '@angular/common/http';\r\nimport { LOCALE_ID, NgModule, importProvidersFrom } from '@angular/core';\r\nimport { VAPID_KEY } from '@angular/fire/compat/messaging';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { FilterPipe, SafeHtmlPipe, SharePipesModule } from '@share-pipes';\r\nimport player from 'lottie-web/build/player/lottie_light';\r\nimport { NgCircleProgressModule } from 'ng-circle-progress';\r\nimport { LottieModule } from 'ngx-lottie';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { DEFAULT_TIMEOUT, authInterceptorProviders } from './infrastructure/auth/interceptor';\r\nimport { MaterialModule } from './material.module';\r\nimport { SvgModule } from './presentation/assets/svgs/svg/svg.component';\r\nimport { AccountPageComponent } from './presentation/pages/account-page/account-page.component';\r\nimport { NewLessonPageComponent } from './presentation/pages/new-lesson-page/new-lesson-page.component';\r\nimport { PackagePageComponent } from './presentation/pages/package-page/package-page.component';\r\nimport { PageNotFoundComponent } from './presentation/pages/page-not-found/page-not-found.component';\r\nimport { TestComponent } from './presentation/pages/test/test.component';\r\nimport { AppInputComponent } from './presentation/share-components/app-input/app-input.component';\r\nimport { IvyCarouselModule } from './presentation/share-components/carousel/carousel.module';\r\nimport { ConfirmDialogComponent } from './presentation/share-components/confirm-dialog/confirm-dialog.component';\r\nimport { InputRadioComponent } from './presentation/share-components/input-radio/input-radio.component';\r\nimport { LoadingComponent } from './presentation/share-components/loading/loading.component';\r\nimport { SubjectCardComponent } from './presentation/share-components/program-card/program-card.component';\r\nimport { QuestionsProgressComponent } from './presentation/share-components/questions-progress/questions-progress.component';\r\nimport { ScoreBarComponent } from './presentation/share-components/score-bar/score-bar.component';\r\nimport { TestContentComponent } from './presentation/share-components/test-content/test-content.component';\r\nimport { TestReviewComponent } from './presentation/share-components/test-review/test-review.component';\r\nimport { TopMenuComponent } from './presentation/share-components/top-menu/top-menu.component';\r\nimport { TrackingComponent } from './presentation/share-components/tracking/tracking.component';\r\n\r\nexport function playerFactory() {\r\n  return player;\r\n}\r\n\r\nimport { registerLocaleData } from '@angular/common';\r\nimport localeEN from '@angular/common/locales/en';\r\nimport localeVN from '@angular/common/locales/vi';\r\nimport { initializeApp, provideFirebaseApp } from '@angular/fire/app';\r\nimport { FIREBASE_OPTIONS } from '@angular/fire/compat';\r\nimport { environment } from '@environments/environment';\r\nimport { notificationServiceProvider } from '@infrastructure/notification/notification.service';\r\nimport { LayoutFullComponent } from '@presentation/layouts/full/layout-full.component';\r\nimport { SelectTopicComponent } from '@presentation/pages/mock-test/select-topic/select-topic.component';\r\nimport { NgChartsModule } from 'ng2-charts';\r\nimport { LayoutDefaultComponent } from './presentation/layouts/default/layout-default.component';\r\nimport { AdaptiveTestComponent } from './presentation/pages/adaptive-test/adaptive-test.component';\r\nimport { NewUserComponent } from './presentation/pages/new-user/new-user.component';\r\n\r\nregisterLocaleData(localeVN, 'vi');\r\nregisterLocaleData(localeEN, 'en');\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AccountPageComponent,\r\n    AppComponent,\r\n    AppInputComponent,\r\n    ConfirmDialogComponent,\r\n    InputRadioComponent,\r\n    LayoutDefaultComponent,\r\n    LayoutFullComponent,\r\n    NewLessonPageComponent,\r\n    NewUserComponent,\r\n    PackagePageComponent,\r\n    PageNotFoundComponent,\r\n    QuestionsProgressComponent,\r\n    ScoreBarComponent,\r\n    SelectTopicComponent,\r\n    SubjectCardComponent,\r\n    TestComponent,\r\n    TestContentComponent,\r\n    TestReviewComponent,\r\n    TopMenuComponent,\r\n    TrackingComponent,\r\n    AdaptiveTestComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule.withServerTransition({ appId: 'serverApp' }),\r\n    AppRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgCircleProgressModule.forRoot({\r\n      radius: 50,\r\n      space: -10,\r\n      outerStrokeGradient: false,\r\n      outerStrokeWidth: 10,\r\n      outerStrokeColor: '#06A5FF',\r\n      innerStrokeColor: '#F1F5F9',\r\n      innerStrokeWidth: 10,\r\n      titleFontSize: '36',\r\n      subtitleFontSize: '24',\r\n      animateTitle: true,\r\n      animationDuration: 1000,\r\n      showUnits: false,\r\n      showBackground: false,\r\n      clockwise: true,\r\n      startFromZero: false,\r\n      lazy: true,\r\n    }),\r\n    BrowserAnimationsModule,\r\n    HttpClientModule,\r\n    MaterialModule,\r\n    SvgModule,\r\n    IvyCarouselModule,\r\n    SharePipesModule,\r\n    LottieModule.forRoot({ player: playerFactory }),\r\n    LoadingComponent,\r\n    NgChartsModule,\r\n    FilterPipe,\r\n    SafeHtmlPipe,\r\n  ],\r\n  exports: [MaterialModule, SvgModule],\r\n  providers: [\r\n    authInterceptorProviders,\r\n    { provide: LOCALE_ID, useValue: 'vi' },\r\n    { provide: DEFAULT_TIMEOUT, useValue: 30000 },\r\n    { provide: VAPID_KEY, useValue: environment.vapidKey },\r\n    notificationServiceProvider,\r\n    { provide: FIREBASE_OPTIONS, useValue: environment.firebase },\r\n    importProvidersFrom(provideFirebaseApp(() => initializeApp(environment.firebase))),\r\n  ],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule {}\r\n","export const sandboxAccounts = ['ddhiep448@gmail.com', 'binhhm2009@gmail.com'];\r\n","class Gift {\r\n  id: string;\r\n  name: string;\r\n  constructor(id: string, name: string) {\r\n    this.id = id;\r\n    this.name = name;\r\n  }\r\n\r\n  static fromJson(json: any): Gift {\r\n    return new Gift(json.id, json.name);\r\n  }\r\n}\r\n\r\nexport { Gift };\r\n","import { pick } from 'lodash-es';\r\nimport { Gift } from './gift';\r\n\r\nclass Promotion {\r\n  isWon: boolean;\r\n  claimCode?: string;\r\n  gifts: Gift[];\r\n\r\n  constructor({ isWon, claimCode, gifts }: { isWon: boolean; claimCode?: string; gifts: Gift[] }) {\r\n    this.isWon = isWon;\r\n    this.claimCode = claimCode;\r\n    this.gifts = gifts;\r\n  }\r\n\r\n  static fromJson(json: any): Promotion {\r\n    const _ = pick(json, ['isWon', 'claimCode', 'gifts']);\r\n    _.isWon = json['is_won'] as boolean;\r\n    _.claimCode = json['claim_code'];\r\n    _.gifts = json['data'].map((jsonGift: any) => Gift.fromJson(jsonGift));\r\n    return new Promotion(_);\r\n  }\r\n}\r\n\r\nexport { Promotion };\r\n","import { MockTestStatus } from '@share-utils/domain';\r\n\r\ninterface IMockTestItem {\r\n  id: string;\r\n  createdDate: Date;\r\n  status: MockTestStatus;\r\n  score?: number;\r\n  index?: number;\r\n}\r\n\r\nexport { IMockTestItem, MockTestStatus };\r\n","enum RedirectAfterLogin {\r\n  HomePage,\r\n  DiagnosticTest,\r\n  MockTest,\r\n  LearningPath,\r\n  ReferralMockTest,\r\n  HomeAppTutorial,\r\n}\r\nexport { RedirectAfterLogin };\r\n","import { pick } from 'lodash-es';\r\nimport { Program } from '../../infrastructure/knowledge/program';\r\nimport { IProgram } from '../knowledge/i-program';\r\nimport { SubjectStatus } from './status';\r\n\r\ninterface ISubject {\r\n  id: number;\r\n  name: string;\r\n  label: string;\r\n  status: SubjectStatus;\r\n  createdAt: Date;\r\n  programs: IProgram[];\r\n}\r\n\r\nclass Subject implements ISubject {\r\n  id!: number;\r\n  name!: string;\r\n  label!: string;\r\n  status!: SubjectStatus;\r\n  createdAt!: Date;\r\n  programs!: Program[];\r\n\r\n  static fromJson(data: any): Subject {\r\n    const _ = pick(data, [\r\n      'id',\r\n      'name',\r\n      'label',\r\n      'status',\r\n      'createdAt',\r\n      'programs',\r\n    ]);\r\n    _.createdAt = new Date(data['created_at']);\r\n    _.programs = _.programs.map((json: any) => Program.fromJson(json));\r\n    return _ as Subject;\r\n  }\r\n}\r\n\r\nexport { Subject };\r\n\r\n","interface IUser {\r\n  id: string;\r\n  email: string;\r\n  firstName: string;\r\n  lastName: string;\r\n  phone: string;\r\n}\r\n\r\nexport class User implements IUser {\r\n  id: string;\r\n  email: string;\r\n  firstName: string;\r\n  lastName: string;\r\n  phone: string;\r\n  constructor({ id, email, firstName, lastName, phone }: IUser) {\r\n    this.id = id;\r\n    this.email = email;\r\n    this.firstName = firstName;\r\n    this.lastName = lastName;\r\n    this.phone = phone;\r\n  }\r\n\r\n  public static fromJson(json: any): User {\r\n    return new User({\r\n      id: json['id'],\r\n      email: json['email'],\r\n      firstName: json['first_name'],\r\n      lastName: json['last_name'],\r\n      phone: json['mobile_number'].replace('+84', '0'),\r\n    });\r\n  }\r\n}\r\n","import { HttpBackend, HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { IAuthCredential, IAuthService } from '@domain/auth/i-auth-service';\r\nimport { sandboxAccounts } from '@domain/auth/sandbox-account';\r\nimport { environment } from '@environments/environment';\r\nimport { DBHelper } from '@infrastructure/helper/helper';\r\nimport { catchError, map } from 'rxjs';\r\nimport { KnowledgeService } from '../knowledge/knowledge.service';\r\nimport { TrackingService } from '../tracking/tracking.service';\r\nimport { UserService } from '../user/user.service';\r\nimport { TOKEN_HEADER_KEY, serverApi } from './interceptor';\r\n\r\nconst TOKEN_KEY = 'access_token';\r\nconst REFRESH_TOKEN_KEY = 'refresh_token';\r\nconst USER_ROLE = 'role';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthService implements IAuthService {\r\n  constructor(\r\n    private http: HttpClient,\r\n    private userService: UserService,\r\n    private trackingService: TrackingService,\r\n    private knowledgeService: KnowledgeService,\r\n    private backend: HttpBackend\r\n  ) {}\r\n\r\n  signIn(credential: IAuthCredential) {\r\n    if (sandboxAccounts.includes(credential.email)) {\r\n      window.localStorage.setItem('dev', 'true');\r\n    } else {\r\n      window.localStorage.removeItem('dev');\r\n    }\r\n    return this.http.post(`${serverApi()}/auth/sign_in`, credential.toJson()).pipe(\r\n      catchError(DBHelper.handleError('POST sign_in', Error('Server Error'))),\r\n      map((data: any) => {\r\n        if (TOKEN_KEY in data && REFRESH_TOKEN_KEY in data) {\r\n          if (data[USER_ROLE] !== environment.name)\r\n            return {\r\n              error: true,\r\n              message: 'Domain specific error.',\r\n            };\r\n          this.setToken(data);\r\n          this.setRefreshToken(data);\r\n          this.userService.updateCurrentUser(data['sub'], data['email']);\r\n          this.trackingService.init();\r\n        } else {\r\n          data['error'] = true;\r\n          data['message'] = data;\r\n        }\r\n        return data;\r\n      })\r\n    );\r\n  }\r\n\r\n  signOut() {\r\n    if (window.localStorage.getItem('dev') === 'true') {\r\n      const request = this.http.get(`${serverApi()}/auth/sign_out`).subscribe({\r\n        next: () => {\r\n          request.unsubscribe();\r\n        },\r\n      });\r\n    }\r\n    this.removeToken();\r\n    this.removeRefreshToken();\r\n    this.userService.removeCurrentUser();\r\n    this.trackingService.resetTracking();\r\n    this.knowledgeService.removeSelectedProgram();\r\n    this.knowledgeService.removeSelectedLearningGoal();\r\n  }\r\n\r\n  public getToken() {\r\n    return window.localStorage.getItem(TOKEN_KEY) ?? '';\r\n  }\r\n\r\n  public getRefreshToken() {\r\n    return window.localStorage.getItem(REFRESH_TOKEN_KEY);\r\n  }\r\n\r\n  public setToken(data: Record<string, string>) {\r\n    window.localStorage.setItem(TOKEN_KEY, data[TOKEN_KEY]);\r\n  }\r\n\r\n  public setRefreshToken(data: Record<string, string>) {\r\n    window.localStorage.setItem(REFRESH_TOKEN_KEY, data[REFRESH_TOKEN_KEY]);\r\n  }\r\n\r\n  public removeToken() {\r\n    window.localStorage.removeItem(TOKEN_KEY);\r\n  }\r\n\r\n  public removeRefreshToken() {\r\n    window.localStorage.removeItem(REFRESH_TOKEN_KEY);\r\n  }\r\n\r\n  refreshToken(refreshToken: string) {\r\n    const http = new HttpClient(this.backend);\r\n    const contentType = 'application/json';\r\n    const options = {\r\n      headers: new HttpHeaders().set(TOKEN_HEADER_KEY, `Bearer ${refreshToken}`).set('Content-Type', contentType),\r\n    };\r\n    return http.post(`${serverApi()}/auth/refresh`, {}, options);\r\n  }\r\n}\r\n","import {\r\n  HTTP_INTERCEPTORS,\r\n  HttpErrorResponse,\r\n  HttpEvent,\r\n  HttpHandler,\r\n  HttpInterceptor,\r\n  HttpRequest,\r\n} from '@angular/common/http';\r\nimport { Inject, Injectable, InjectionToken } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Observable, catchError, lastValueFrom, of, throwError, timeout } from 'rxjs';\r\nimport { environment } from '../../../environments/environment';\r\nimport { AppPaths } from '../../presentation/routes';\r\nimport { NavigationService } from '../navigation/navigation.service';\r\nimport { AuthService } from './auth.service';\r\n\r\nexport const TOKEN_HEADER_KEY = 'Authorization'; // for Spring Boot back-end\r\nexport const serverApi = () => {\r\n  if (window.localStorage.getItem('dev') === 'true') return 'https://us-central1-kyonsvn.cloudfunctions.net/v1';\r\n  // if (window.localStorage.getItem('dev') === 'true') return 'http://127.0.0.1:5001/kyonsvn/us-central1/v1';\r\n  return environment.serverApi;\r\n};\r\n\r\nexport const DEFAULT_TIMEOUT = new InjectionToken<number>('defaultTimeout');\r\n\r\n@Injectable()\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n  paths: AppPaths;\r\n  constructor(\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    navService: NavigationService,\r\n    @Inject(DEFAULT_TIMEOUT) protected defaultTimeout: number\r\n  ) {\r\n    this.paths = navService.paths;\r\n  }\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    let authReq = req;\r\n    const token = this.auth.getToken();\r\n    const contentType = req.headers.get('Content-Type') ?? 'application/json';\r\n    if (token !== '') {\r\n      authReq = req.clone({\r\n        headers: req.headers.set(TOKEN_HEADER_KEY, 'Bearer ' + token).set('Content-Type', contentType),\r\n      });\r\n    }\r\n    const timeoutValue = req.headers.get('timeout') || this.defaultTimeout;\r\n    const timeoutValueNumeric = Number(timeoutValue);\r\n    return next\r\n      .handle(authReq)\r\n      .pipe(\r\n        catchError((error: HttpErrorResponse) => {\r\n          if (error.error instanceof ErrorEvent) {\r\n            console.log('this is client side error');\r\n          } else {\r\n            console.log('this is server side error');\r\n            if (error.status === 401) {\r\n              this.handleRefreshToken(authReq, req, next, contentType);\r\n            } // else this.redirectToHome();\r\n          }\r\n          // console.log(errorMsg);\r\n          return throwError(() => error.error);\r\n        })\r\n      )\r\n      .pipe(timeout(timeoutValueNumeric));\r\n  }\r\n\r\n  handleError<T>(operation = 'operation', result?: T) {\r\n    return (error: any): Observable<T> => {\r\n      // TODO: send the error to remote logging infrastructure\r\n      console.error(error); // log to console instead\r\n\r\n      // TODO: better job of transforming error for user consumption\r\n      console.log(`${operation} failed: ${error.message}`);\r\n      // if (error.status === 401) {\r\n      //   const refreshToken = this.auth.getRefreshToken();\r\n      //   if (refreshToken !== null) {\r\n      //     const result = lastValueFrom(this.auth.refreshToken(refreshToken));\r\n      //     console.log(result);\r\n      //     if (result != null) this.auth.setToken(result);\r\n      //     else this.forceSignOut();\r\n      //   } else {\r\n      //     this.forceSignOut();\r\n      //   }\r\n      // }\r\n      // Let the app keep running by returning an empty result.\r\n      return of(result as T);\r\n    };\r\n  }\r\n\r\n  forceSignOut() {\r\n    this.auth.signOut();\r\n    setTimeout(() => {\r\n      this.router.navigate([this.paths.signIn.path]);\r\n    }, 100);\r\n  }\r\n\r\n  private redirectToHome() {\r\n    this.router.navigate([this.paths.home.path]);\r\n  }\r\n\r\n  handleRefreshToken(authReq: HttpRequest<any>, req: HttpRequest<any>, next: HttpHandler, contentType: string) {\r\n    const refreshToken = this.auth.getRefreshToken();\r\n    if (refreshToken && refreshToken !== 'undefined') {\r\n      lastValueFrom(this.auth.refreshToken(refreshToken)).then(\r\n        (value: any) => {\r\n          if (value.access_token === undefined || value.access_token === null || value.access_token === 'undefined') {\r\n            this.forceSignOut();\r\n            return;\r\n          }\r\n          this.auth.setToken(value);\r\n          authReq = req.clone({\r\n            headers: req.headers.set(TOKEN_HEADER_KEY, 'Bearer ' + value.access_token).set('Content-Type', contentType),\r\n          });\r\n          next.handle(authReq).subscribe({\r\n            error: e => {\r\n              console.log(e);\r\n              throwError(() => 'server error');\r\n              this.forceSignOut();\r\n            },\r\n          });\r\n        },\r\n        e => {\r\n          console.log(e);\r\n          throwError(() => 'Invalid refreshToken');\r\n          this.forceSignOut();\r\n        }\r\n      );\r\n    } else {\r\n      // this.forceSignOut();\r\n      throwError(() => 'no refreshToken');\r\n      console.log('forceSignOut');\r\n    }\r\n  }\r\n}\r\n\r\nexport const authInterceptorProviders = [{ provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true }];\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable, inject } from '@angular/core';\r\nimport { serverApi } from '@infrastructure/auth/interceptor';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class GiftService {\r\n  http = inject(HttpClient);\r\n  getPromotion(event: string) {\r\n    return this.http.get(`${serverApi()}/students/gifts/promotions/${event}`);\r\n  }\r\n}\r\n","import { Observable, of } from 'rxjs';\r\n\r\nexport class DBHelper {\r\n  /**\r\n   * Handle Http operation that failed.\r\n   * Let the app continue.\r\n   *\r\n   * @param operation - name of the operation that failed\r\n   * @param result - optional value to return as the observable result\r\n   */\r\n  static handleError<T>(operation = 'operation', result?: T) {\r\n    return (error: any): Observable<T> => {\r\n      // TODO: send the error to remote logging infrastructure\r\n      console.error(error); // log to console instead\r\n\r\n      // TODO: better job of transforming error for user consumption\r\n      console.log(`${operation} failed: ${error.message}`);\r\n\r\n      // Let the app keep running by returning an empty result.\r\n      return of(result as T);\r\n    };\r\n  }\r\n}\r\n","import { ICategory } from '../../domain/knowledge/i-category';\r\n\r\nexport class Category implements ICategory {\r\n  id: string;\r\n  name: string;\r\n\r\n  constructor({ id, name }: { id: string; name: string }) {\r\n    this.id = id;\r\n    this.name = name;\r\n  }\r\n\r\n  static empty(): Category {\r\n    return new Category({ id: '', name: '' });\r\n  }\r\n\r\n  static fromJson(json: any): Category {\r\n    return new Category({ 'id': json.id.toString(), 'name': json.name });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport IKnowledgeService from '@domain/knowledge/i-knowledge-service';\r\nimport { serverApi } from '@infrastructure/auth/interceptor';\r\nimport { Observable, catchError, map } from 'rxjs';\r\nimport { Subject } from '../../domain/subject/subject';\r\nimport { DBHelper } from '../helper/helper';\r\nimport { LearningGoal, StudentLearningGoal } from './learning-goal';\r\nimport { Program } from './program';\r\n\r\nconst SELECTED_PROGRAM_KEY = 'selected_program';\r\nconst SELECTED_LEARNING_GOAL_KEY = 'selected_learning_goal';\r\nconst SELECTED_STUDENT_LEARNING_GOAL_KEY = 'selected_student_learning_goal';\r\nconst SELECTED_CATEGORY_ID = 'selected_category_id';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class KnowledgeService implements IKnowledgeService {\r\n  getLearningGoalList() {\r\n    return this.http.get(`${serverApi()}/students/learning_goal/list`).pipe(\r\n      catchError(DBHelper.handleError('GET subjects_list', [])),\r\n      map((collection: any) => {\r\n        if (collection.length === 0) return [];\r\n        return collection.map((item: any) => Subject.fromJson(item));\r\n      })\r\n    );\r\n  }\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getSubjects(): Observable<Subject[]> {\r\n    return this.http.get(`${serverApi()}/subjects`).pipe(\r\n      catchError(DBHelper.handleError('GET subjects_list', [])),\r\n      map((collection: any) => {\r\n        if (collection.length === 0) return [];\r\n        return collection.map((item: any) => Subject.fromJson(item));\r\n      })\r\n    );\r\n  }\r\n\r\n  getPrograms(): Observable<Program[]> {\r\n    return this.http.get(`${serverApi()}/students/programs`).pipe(\r\n      catchError(DBHelper.handleError('GET programs_list', [])),\r\n      map((collection: any) => {\r\n        if (collection.length === 0) return [];\r\n        return collection.map((item: any) => Program.fromJson(item));\r\n      })\r\n    );\r\n  }\r\n\r\n  selectProgram(program: Program): void {\r\n    window.localStorage.setItem(SELECTED_PROGRAM_KEY, JSON.stringify(program.toJson()));\r\n    if (program.learningGoal) {\r\n      this.selectLearningGoal(program.learningGoal);\r\n    }\r\n  }\r\n\r\n  getSelectedProgram(): Program {\r\n    return Program.fromJson(\r\n      JSON.parse(window.localStorage.getItem(SELECTED_PROGRAM_KEY) ?? JSON.stringify(Program.empty().toJson()))\r\n    );\r\n  }\r\n\r\n  removeSelectedProgram(): void {\r\n    window.localStorage.removeItem(SELECTED_PROGRAM_KEY);\r\n  }\r\n\r\n  selectLearningGoal(learningGoal: LearningGoal): void {\r\n    window.localStorage.setItem(SELECTED_LEARNING_GOAL_KEY, JSON.stringify(learningGoal.toJson()));\r\n  }\r\n\r\n  getSelectedLearningGoal(): LearningGoal {\r\n    return new LearningGoal(\r\n      JSON.parse(\r\n        window.localStorage.getItem(SELECTED_LEARNING_GOAL_KEY) ?? JSON.stringify(LearningGoal.empty().toJson())\r\n      )\r\n    );\r\n  }\r\n\r\n  selectStudentLearningGoal(learningGoal: StudentLearningGoal): void {\r\n    window.localStorage.setItem(SELECTED_STUDENT_LEARNING_GOAL_KEY, JSON.stringify(learningGoal.toJson()));\r\n  }\r\n\r\n  getStudentLearningGoal(): StudentLearningGoal {\r\n    return new StudentLearningGoal(\r\n      JSON.parse(\r\n        window.localStorage.getItem(SELECTED_STUDENT_LEARNING_GOAL_KEY) ?? JSON.stringify(LearningGoal.empty().toJson())\r\n      )\r\n    );\r\n  }\r\n\r\n  selectCategoryId(learningGoal: string): void {\r\n    window.localStorage.setItem(SELECTED_CATEGORY_ID, learningGoal);\r\n  }\r\n\r\n  getSelectedCategoryId(): string {\r\n    return window.localStorage.getItem(SELECTED_CATEGORY_ID) ?? '';\r\n  }\r\n\r\n  removeSelectedLearningGoal() {\r\n    window.localStorage.removeItem(SELECTED_LEARNING_GOAL_KEY);\r\n  }\r\n\r\n  getStudentLearningGoals(): Observable<StudentLearningGoal[]> {\r\n    return this.http.get(`${serverApi()}/students/master_learning_goals`).pipe(\r\n      catchError(DBHelper.handleError('GET learning_goals_list', [])),\r\n      map((res: any) => {\r\n        if (res.data == undefined || res.data.length === 0) return [];\r\n        // res = {\r\n        //   data: [\r\n        //     {\r\n        //       id: 100,\r\n        //       name: 'Kiểm tra 15 phút',\r\n        //       program_name: 'English 11',\r\n        //       complete_percentage: 100,\r\n        //       ordinal_number: 1,\r\n        //       subject_id: 1,\r\n        //     },\r\n        //     {\r\n        //       id: 97,\r\n        //       name: 'Kiểm tra 1 tiết',\r\n        //       program_name: 'English 12',\r\n        //       complete_percentage: 70,\r\n        //       ordinal_number: 2,\r\n        //       subject_id: 2,\r\n        //     },\r\n        //   ],\r\n        // };\r\n\r\n        return res.data.map((item: any) => StudentLearningGoal.fromJson(item));\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { ILearningGoalCategory, ILearningGoalPath } from '@domain/knowledge/i-learning-goal-path';\r\nimport pick from 'lodash-es/pick';\r\nimport { Category } from './category';\r\nimport { LessonItem } from './lesson';\r\nexport class LearningGoalPath implements ILearningGoalPath {\r\n  progress: number;\r\n  lessonCategories: LearningGoalCategory[];\r\n  constructor({ progress, lessonCategories }: { progress: number; lessonCategories: LearningGoalCategory[] }) {\r\n    this.progress = progress;\r\n    this.lessonCategories = lessonCategories;\r\n  }\r\n  static fromJson(dataObject: any): LearningGoalPath {\r\n    const _ = pick(dataObject, ['progress', 'lessonCategories']);\r\n    _.progress = parseInt(dataObject['complete_percentage']);\r\n    _.lessonCategories = (dataObject['categories'] as any[]).map(lCJson => LearningGoalCategory.fromJson(lCJson));\r\n    return new LearningGoalPath(_);\r\n  }\r\n  static empty() {\r\n    return new LearningGoalPath({ progress: 0, lessonCategories: [] });\r\n  }\r\n\r\n  isEmpty() {\r\n    return this.lessonCategories.length == 0;\r\n  }\r\n\r\n  isCompleted() {\r\n    return this.progress == 100;\r\n  }\r\n\r\n  getCategories() {\r\n    return this.lessonCategories.map(l => l.category);\r\n  }\r\n\r\n  getUncompletedLearningGoalCategories() {\r\n    return this.lessonCategories.filter(l => !l.isCompleted);\r\n  }\r\n\r\n  getLearningGoalCategoryById(categoryId: string) {\r\n    return this.lessonCategories.filter(lGC => lGC.category.id == categoryId)[0];\r\n  }\r\n}\r\n\r\nexport class LearningGoalCategory implements ILearningGoalCategory {\r\n  isCompleted = false;\r\n  category: Category;\r\n  lessons: LessonItem[];\r\n  constructor({ category, isCompleted, lessons }: { category: Category; isCompleted: boolean; lessons: LessonItem[] }) {\r\n    this.category = category;\r\n    this.lessons = lessons;\r\n    this.isCompleted = isCompleted;\r\n  }\r\n  static fromJson(data: any): LearningGoalCategory {\r\n    const lessonCategoryObjectList = {\r\n      category: Category.fromJson({\r\n        id: data['category_id'],\r\n        name: data['category_name'],\r\n      }),\r\n      isCompleted: data['completed'],\r\n      lessons: (data['lesson_list'] as any[]).map(json => LessonItem.fromJson(json)),\r\n    };\r\n    return new LearningGoalCategory(lessonCategoryObjectList);\r\n  }\r\n  static empty() {\r\n    return new LearningGoalCategory({\r\n      category: Category.empty(),\r\n      isCompleted: false,\r\n      lessons: [],\r\n    });\r\n  }\r\n}\r\n","import { ILearningGoal } from '@domain/knowledge/I-learning-goal';\r\nimport pick from 'lodash-es/pick';\r\n\r\nclass MockTestTemplate {\r\n  id: string;\r\n  name: string;\r\n\r\n  constructor({ id, name }: { id: string; name: string }) {\r\n    this.id = id;\r\n    this.name = name;\r\n  }\r\n\r\n  static fromJson(dataObject: any): MockTestTemplate {\r\n    return new MockTestTemplate(pick(dataObject, ['id', 'name']));\r\n  }\r\n\r\n  static empty() {\r\n    return new MockTestTemplate({ id: '', name: '' });\r\n  }\r\n}\r\n\r\nclass LearningGoal implements ILearningGoal {\r\n  id: string;\r\n  name: string;\r\n  progress: number;\r\n  maxTopic?: number;\r\n  minTopic?: number;\r\n  canSelectTopic: boolean;\r\n  mockTestTemplates: MockTestTemplate[];\r\n  totalQuestions: number;\r\n  duration: number;\r\n\r\n  constructor({\r\n    id,\r\n    name,\r\n    progress,\r\n    maxTopic,\r\n    minTopic,\r\n    canSelectTopic,\r\n    mockTestTemplates,\r\n    totalQuestions,\r\n    duration,\r\n  }: {\r\n    id: string;\r\n    name: string;\r\n    progress: number;\r\n    maxTopic?: number;\r\n    minTopic?: number;\r\n    canSelectTopic: boolean;\r\n    mockTestTemplates: MockTestTemplate[];\r\n    totalQuestions?: number;\r\n    duration?: number;\r\n  }) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.progress = progress;\r\n    this.maxTopic = maxTopic ?? undefined;\r\n    this.minTopic = minTopic ?? undefined;\r\n    this.canSelectTopic = canSelectTopic;\r\n    this.mockTestTemplates = mockTestTemplates;\r\n    this.totalQuestions = totalQuestions ?? 0;\r\n    this.duration = duration ?? 0;\r\n  }\r\n\r\n  checked = false;\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  static fromJson(dataObject: any): LearningGoal {\r\n    const _ = pick(dataObject, [\r\n      'id',\r\n      'name',\r\n      'progress',\r\n      'maxTopic',\r\n      'minTopic',\r\n      'canSelectTopic',\r\n      'mockTestTemplates',\r\n      'totalQuestions',\r\n      'duration',\r\n    ]);\r\n    _.id = dataObject['id'].toString();\r\n    _.progress = dataObject['progress'] ?? 0;\r\n    _.minTopic = dataObject['min_topic_numb'] ?? 0;\r\n    _.maxTopic = dataObject['max_topic_numb'] ?? 0;\r\n    _.canSelectTopic = dataObject['allow_select'] ?? false;\r\n    _.mockTestTemplates = dataObject['mock_test_templates'].map((mockTestTemplateJson: any) =>\r\n      MockTestTemplate.fromJson(mockTestTemplateJson)\r\n    );\r\n    _.totalQuestions = dataObject['numb_questions'] ?? 0;\r\n    _.duration = dataObject['mock_test_duration'] ?? 0;\r\n    return new LearningGoal(_);\r\n  }\r\n\r\n  static empty() {\r\n    return new LearningGoal({ id: '', name: '', progress: 0, canSelectTopic: false, mockTestTemplates: [] });\r\n  }\r\n\r\n  toJson() {\r\n    const result: any = {\r\n      id: this.id,\r\n      name: this.name,\r\n      progress: this.progress,\r\n    };\r\n    if (this.maxTopic) {\r\n      result.maxTopic = this.maxTopic;\r\n    }\r\n    if (this.minTopic) {\r\n      result.minTopic = this.minTopic;\r\n    }\r\n    return result;\r\n  }\r\n}\r\n// StudentLearningGoal json example: {\r\n//   \"id\": 97,\r\n//   \"name\": \"Kiểm tra 1 tiết\",\r\n//   \"program_name\": \"English 12\",\r\n//   \"complete_percentage\": 0,\r\n//   \"ordinal_number\": 2\r\n// }\r\nclass StudentLearningGoal {\r\n  id: string;\r\n  name: string;\r\n  programName: string;\r\n  subjectId: string;\r\n  completePercentage: number;\r\n  order: number;\r\n\r\n  constructor({\r\n    id,\r\n    name,\r\n    programName,\r\n    completePercentage,\r\n    order,\r\n    subjectId,\r\n  }: {\r\n    id: string;\r\n    name: string;\r\n    programName: string;\r\n    completePercentage: number;\r\n    order: number;\r\n    subjectId: string;\r\n  }) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.programName = programName;\r\n    this.completePercentage = completePercentage;\r\n    this.order = order;\r\n    this.subjectId = subjectId;\r\n  }\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  static fromJson(dataObject: any): StudentLearningGoal {\r\n    const _ = pick(dataObject, ['id', 'name', 'programName', 'completePercentage', 'order', 'subjectId']);\r\n    _.id = dataObject['id'].toString();\r\n    _.completePercentage = dataObject['complete_percentage'] ?? 0;\r\n    _.order = dataObject['ordinal_number'];\r\n    _.subjectId = dataObject['subject_id'] != undefined ? dataObject['subject_id'].toString() : '1';\r\n    _.programName = dataObject['program_name'] ?? '';\r\n\r\n    return new StudentLearningGoal(_);\r\n  }\r\n\r\n  static empty() {\r\n    return new StudentLearningGoal({\r\n      id: '',\r\n      name: '',\r\n      programName: '',\r\n      completePercentage: 0,\r\n      order: 0,\r\n      subjectId: '',\r\n    });\r\n  }\r\n\r\n  toJson() {\r\n    return {\r\n      id: this.id,\r\n      name: this.name,\r\n      programName: this.programName,\r\n      completePercentage: this.completePercentage,\r\n      order: this.order,\r\n      subjectId: this.subjectId,\r\n    };\r\n  }\r\n\r\n  isEmpty() {\r\n    return this.id === '';\r\n  }\r\n}\r\n\r\nexport { LearningGoal, StudentLearningGoal, MockTestTemplate };\r\n","import { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport ILessonService from '@domain/knowledge/i-lesson-service';\r\nimport { serverApi } from '@infrastructure/auth/interceptor';\r\nimport { MockTestItem } from '@infrastructure/test/test-content';\r\nimport { Submission, TestReviewHtml } from '@share-utils/data';\r\nimport { Observable, catchError, map } from 'rxjs';\r\nimport { DBHelper } from '../helper/helper';\r\nimport { LearningGoalPath } from './learning-goal-path';\r\nimport { LearningPoint, LessonGroup } from './lesson';\r\nimport { Program } from './program';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class LessonService implements ILessonService {\r\n  getLearningGoalMockTest(learningGoalId: string) {\r\n    return this.http.get<LearningGoalPath>(`${serverApi()}/students/learning_goal/${learningGoalId}/mock_tests`).pipe(\r\n      // return this.http.get<MockTestItem[]>(`${serverApi()}/students/programs`).pipe(\r\n      catchError(DBHelper.handleError('GET lesson_list', [])),\r\n      map((res: any) => {\r\n        // res = {\r\n        //   \"data\": [\r\n        //     {\r\n        //       \"id\": 1,\r\n        //       \"created_date\": \"2023-01-01 15:50:45\",\r\n        //       \"status\": \"learning_path_deactivated\",\r\n        //       \"score\": 8\r\n        //     },\r\n        //     {\r\n        //       \"id\": 6,\r\n        //       \"created_date\": \"2023-01-10 10:53:20\",\r\n        //       \"status\": \"learning_path_deactivated\",\r\n        //       \"score\": 8\r\n        //     },\r\n        //     {\r\n        //       \"id\": 12,\r\n        //       \"created_date\": \"2023-01-12 10:53:20\",\r\n        //       \"status\": \"learning_path_activated\",\r\n        //       \"score\": 3\r\n        //     },\r\n        //     {\r\n        //       \"id\": 68,\r\n        //       \"created_date\": \"2023-03-15 10:53:20\",\r\n        //       \"status\": \"mock_test_submitted\",\r\n        //       \"score\": 6\r\n        //     },\r\n        //     {\r\n        //       \"id\": 100,\r\n        //       \"created_date\": \"2023-04-02 10:53:20\",\r\n        //       \"status\": \"mock_test_submitted\",\r\n        //       \"score\": 6\r\n        //     },\r\n        //     {\r\n        //       \"id\": 101,\r\n        //       \"created_date\": \"2023-04-02 11:53:20\",\r\n        //       \"status\": \"new\"\r\n        //     },\r\n        //     {\r\n        //       \"id\": 102,\r\n        //       \"created_date\": \"2023-04-02 12:53:20\",\r\n        //       \"status\": \"new\"\r\n        //     }\r\n        //   ]\r\n        // }\r\n        const result = res['data'].map((item: any, i: number) => MockTestItem.fromJson(item, i));\r\n        return result;\r\n      })\r\n    );\r\n  }\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getList(learningGoalId: string): Observable<LearningGoalPath> {\r\n    return this.http.get<LearningGoalPath>(`${serverApi()}/students/learning_goal/${learningGoalId}/lessons`).pipe(\r\n      // return this.http.get<LearningGoalPath>(`${serverApi()}/students/programs').pipe(\r\n      catchError(DBHelper.handleError('GET lesson_list', [])),\r\n      map((data: any) => {\r\n        // if (data['new_user']) {\r\n        //   return Error('new_user');\r\n        // }\r\n        // data = {\r\n        //   complete_percentage: '65',\r\n        //   categories: [\r\n        //     {\r\n        //       category_id: 1,\r\n        //       category_name: 'Thi Toán THPT Quốc gia',\r\n        //       completed: false,\r\n        //       lesson_list: [\r\n        //         {\r\n        //           id: 'c88bf3d931b812d21001',\r\n        //           name: 'Tổ hợp - Xác suất',\r\n        //           new: false,\r\n        //         },\r\n        //         {\r\n        //           id: 'c88bf3d931b812d21002',\r\n        //           name: 'Cấp số cộng - Cấp số nhân',\r\n        //           new: false,\r\n        //         },\r\n        //         {\r\n        //           id: 'c88bf3d931b812d21003',\r\n        //           name: 'Hình học không gian (khoảng cách - góc)',\r\n        //           new: false,\r\n        //         },\r\n        //         {\r\n        //           id: 'c88bf3d931b812d21004',\r\n        //           name: 'Hàm số',\r\n        //           new: false,\r\n        //         },\r\n        //         {\r\n        //           id: 'c88bf3d931b812d21005',\r\n        //           name: 'Mũ - Logarit',\r\n        //           new: false,\r\n        //         },\r\n        //         {\r\n        //           id: 'c88bf3d931b812d21006',\r\n        //           name: 'Hình học không gian (bài toán thể tích)',\r\n        //           new: false,\r\n        //         },\r\n        //         {\r\n        //           id: 'c88bf3d931b812d21007',\r\n        //           name: 'Lesson 7',\r\n        //           new: false,\r\n        //         },\r\n        //         {\r\n        //           id: 'c88bf3d931b812d21008',\r\n        //           name: 'Lesson 8',\r\n        //           new: false,\r\n        //         },\r\n        //         {\r\n        //           id: 'c88bf3d931b812d21009',\r\n        //           name: 'Lesson 9',\r\n        //           new: false,\r\n        //         },\r\n        //         {\r\n        //           id: 'c88bf3d931b812d21010',\r\n        //           name: 'Lesson 10',\r\n        //           new: false,\r\n        //         },\r\n        // {\r\n        //   id: 'c88bf3d931b812d21011',\r\n        //   name: 'Lesson 11',\r\n        //   new: false,\r\n        // },\r\n        // {\r\n        //   id: 'c88bf3d931b812d21012',\r\n        //   name: 'Lesson 12',\r\n        //   new: false,\r\n        // },\r\n        // {\r\n        //   id: 'c88bf3d931b812d21013',\r\n        //   name: 'Lesson 13',\r\n        //   new: true,\r\n        //   lesson_percentage: 65,\r\n        // },\r\n        //       ],\r\n        //     },\r\n        //   ],\r\n        // };\r\n        return LearningGoalPath.fromJson(data);\r\n      })\r\n    );\r\n  }\r\n\r\n  getDetail(id: string): Observable<LessonGroup> {\r\n    return this.http.get<LessonGroup>(`${serverApi()}/lesson/${id}`).pipe(\r\n      // catchError(DBHelper.handleError('GET lesson_detail')),\r\n      map((res: any) => {\r\n        return LessonGroup.fromJson(id, res);\r\n      })\r\n    );\r\n  }\r\n\r\n  submitExercise(lessonId: string, submission: Submission) {\r\n    return this.http\r\n      .post(`${serverApi()}/students/practice_test/lesson/${lessonId}/submit_answers/adaptive`, submission.toJson())\r\n      .pipe(\r\n        catchError(DBHelper.handleError('GET submit_answers', Error)),\r\n        map((res: any) => {\r\n          return res.data;\r\n        })\r\n      );\r\n  }\r\n\r\n  getReviewHtml(lessonId: string) {\r\n    return this.http.get(`${serverApi()}/students/practice_test/lesson/${lessonId}/review`).pipe(\r\n      catchError(DBHelper.handleError('GET practice_test/review', [])),\r\n      map((res: any) => {\r\n        // res = mockTestReviewJson;\r\n        return TestReviewHtml.fromJson(res);\r\n      })\r\n    );\r\n  }\r\n\r\n  getLearningPoint(program: Program): Observable<LearningPoint[]> {\r\n    const params = new HttpParams().set('program_id', program.id);\r\n    return this.http\r\n      .get<LearningPoint[]>(`${serverApi()}/students/self_study_path`, {\r\n        params: params,\r\n      })\r\n      .pipe(\r\n        catchError(DBHelper.handleError('GET self_study_path')),\r\n        map((collection: any) => {\r\n          if (collection.length === 0) return [];\r\n          return collection.map((dataObject: any) => LearningPoint.fromJson(dataObject));\r\n        })\r\n      );\r\n  }\r\n\r\n  createLesson(program: Program, lPDIds: number[]): Observable<string> {\r\n    const params: any = {\r\n      learning_point_difficulty_ids: lPDIds,\r\n      program_id: program.id,\r\n    };\r\n    return this.http.post<LearningPoint[]>(`${serverApi()}/students/update_learning_path`, params).pipe(\r\n      catchError(DBHelper.handleError('GET update_learning_path')),\r\n      map((collection: any) => {\r\n        return '';\r\n      })\r\n    );\r\n  }\r\n\r\n  activateLearningPath(mockTestId: string): Observable<string> {\r\n    // next: data => {\r\n    return this.http\r\n      .post<LearningPoint[]>(`${serverApi()}/students/mock_test/${mockTestId}/activate_learning_path`, {})\r\n      .pipe(\r\n        catchError(DBHelper.handleError('GET activate_learning_path')),\r\n        map((collection: any) => {\r\n          return '';\r\n        })\r\n      );\r\n    // },\r\n    // });\r\n  }\r\n}\r\n","import { pick } from 'lodash-es';\r\nimport { ILearningPath } from '../../domain/knowledge/i-learning-path';\r\nimport { ILearningPoint } from '../../domain/knowledge/i-learning-point';\r\nimport { ILesson, ILessonCategory, ILessonGroup, ILessonItem } from '../../domain/knowledge/i-lesson';\r\nimport { Category } from './category';\r\nimport { Program } from './program';\r\nimport { Topic } from './topic';\r\n\r\nclass LessonItem implements ILessonItem {\r\n  id: string;\r\n  name: string;\r\n  isNew: boolean;\r\n  progress?: number;\r\n\r\n  constructor({ id, isNew, name, progress }: { id: string; isNew: boolean; name: string; progress?: number }) {\r\n    this.id = id;\r\n    this.isNew = isNew;\r\n    this.name = name;\r\n    this.progress = progress;\r\n  }\r\n\r\n  static fromJson(dataObject: any): LessonItem {\r\n    const _ = pick(dataObject, ['name', 'id', 'isNew', 'progress']);\r\n    _.isNew = dataObject['new'] ?? false;\r\n    _.progress = dataObject['lesson_percentage'];\r\n    return new LessonItem(_);\r\n  }\r\n\r\n  static waiting(): LessonItem {\r\n    return new LessonItem({ id: '-1', isNew: false, name: 'NEW' });\r\n  }\r\n\r\n  static complete(): LessonItem {\r\n    return new LessonItem({ id: '-2', isNew: false, name: 'COMPLETE' });\r\n  }\r\n}\r\n\r\nclass LearningPath implements ILearningPath {\r\n  isCompleted: boolean;\r\n  lessonList: LessonItem[];\r\n  program: Program;\r\n\r\n  constructor({\r\n    isCompleted,\r\n    lessonList,\r\n    program,\r\n  }: {\r\n    isCompleted: boolean;\r\n    lessonList: LessonItem[];\r\n    program: Program;\r\n  }) {\r\n    this.isCompleted = isCompleted;\r\n    this.lessonList = lessonList;\r\n    this.program = program;\r\n  }\r\n\r\n  static fromJson(dataObject: any): LearningPath {\r\n    const _ = pick(dataObject, ['completed', 'isCompleted', 'learning_point_difficulty_id', 'lessonList', 'program']);\r\n    _.isCompleted = _.completed;\r\n    return new LearningPath(_);\r\n  }\r\n\r\n  static completed(program: Program, data: any[]): LearningPath {\r\n    return new LearningPath({\r\n      isCompleted: true,\r\n      lessonList: data.length === 0 ? [] : data.map((item: any) => LessonItem.fromJson({ dataObject: item })),\r\n      program: program,\r\n    });\r\n  }\r\n}\r\n\r\nclass LearningPoint implements ILearningPoint {\r\n  id: string;\r\n  difficultyId: string;\r\n  learningPoint: string;\r\n  topic: Topic;\r\n  lastScore: number;\r\n\r\n  constructor({\r\n    id,\r\n    difficultyId,\r\n    learningPoint,\r\n    topic,\r\n    lastScore,\r\n  }: {\r\n    id: string;\r\n    difficultyId: string;\r\n    learningPoint: string;\r\n    topic: Topic;\r\n    lastScore: number;\r\n  }) {\r\n    this.id = id;\r\n    this.difficultyId = difficultyId;\r\n    this.learningPoint = learningPoint;\r\n    this.topic = topic;\r\n    this.lastScore = lastScore;\r\n  }\r\n\r\n  static fromJson(dataObject: any): LearningPoint {\r\n    const _ = pick(dataObject, [\r\n      'id',\r\n      'learningPoint',\r\n      'learning_point',\r\n      'difficulty_id',\r\n      'difficultyId',\r\n      'topic_name',\r\n      'topic',\r\n      'topic_id',\r\n      'lastScore',\r\n      'latest_score',\r\n    ]);\r\n    _.learningPoint = _.learning_point;\r\n    _.difficultyId = _.difficulty_id;\r\n    _.topic = Topic.fromJson({\r\n      id: _.topic_id,\r\n      name: _.topic_name,\r\n    });\r\n    _.lastScore = _.latest_score ?? -1;\r\n    return new LearningPoint(_);\r\n  }\r\n}\r\n\r\nclass LessonGroup implements ILessonGroup {\r\n  id: string;\r\n  lessonCategories: LessonCategory[];\r\n  constructor({ id, lessonCategories }: { id: string; lessonCategories: LessonCategory[] }) {\r\n    this.id = id;\r\n    this.lessonCategories = lessonCategories;\r\n  }\r\n  static fromJson(id: string, dataObjects: any[]): LessonGroup {\r\n    // const lessonCategoryObject = dataObjects.map((json) => LessonCategory);\r\n    return new LessonGroup({\r\n      id: id,\r\n      lessonCategories: dataObjects.map(json => LessonCategory.fromJson(json)),\r\n    });\r\n  }\r\n}\r\n\r\nclass LessonCategory implements ILessonCategory {\r\n  category: Category;\r\n  topic: Topic;\r\n  lessons: Lesson[];\r\n  constructor({ category, topic, lessons }: { category: Category; topic: Topic; lessons: Lesson[] }) {\r\n    this.category = category;\r\n    this.lessons = lessons;\r\n    this.topic = topic;\r\n  }\r\n  static fromJson(data: any): LessonCategory {\r\n    const lessonCategoryObjectList = {\r\n      category: {\r\n        id: data['category_id'],\r\n        name: data['category_name'],\r\n      },\r\n      topic: {\r\n        id: data['topic_id'],\r\n        name: data['topic_name'],\r\n      },\r\n      lessons: data['lessons'] as any[],\r\n    };\r\n    return new LessonCategory({\r\n      category: Category.fromJson(lessonCategoryObjectList.category),\r\n      topic: Topic.fromJson(lessonCategoryObjectList.topic),\r\n      lessons: lessonCategoryObjectList.lessons.map(json => Lesson.fromJson(json)),\r\n    });\r\n  }\r\n  static empty() {\r\n    return new LessonCategory({\r\n      category: Category.empty(),\r\n      topic: Topic.empty(),\r\n      lessons: [],\r\n    });\r\n  }\r\n}\r\n\r\nclass Lesson implements ILesson {\r\n  id: string;\r\n  name: string;\r\n  content: string;\r\n  learningPointId: string;\r\n  learningPointDifficultyId: string;\r\n  difficultyLevel: number;\r\n\r\n  constructor({\r\n    id,\r\n    name,\r\n    content,\r\n    learningPointId,\r\n    difficultyLevel,\r\n    learningPointDifficultyId,\r\n  }: {\r\n    id: string;\r\n    name: string;\r\n    content: string;\r\n    learningPointId: string;\r\n    difficultyLevel: number;\r\n    learningPointDifficultyId: string;\r\n  }) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.content = content;\r\n    this.learningPointId = learningPointId;\r\n    this.learningPointDifficultyId = learningPointDifficultyId;\r\n    this.difficultyLevel = difficultyLevel;\r\n  }\r\n\r\n  static fromJson(data: any): Lesson {\r\n    const _ = pick(data, ['id', 'name', 'content', 'learningPointId', 'difficultyLevel', 'learningPointDifficultyId']);\r\n    _.learningPointId = data['learning_point_id'].toString();\r\n    _.learningPointDifficultyId = data['learning_point_difficulty_id'].toString();\r\n    _.difficultyLevel = data['difficulty_level'];\r\n    return new Lesson(_);\r\n  }\r\n\r\n  static empty() {\r\n    return new Lesson({\r\n      id: '',\r\n      name: '',\r\n      content: '',\r\n      learningPointId: '',\r\n      difficultyLevel: 0,\r\n      learningPointDifficultyId: '',\r\n    });\r\n  }\r\n\r\n  isEmpty() {\r\n    return this.id === '';\r\n  }\r\n}\r\n\r\nexport { LessonItem, LessonGroup, LessonCategory, Lesson, LearningPoint, LearningPath };\r\n","import { pick } from 'lodash-es';\r\nimport { IProgram } from '../../domain/knowledge/i-program';\r\nimport { LearningGoal } from './learning-goal';\r\n\r\nclass Program implements IProgram {\r\n  id: string;\r\n  name: string;\r\n  subjectId: string;\r\n  learningGoal?: LearningGoal;\r\n\r\n  constructor({\r\n    id,\r\n    name,\r\n    subjectId,\r\n    learningGoal,\r\n  }: {\r\n    id: string;\r\n    name: string;\r\n    subjectId: string;\r\n    learningGoal?: LearningGoal;\r\n  }) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.subjectId = subjectId;\r\n    this.learningGoal = learningGoal ?? LearningGoal.empty();\r\n  }\r\n\r\n  static empty() {\r\n    return new Program({ id: '', name: '', subjectId: '' });\r\n  }\r\n\r\n  static fromJson(dataObject: any): Program {\r\n    const _ = pick(dataObject, ['id', 'name', 'subject_id', 'subjectId', 'learningGoal']);\r\n    _.id = _.id.toString();\r\n    _.subjectId = _.subject_id.toString();\r\n    _.learningGoal = dataObject['learning_goal_id'] ? LearningGoal.fromJson({ id: dataObject['learning_goal_id'], name: dataObject['learning_goal_name'] ?? '' }) : LearningGoal.empty();\r\n    return new Program(_);\r\n  }\r\n\r\n  toJson() {\r\n    return {\r\n      id: this.id,\r\n      name: this.name,\r\n      subject_id: this.subjectId,\r\n    };\r\n  }\r\n\r\n  isNotEmpty() {\r\n    return this.id != '';\r\n  }\r\n  isEmpty() {\r\n    return this.id == '';\r\n  }\r\n}\r\n\r\nexport { Program };\r\n\r\n","import { ITopic } from '../../domain/knowledge/i-topic';\r\n\r\nexport class Topic implements ITopic {\r\n  id: string;\r\n  name: string;\r\n  checked = false;\r\n\r\n  constructor({ id, name }: { id: string; name: string }) {\r\n    this.id = id;\r\n    this.name = name;\r\n  }\r\n\r\n  static empty(): Topic {\r\n    return new Topic({ id: '', name: '' });\r\n  }\r\n\r\n  static fromJson(json: any): Topic {\r\n    return new Topic({ 'id': json.id.toString(), 'name': json.name });\r\n  }\r\n}\r\n","import { Overlay, OverlayRef } from '@angular/cdk/overlay';\r\nimport { ComponentPortal } from '@angular/cdk/portal';\r\nimport { Injectable } from '@angular/core';\r\nimport { LoadingComponent } from '../presentation/share-components/loading/loading.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class LoadingOverlayService {\r\n  private overlayRef: OverlayRef;\r\n  _isActive = false;\r\n\r\n  constructor(private overlay: Overlay) {\r\n    this.overlayRef = this.overlay.create();\r\n  }\r\n\r\n  public show() {\r\n    if (this._isActive) return;\r\n    // Returns an OverlayRef (which is a PortalHost)\r\n    if (!this.overlayRef) {\r\n      this.overlayRef = this.overlay.create();\r\n    }\r\n\r\n    // Create ComponentPortal that can be attached to a PortalHost\r\n    const spinnerOverlayPortal = new ComponentPortal(LoadingComponent);\r\n    this.overlayRef.attach(spinnerOverlayPortal); // Attach ComponentPortal to PortalHost\r\n    this._isActive = true;\r\n  }\r\n\r\n  public hide() {\r\n    if (!this._isActive) return;\r\n    if (this.overlayRef) {\r\n      this.overlayRef.detach();\r\n    }\r\n    this._isActive = false;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { NavigationExtras } from '@angular/router';\r\nimport { RedirectAfterLogin } from '../../domain/navigation/i-redirect';\r\nimport { AppPaths } from '../../presentation/routes';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class NavigationService {\r\n  paths: AppPaths;\r\n  constructor() {\r\n    this.paths = new AppPaths();\r\n  }\r\n\r\n  getRouteAfterLogin(redirectString: string): [string, NavigationExtras | undefined] {\r\n    switch (redirectString) {\r\n      case RedirectAfterLogin[RedirectAfterLogin.HomePage]:\r\n        return [this.paths.home.path, undefined];\r\n      case RedirectAfterLogin[RedirectAfterLogin.LearningPath]:\r\n        return [this.paths.learningPath.path, undefined];\r\n      case RedirectAfterLogin[RedirectAfterLogin.DiagnosticTest]:\r\n        return [this.paths.classProgram.path, undefined];\r\n      case RedirectAfterLogin[RedirectAfterLogin.MockTest]:\r\n        return [this.paths.mockTest.path, undefined];\r\n      case RedirectAfterLogin[RedirectAfterLogin.ReferralMockTest]:\r\n        return [this.paths.mockTestTest.path, undefined];\r\n      case RedirectAfterLogin[RedirectAfterLogin.HomeAppTutorial]:\r\n        return [this.paths.home.path, { queryParams: { tutorial: true } }];\r\n      default:\r\n        return [this.paths.home.path, undefined];\r\n    }\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { AngularFireMessaging, SERVICE_WORKER } from '@angular/fire/compat/messaging';\r\nimport { Observable, map } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class NotificationService {\r\n  messages!: Observable<any>;\r\n  constructor(private messaging: AngularFireMessaging, private http: HttpClient) {\r\n    this.messages = messaging.messages;\r\n    this.messages.pipe(map(message => console.log(message)));\r\n  }\r\n}\r\n\r\nexport const notificationServiceProvider = {\r\n  provide: SERVICE_WORKER,\r\n  useFactory: () =>\r\n    (typeof navigator !== 'undefined' &&\r\n      navigator.serviceWorker?.register('firebase-messaging-sw.js', { scope: '__' })) ||\r\n    undefined,\r\n};\r\n","import IBalance from '@domain/order/i-balance';\r\nimport { formattedPrice } from '../../utils/formats';\r\n\r\nexport default class Balance implements IBalance {\r\n  value: number;\r\n  formatedValue: string;\r\n  constructor(value: number) {\r\n    this.value = value;\r\n    this.formatedValue = formattedPrice(this.value);\r\n  }\r\n  static empty() {\r\n    return new Balance(0);\r\n  }\r\n}\r\n","import IInventory from \"@domain/order/i-inventory\";\r\nimport pick from \"lodash-es/pick\";\r\n\r\nexport default class Inventory implements IInventory {\r\n  mockTest: number;\r\n  subscription: number;\r\n  constructor({ mockTest, subscription }: { mockTest: number, subscription: number }) {\r\n    this.mockTest = mockTest;\r\n    this.subscription = subscription;\r\n  }\r\n\r\n  static empty() { return new Inventory({ mockTest: 0, subscription: 0 }); }\r\n\r\n  static fromJson(dataObject: any): Inventory {\r\n    const _ = pick(dataObject, ['mock_test', 'mockTest', 'subscription']);\r\n    _.mockTest = _.mock_test;\r\n    return new Inventory(_);\r\n  }\r\n\r\n  private toTime(totalhours: number) {\r\n    const days = Math.floor(totalhours / 24);\r\n    const hours = totalhours % 24;\r\n    const roundedHours = Math.floor(hours);\r\n    const minutes = Math.floor((hours - roundedHours) * 60);\r\n    if (totalhours == 0) return '0 phút';\r\n    return `Còn ${days > 0 ? ` ${days} ngày` : ''}${roundedHours > 0 ? ` ${roundedHours} giờ` : ''}${minutes > 0 ? ` ${minutes} phút` : ''}`;\r\n  }\r\n\r\n  getTime() {\r\n    return this.toTime(this.subscription);\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport IOrderServicce from '@domain/order/i-order-service';\r\nimport { serverApi } from '@infrastructure/auth/interceptor';\r\nimport { DBHelper } from '@infrastructure/helper/helper';\r\nimport { catchError, map } from 'rxjs';\r\nimport Balance from './balance';\r\nimport Inventory from './inventory';\r\nimport { Package } from './package';\r\nimport { Transaction, TransactionList } from './transaction';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class OrderService implements IOrderServicce {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getInventories() {\r\n    return this.http.get(`${serverApi()}/students/inventories`).pipe(\r\n      catchError(DBHelper.handleError('GET getInventories', {})),\r\n      map((res: any) => {\r\n        if (res.data === undefined) return Inventory.empty();\r\n        return Inventory.fromJson(res.data);\r\n      })\r\n    );\r\n  }\r\n\r\n  getBalance() {\r\n    return this.http.get(`${serverApi()}/students/balance`).pipe(\r\n      catchError(DBHelper.handleError('GET getBalance', 0)),\r\n      map((res: any) => {\r\n        if (res.data === undefined || typeof parseInt(res.data.balance) != 'number') return Balance.empty();\r\n        return new Balance(parseInt(res.data.balance));\r\n      })\r\n    );\r\n  }\r\n\r\n  getTransaction() {\r\n    return this.http.get(`${serverApi()}/students/transactions`).pipe(\r\n      catchError(DBHelper.handleError('GET getTransaction', [])),\r\n      map((res: any) => {\r\n        // res = {\r\n        //   \"data\": [\r\n        //     {\r\n        //       \"id\": 3,\r\n        //       \"quantity\": 2,\r\n        //       \"amount\": \"-200000.0\",\r\n        //       \"package_name\": \"Mock Test (special promotion)\",\r\n        //       \"created_at\": \"2022-11-11T12:44:07.010Z\"\r\n        //     },\r\n        //     {\r\n        //       \"id\": 2,\r\n        //       \"quantity\": 1,\r\n        //       \"amount\": \"10000000.0\",\r\n        //       \"package_name\": \"Nạp tiền\",\r\n        //       \"created_at\": \"2022-11-11T12:21:38.564Z\"\r\n        //     }\r\n        //   ],\r\n        //   \"total\": 3\r\n        // };\r\n        if (res.data === undefined || res.data.length === 0) return TransactionList.empty();\r\n        // const collection = res.data;\r\n        const collection = res.data;\r\n        return new TransactionList({\r\n          total: res.total,\r\n          list: collection.map((dataObject: any) => Transaction.fromJson(dataObject)),\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  getPackages() {\r\n    return this.http.get<Package[]>(`${serverApi()}/students/packages`).pipe(\r\n      catchError(DBHelper.handleError('GET getPackages', [])),\r\n      map((res: any) => {\r\n        if (res.data === undefined || res.data.length == 0) return [];\r\n        return res.data.map((dataObject: any) => Package.fromJson(dataObject));\r\n      })\r\n    );\r\n  }\r\n\r\n  orderPackage(packageId: string, quantity: number) {\r\n    const params: any = {\r\n      id: packageId,\r\n      quantity: quantity,\r\n    };\r\n    return this.http.post(`${serverApi()}/students/packages/order`, params).pipe(\r\n      // catchError(DBHelper.handleError('POST orderPackage')),\r\n      map((res: any) => {\r\n        return res;\r\n        //   if (res.success) return 'OK';\r\n        //   return '';\r\n      })\r\n    );\r\n  }\r\n\r\n  getFreeTrial() {\r\n    const params: any = {};\r\n    return this.http.get(`${serverApi()}/students/gifts/request_free_subscription`);\r\n  }\r\n}\r\n","import pick from 'lodash-es/pick';\r\nimport { formattedPrice } from '../../utils/formats';\r\n\r\nclass Package {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  discount: Discount;\r\n  limit: number;\r\n  price: number;\r\n  formatedSalePrice: string;\r\n  salePrice: number;\r\n  formattedPrice: string;\r\n  items: PackageItem[];\r\n\r\n  constructor({\r\n    id,\r\n    name,\r\n    description,\r\n    discount,\r\n    limit,\r\n    items,\r\n    price,\r\n    salePrice,\r\n  }: {\r\n    id: string;\r\n    name: string;\r\n    description: string;\r\n    discount: Discount;\r\n    limit: number;\r\n    items: PackageItem[];\r\n    price: number;\r\n    salePrice: number;\r\n  }) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.description = description;\r\n    this.discount = discount;\r\n    this.limit = limit;\r\n    this.items = items;\r\n    this.price = price;\r\n    this.formattedPrice = formattedPrice(this.price);\r\n    this.salePrice = salePrice;\r\n    this.formatedSalePrice = formattedPrice(this.salePrice);\r\n  }\r\n\r\n  static fromJson(dataObject: any): Package {\r\n    const _ = pick(dataObject, ['id', 'name', 'description', 'discount', 'limit', 'items', 'price', 'salePrice']);\r\n    _.discount = Discount.fromJson(dataObject);\r\n    _.price = parseInt(_.price);\r\n    _.limit = dataObject['limit'] ?? 99;\r\n    _.salePrice = parseInt(dataObject['sale_price']);\r\n    _.items = dataObject['package_items'].map((itemObject: any) => PackageItem.fromJson(itemObject));\r\n    return new Package(_);\r\n  }\r\n}\r\n\r\nenum DiscountType {\r\n  amount,\r\n  percentage,\r\n}\r\n\r\nclass Discount {\r\n  type: DiscountType;\r\n  amount: number;\r\n  constructor({ type, amount }: { type: DiscountType; amount: number }) {\r\n    this.type = type;\r\n    this.amount = amount;\r\n  }\r\n  static fromJson(dataObject: any): Discount {\r\n    const _ = pick(dataObject, ['type', 'amount']);\r\n    _.type = DiscountType[dataObject['discount_type']];\r\n    _.amount = dataObject['discount_amount'];\r\n    return new Discount(_);\r\n  }\r\n}\r\n\r\nenum PackageServiceType {\r\n  mock_test,\r\n  subscription,\r\n  tutor_advice,\r\n}\r\n\r\nclass PackageItem {\r\n  id: string;\r\n  service: PackageService;\r\n  constructor({ id, service }: { id: string; service: PackageService }) {\r\n    this.id = id;\r\n    this.service = service;\r\n  }\r\n  static fromJson(dataObject: any): PackageItem {\r\n    const _ = pick(dataObject, ['id', 'service']);\r\n    _.id = String(_.id);\r\n    _.service = PackageService.fromJson(dataObject);\r\n    return new PackageItem(_);\r\n  }\r\n}\r\n\r\nclass PackageService {\r\n  type: PackageServiceType;\r\n  name: string;\r\n  amount: number;\r\n  constructor({ type, name, amount }: { type: PackageServiceType; name: string; amount: number }) {\r\n    this.type = type;\r\n    this.name = name;\r\n    this.amount = amount;\r\n  }\r\n  static fromJson(dataObject: any): PackageService {\r\n    const _ = pick(dataObject, ['type', 'name', 'amount']);\r\n    _.type = PackageServiceType[dataObject['service_type']];\r\n    _.name = dataObject['service_type_text'];\r\n    _.amount = dataObject['service_amount'];\r\n    return new PackageService(_);\r\n  }\r\n}\r\n\r\nexport { Package, PackageItem, PackageService, PackageServiceType, Discount, DiscountType };\r\n","import { formattedDate, formattedPrice } from '@utils/formats';\r\nimport pick from 'lodash-es/pick';\r\n\r\nexport class Transaction {\r\n  id: string;\r\n  quantity: number;\r\n  amount: number;\r\n  packageName: string;\r\n  createdAt: Date;\r\n  constructor({\r\n    id,\r\n    quantity,\r\n    amount,\r\n    packageName,\r\n    createdAt,\r\n  }: {\r\n    id: string;\r\n    quantity: number;\r\n    amount: number;\r\n    packageName: string;\r\n    createdAt: Date;\r\n  }) {\r\n    this.id = id;\r\n    this.quantity = quantity;\r\n    this.amount = amount;\r\n    this.packageName = packageName;\r\n    this.createdAt = createdAt;\r\n  }\r\n\r\n  static fromJson(data: any): Transaction {\r\n    const _ = pick(data, ['id', 'quantity', 'amount', 'packageName', 'createdAt']);\r\n    _.id = String(data['id']);\r\n    _.packageName = data['package_name'];\r\n    _.createdAt = new Date(data['created_at']);\r\n\r\n    return new Transaction(_);\r\n  }\r\n\r\n  static empty() {\r\n    return new Transaction({ id: '', quantity: 0, amount: 0, packageName: '', createdAt: new Date() });\r\n  }\r\n\r\n  formatedTime() {\r\n    return formattedDate(this.createdAt);\r\n  }\r\n\r\n  formatedAmount() {\r\n    return formattedPrice(this.amount);\r\n  }\r\n}\r\n\r\nexport class TransactionList {\r\n  total: number;\r\n  list: Transaction[];\r\n  constructor({ total, list }: { total: number; list: Transaction[] }) {\r\n    this.total = total;\r\n    this.list = list;\r\n  }\r\n  static empty() {\r\n    return new TransactionList({ total: 0, list: [] as Transaction[] });\r\n  }\r\n}\r\n","import { IMockTestItem, MockTestStatus } from '@domain/knowledge/i-mock-test';\r\n// import { environment } from '@environments/environment';\r\nimport { formattedDate } from '@utils/formats';\r\nimport { pick } from 'lodash-es';\r\n// import {\r\n//   IAnswer,\r\n//   IAnswerResult,\r\n//   IAnswerReview,\r\n//   IQuestion,\r\n//   ITestContent,\r\n//   ITestResult,\r\n//   TestType,\r\n// } from '../../domain/knowledge/i-test';\r\n// import { Category } from '../knowledge/category';\r\n// import { Topic } from '../knowledge/topic';\r\n\r\n// class TestContent implements ITestContent {\r\n//   id: string;\r\n//   questions: Question[];\r\n//   done: boolean;\r\n//   status: MockTestStatus = MockTestStatus.new;\r\n//   constructor({\r\n//     id,\r\n//     content,\r\n//     done,\r\n//     status,\r\n//   }: {\r\n//     id: string;\r\n//     content: Question[];\r\n//     done: boolean;\r\n//     status: MockTestStatus;\r\n//   }) {\r\n//     this.id = id;\r\n//     this.questions = content;\r\n//     this.done = done;\r\n//     this.status = status;\r\n//   }\r\n//   static fromJson(dataObject: any): TestContent {\r\n//     const _ = pick(dataObject, ['id', 'content', 'test_id', 'data', 'done', 'status']);\r\n//     _.id = _.test_id ?? '';\r\n//     _.content = [];\r\n//     _.content = _.data !== undefined ? _.data.map((questionObject: any) => Question.fromJson(questionObject)) : [];\r\n//     _.status = MockTestStatus[dataObject['status'] as keyof typeof MockTestStatus];\r\n\r\n//     return new TestContent(_);\r\n//   }\r\n\r\n//   static empty(): TestContent {\r\n//     return new TestContent({ id: '', content: [], done: false, status: MockTestStatus.new });\r\n//   }\r\n// }\r\n\r\n// class Question implements IQuestion {\r\n//   id: string;\r\n//   content: string;\r\n//   category: Category;\r\n//   topic: Topic;\r\n//   answers: Answer[];\r\n\r\n//   constructor({\r\n//     id,\r\n//     content,\r\n//     answers,\r\n//     category,\r\n//     topic,\r\n//   }: {\r\n//     id: string;\r\n//     content: string;\r\n//     answers: Answer[];\r\n//     category: Category;\r\n//     topic: Topic;\r\n//   }) {\r\n//     this.id = id;\r\n//     this.content = content;\r\n//     this.answers = answers;\r\n//     this.category = category;\r\n//     this.topic = topic;\r\n//   }\r\n\r\n//   static fromJson(dataObject: any): Question {\r\n//     const _ = pick(dataObject, [\r\n//       'id',\r\n//       'content',\r\n//       'answers',\r\n//       'answer_keys',\r\n//       'category_name',\r\n//       'category_id',\r\n//       'topic_name',\r\n//       'topic_id',\r\n//       'category',\r\n//       'topic',\r\n//     ]);\r\n//     _.id = (_.id as number).toString();\r\n//     _.answers = [];\r\n//     _.answers = _.answer_keys.map((answerObject: any) => Answer.fromJson(answerObject));\r\n//     _.category = Category.fromJson({\r\n//       id: _.category_id,\r\n//       name: _.category_name,\r\n//     });\r\n//     _.topic = Topic.fromJson({ id: _.topic_id, name: _.topic_name });\r\n//     return new Question(_);\r\n//   }\r\n// }\r\n\r\n// class Answer implements IAnswer {\r\n//   id: string;\r\n//   order: number;\r\n//   value: string;\r\n//   content: string;\r\n//   constructor({ id, order, value, content }: { id: string; order: number; value: string; content: string }) {\r\n//     this.id = id;\r\n//     this.order = order;\r\n//     this.value = value;\r\n//     this.content = content;\r\n//   }\r\n\r\n//   static fromJson(dataObject: any): Answer {\r\n//     const _ = pick(dataObject, ['id', 'order', 'value', 'content']);\r\n//     _.id = (_.id as number).toString();\r\n//     _.value = (_.value as number).toString();\r\n//     return new Answer(_);\r\n//   }\r\n// }\r\n\r\n// class AnswerResult implements IAnswerResult {\r\n//   categories: { [key: string]: number };\r\n//   topics: { [key: string]: number };\r\n//   score: number;\r\n//   maxScore: { [key: string]: number };\r\n//   topicWrongQuestions: { [key: string]: Array<string> };\r\n//   constructor({\r\n//     categories,\r\n//     topics,\r\n//     score,\r\n//     maxScore,\r\n//     topicWrongQuestions,\r\n//   }: {\r\n//     categories: { [key: string]: number };\r\n//     topics: { [key: string]: number };\r\n//     score: number;\r\n//     maxScore: { [key: string]: number };\r\n//     topicWrongQuestions: { [key: string]: Array<string> };\r\n//   }) {\r\n//     this.categories = categories;\r\n//     this.topics = topics;\r\n//     this.score = score;\r\n//     this.maxScore = maxScore;\r\n//     this.topicWrongQuestions = topicWrongQuestions;\r\n//   }\r\n// }\r\n\r\n// class AnswerReview implements IAnswerReview {\r\n//   selectedAnswers: string[];\r\n//   rightAnswers: string[];\r\n//   constructor({ selectedAnswers, rightAnswers }: { selectedAnswers: string[]; rightAnswers: string[] }) {\r\n//     this.selectedAnswers = selectedAnswers;\r\n//     this.rightAnswers = rightAnswers;\r\n//   }\r\n// }\r\n\r\n// class TestResult implements ITestResult {\r\n//   score: number;\r\n//   result: AnswerResult;\r\n//   review: AnswerReview;\r\n//   ordinalNumber: number;\r\n//   type: TestType;\r\n//   shareReferral?: string;\r\n\r\n//   constructor({\r\n//     score,\r\n//     result,\r\n//     review,\r\n//     type,\r\n//     ordinalNumber,\r\n//   }: {\r\n//     score: number;\r\n//     result: AnswerResult;\r\n//     review: AnswerReview;\r\n//     type: TestType;\r\n//     ordinalNumber: number;\r\n//   }) {\r\n//     this.score = score;\r\n//     this.result = result;\r\n//     this.review = review;\r\n//     this.ordinalNumber = ordinalNumber;\r\n//     this.type = type;\r\n//   }\r\n\r\n//   static fromJson({\r\n//     total_score,\r\n//     result,\r\n//     review,\r\n//     type,\r\n//     order_number,\r\n//     mocktest_referral,\r\n//   }: {\r\n//     total_score: number;\r\n//     result: any[];\r\n//     review: any;\r\n//     type: string;\r\n//     order_number: number;\r\n//     mocktest_referral?: string;\r\n//   }): TestResult {\r\n//     const maxScore = result.reduce((pre: { [key: string]: number }, element: { [key: string]: any }) => {\r\n//       pre[element['category_id'].toString()] = (pre[element['category_id'].toString()] ?? 0) + 1;\r\n//       return pre;\r\n//     }, {});\r\n//     maxScore['total'] = result.length;\r\n//     const categoryToScoreMap: { [key: string]: number } = result.reduce(\r\n//       (pre: { [key: string]: number }, element: { [key: string]: any }) => {\r\n//         pre[element['category_id'].toString()] = (pre[element['category_id'].toString()] ?? 0) + element['score'];\r\n//         return pre;\r\n//       },\r\n//       {}\r\n//     );\r\n//     const topicToScoreMap: { [key: string]: number } = result\r\n//       // .filter(r => r.score == 1)\r\n//       .reduce((pre: { [key: string]: number }, element: { [key: string]: any }) => {\r\n//         pre[element['topic_id'].toString()] = (pre[element['topic_id'].toString()] ?? 0) + element['score'];\r\n//         return pre;\r\n//       }, {});\r\n//     const topicWrongQuestionMap: { [key: string]: string[] } = result.reduce(\r\n//       (pre: { [key: string]: string[] }, element: { [key: string]: any }) => {\r\n//         if (element['score'] == 0) {\r\n//           pre[element['topic_id'].toString()] = pre[element['topic_id'].toString()] ?? [];\r\n//           pre[element['topic_id'].toString()].push(element['question_id'].toString());\r\n//         }\r\n//         return pre;\r\n//       },\r\n//       {}\r\n//     );\r\n//     const resultScore = result.map(r => r['score']).reduce((pre, current) => pre + current);\r\n\r\n//     const answerResult = new AnswerResult({\r\n//       categories: categoryToScoreMap,\r\n//       topics: topicToScoreMap,\r\n//       maxScore: maxScore,\r\n//       score: resultScore,\r\n//       topicWrongQuestions: topicWrongQuestionMap,\r\n//     });\r\n\r\n//     const answerReview = new AnswerReview({\r\n//       selectedAnswers: review['selected_answer'].map((e: number) => e.toString()),\r\n//       rightAnswers: review['right_answer'].map((e: number) => e.toString()),\r\n//     });\r\n\r\n//     const testResult = new TestResult({\r\n//       score: total_score,\r\n//       result: answerResult,\r\n//       review: answerReview,\r\n//       type: <TestType>TestType[type as keyof typeof TestType],\r\n//       ordinalNumber: order_number,\r\n//     });\r\n\r\n//     if (testResult.type == TestType.Mock) {\r\n//       testResult.shareReferral = mocktest_referral ?? '';\r\n//     }\r\n\r\n//     return testResult;\r\n//   }\r\n\r\n//   isFirst() {\r\n//     return this.ordinalNumber == 1;\r\n//   }\r\n\r\n//   canShare() {\r\n//     return this.type == TestType.Mock && this.shareReferral != '';\r\n//   }\r\n\r\n//   getShareableMockTestLink() {\r\n//     const origin = window.location.hostname == 'localhost' ? 'http://localhost:4200' : environment.origin;\r\n//     return this.type == TestType.Mock ? `${origin}/share-mocktest/${this.shareReferral}` : '';\r\n//   }\r\n// }\r\n\r\nclass MockTestItem implements IMockTestItem {\r\n  id: string;\r\n  createdDate: Date;\r\n  status: MockTestStatus;\r\n  score?: number;\r\n  index?: number;\r\n  constructor({\r\n    id,\r\n    createdDate,\r\n    status,\r\n    score,\r\n    index,\r\n  }: {\r\n    id: string;\r\n    createdDate: Date;\r\n    status: MockTestStatus;\r\n    score?: number;\r\n    index?: number;\r\n  }) {\r\n    this.id = id;\r\n    this.createdDate = createdDate;\r\n    this.status = status;\r\n    this.score = score;\r\n    this.index = index;\r\n  }\r\n  static fromJson(dataObject: any, index?: number): MockTestItem {\r\n    const _ = pick(dataObject, ['id', 'createdDate', 'status', 'score', 'index']);\r\n    _.createdDate = new Date(dataObject['created_date']);\r\n    _.status = MockTestStatus[dataObject['status'] as keyof typeof MockTestStatus];\r\n    _.index = index;\r\n    return new MockTestItem(_);\r\n  }\r\n\r\n  getFormattedDate() {\r\n    return formattedDate(this.createdDate);\r\n  }\r\n}\r\n\r\n// const answerPrefixes = ['A. ', 'B. ', 'C. ', 'D. ', 'E. ', 'F. '];\r\nexport { MockTestItem };\r\n","import { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { LearningGoal } from '@infrastructure/knowledge/learning-goal';\r\nimport { Topic } from '@infrastructure/knowledge/topic';\r\nimport { Observable, catchError, map } from 'rxjs';\r\nimport { serverApi } from '../auth/interceptor';\r\nimport { DBHelper } from '../helper/helper';\r\nimport { Program } from '../knowledge/program';\r\nimport { UserService } from '../user/user.service';\r\n// import { Submission } from './submission';\r\n// import { TestContent, TestResult } from './test-content';\r\n\r\nimport { Exercise, MockTestResult, Submission, TestContent, TestResult, TestReviewHtml } from '@share-utils/data';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class TestService {\r\n  constructor(private http: HttpClient, private userService: UserService) {}\r\n\r\n  getDiagnosticTest(selectedProgram: Program) {\r\n    const params = new HttpParams().set('program_id', selectedProgram.id);\r\n    return this.http.get(`${serverApi()}/test/diagnostic_test`, { params: params }).pipe(\r\n      catchError(DBHelper.handleError('GET diagnostic_test', [])),\r\n      map((dataObject: any) => {\r\n        return TestContent.fromJson(dataObject);\r\n      })\r\n    );\r\n  }\r\n\r\n  getTest(lessonId: string, learningGoalId: string): Observable<TestContent> {\r\n    const params = new HttpParams().set('lesson_id', lessonId).set('learning_goal_id', learningGoalId);\r\n    return this.http.get(`${serverApi()}/test/get_lesson_test`, { params: params }).pipe(\r\n      catchError(DBHelper.handleError('GET get_lesson_test', [])),\r\n      map((dataObject: any) => {\r\n        return TestContent.fromJson(dataObject);\r\n      })\r\n    );\r\n  }\r\n\r\n  getTestResult(type: string, id: string): Observable<TestResult> {\r\n    const params = new HttpParams().set(`${type}_id`, id);\r\n    return this.http.get(`${serverApi()}/test/result`, { params: params }).pipe(\r\n      catchError(DBHelper.handleError('GET get_test_result', [])),\r\n      map((dataObject: any) => {\r\n        return TestResult.fromJson(dataObject);\r\n      })\r\n    );\r\n  }\r\n\r\n  skipTest(): Observable<boolean> {\r\n    return this.http.get(`${serverApi()}/test/skip_diagnostic_test`).pipe(\r\n      catchError(DBHelper.handleError('GET skip_diagnostic_test', Error('Server Error'))),\r\n      map(value => {\r\n        return true;\r\n      })\r\n    );\r\n  }\r\n\r\n  getExercise(lessonId: string): Observable<Exercise> {\r\n    return this.http.get(`${serverApi()}/students/practice_test/get/adaptive_question/${lessonId}`).pipe(\r\n      // catchError(DBHelper.handleError('GET get_lesson_exercise', [])),\r\n      map((dataObject: any) => {\r\n        const result = Exercise.fromJson(dataObject);\r\n        // result.progress = dataObject['lesson_percentage'];\r\n        return result;\r\n      })\r\n    );\r\n  }\r\n\r\n  // submitTest(submission: Submission) {\r\n  //   let params = {\r\n  //     test_id: submission.testId,\r\n  //   };\r\n  //   params = Object.assign(params, submission.toJson());\r\n\r\n  //   return this.http.post(`${serverApi()}/submit_answers`, params).pipe(\r\n  //     catchError(DBHelper.handleError('GET submit_answers', Error('Server Error'))),\r\n  //     map((res: any) => {\r\n  //       return TestResult.fromJson(res);\r\n  //     })\r\n  //   );\r\n  // }\r\n\r\n  submitTest(submission: Submission) {\r\n    console.log(submission.toJson());\r\n    return this.http\r\n      .post(`${serverApi()}/students/mock_tests/${submission.testId}/submit_answers/non_adaptive`, submission.toJson())\r\n      .pipe(\r\n        catchError(DBHelper.handleError('GET submit_answers', Error('Server Error')))\r\n        // map((res: any) => {\r\n        //   return res;\r\n        // })\r\n      );\r\n  }\r\n\r\n  getLearningGoal(selectedProgram: Program): Observable<LearningGoal[]> {\r\n    const params = new HttpParams().set('program_id', selectedProgram.id);\r\n    return (\r\n      this.http\r\n        .get<LearningGoal[]>(`${serverApi()}/students/learning_goal/list`, { params: params })\r\n        // .get<LearningGoal[]>(`${serverApi()}/lesson/list', { params: params })\r\n        .pipe(\r\n          // catchError(DBHelper.handleError('GET getLearningGoals', [])),\r\n          map((collections: any) => {\r\n            // collections = [\r\n            //   {\r\n            //     id: 1,\r\n            //     name: 'Mock Test 3811(old mapping)',\r\n            //     min_topic_numb: 9,\r\n            //     max_topic_numb: 9,\r\n            //     numb_questions: 50,\r\n            //     mock_test_duration: 90,\r\n            //     program_id: 1,\r\n            //     status: 'enabled',\r\n            //     topic_list: '[65, 66, 67, 68, 69, 70, 71, 72, 73]',\r\n            //     created_at: '2023-05-08T06:17:07.704+07:00',\r\n            //     updated_at: '2023-05-18T19:41:11.095+07:00',\r\n            //     allow_select: false,\r\n            //     mock_test_templates: [\r\n            //       {\r\n            //         id: 3811,\r\n            //         name: 'Đề thi mô phỏng do Kyons biên soạn',\r\n            //       },\r\n            //     ],\r\n            //   },\r\n            //   {\r\n            //     id: 3,\r\n            //     name: 'mock test 4278 (Trial Test1)',\r\n            //     min_topic_numb: 9,\r\n            //     max_topic_numb: 9,\r\n            //     numb_questions: 50,\r\n            //     mock_test_duration: 0,\r\n            //     program_id: 1,\r\n            //     status: 'enabled',\r\n            //     topic_list: '[65, 66, 67, 68, 69, 70, 71, 72, 73]',\r\n            //     created_at: '2023-05-08T06:17:07.704+07:00',\r\n            //     updated_at: '2023-05-08T06:17:07.704+07:00',\r\n            //     allow_select: false,\r\n            //     mock_test_templates: [\r\n            //       {\r\n            //         id: 3811,\r\n            //         name: 'Đề thi mô phỏng do Kyons biên soạn',\r\n            //       },\r\n            //       {\r\n            //         id: 3421,\r\n            //         name: 'Đề thi năm 2023',\r\n            //       },\r\n            //     ],\r\n            //   },\r\n            // ];\r\n            if (collections.length == 0) return [];\r\n            return collections.map((dataObject: any) => LearningGoal.fromJson(dataObject));\r\n          })\r\n        )\r\n    );\r\n  }\r\n\r\n  getTopicsOfLearningGoal(learningGoalId: string) {\r\n    const params = new HttpParams().set('learning_goal_id', learningGoalId);\r\n    return this.http.get<Topic[]>(`${serverApi()}/students/learning_goal/details`, { params: params }).pipe(\r\n      catchError(DBHelper.handleError('GET getLearningGoals', [])),\r\n      map((collections: any) => {\r\n        if (collections.length == 0) return [];\r\n        return collections.map((dataObject: any) => Topic.fromJson(dataObject));\r\n      })\r\n    );\r\n  }\r\n\r\n  submitTopics(learningGoalId: string, topicIds: string[], mockTestTemplateId: string) {\r\n    const params = {\r\n      master_id: parseInt(learningGoalId),\r\n      topic_list: topicIds.map(str => parseInt(str)),\r\n      mock_test_template_id: parseInt(mockTestTemplateId),\r\n    };\r\n\r\n    return this.http.post(`${serverApi()}/students/learning_goal/submit`, params).pipe(\r\n      // catchError(DBHelper.handleError('GET submitTopics', Error('Server Error'))),\r\n      map((res: any) => {\r\n        return res['test_id'];\r\n      })\r\n    );\r\n  }\r\n\r\n  getMockTest(testId: string) {\r\n    return (\r\n      this.http\r\n        .get(`${serverApi()}/students/mock_tests/${testId}/questions`)\r\n        // .get(`${serverApi()}/students/learning_goal/list', { params: params })\r\n        .pipe(\r\n          catchError(DBHelper.handleError('GET diagnostic_test', [])),\r\n          map((dataObject: any) => {\r\n            return TestContent.fromJson(dataObject);\r\n          })\r\n        )\r\n    );\r\n  }\r\n\r\n  // getMockTestHtml(testId: string) {\r\n  //   return this.http.get(`${serverApi()}/students/mock_tests/${testId}/questions`).pipe(\r\n  //     // catchError(DBHelper.handleError('GET diagnostic_test', [])),\r\n  //     map((dataObject: any) => {\r\n  //       // dataObject = mockTestJson;\r\n\r\n  //       return TestContentHtml.fromJson(dataObject);\r\n  //     })\r\n  //   );\r\n  // }\r\n\r\n  getShareMockTestInfoFromRef(ref: string) {\r\n    return this.http.get(`${serverApi()}/students/reference/mocktest/${ref}`).pipe(\r\n      map(({ given_name, total_score, learning_goal }: any) => {\r\n        return {\r\n          fromUsername: given_name,\r\n          score: total_score,\r\n          learningGoal: LearningGoal.fromJson(learning_goal),\r\n        };\r\n      })\r\n    );\r\n  }\r\n\r\n  // getMockTestResult(mockTestId: string, learningGoalId: string) {\r\n  //   return this.http\r\n  //     .get(`${serverApi()}/students/learning_goal/${learningGoalId}/mock_tests?mock_test_id=${mockTestId}`)\r\n  //     .pipe(\r\n  //       catchError(DBHelper.handleError('GET subjects_list', [])),\r\n  //       map((res: any) => {\r\n  //         return TestResult.fromJson(res.data);\r\n  //       })\r\n  //     );\r\n  // }\r\n\r\n  getMockTestReviewHtml(mockTestId: string) {\r\n    return this.http.get(`${serverApi()}/students/mock_tests/${mockTestId}/review`).pipe(\r\n      catchError(DBHelper.handleError('GET mock_tests/review', TestReviewHtml.empty())),\r\n      map((res: any) => {\r\n        // res = mockTestReviewJson;\r\n        return TestReviewHtml.fromJson(res);\r\n      })\r\n    );\r\n  }\r\n\r\n  getMockTestResult(mockTestId: string) {\r\n    return this.http.get(`${serverApi()}/students/mock_tests/${mockTestId}`).pipe(\r\n      catchError(DBHelper.handleError('GET mock_tests', MockTestResult.empty())),\r\n      map((res: any) => {\r\n        return MockTestResult.fromJson(res);\r\n      })\r\n    );\r\n  }\r\n\r\n  getProbabilityIndex({\r\n    testId,\r\n    learningGoalId,\r\n  }: {\r\n    testId?: string;\r\n    learningGoalId?: string;\r\n  }): Observable<number | undefined> {\r\n    let queryParams = new HttpParams();\r\n    if (testId != null) {\r\n      queryParams = new HttpParams().set('mock_test_id', testId);\r\n    } else if (learningGoalId != null) {\r\n      queryParams = new HttpParams().set('student_master_learning_goal_id', learningGoalId);\r\n    }\r\n    return this.http.get(`${serverApi()}/students/probability_index`, { params: queryParams }).pipe(\r\n      catchError(DBHelper.handleError('GET subjects_list', [])),\r\n      map((res: any) => {\r\n        if (res.data == null) return undefined;\r\n        return res.data.toFixed(2) as number;\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { serverApi } from '@infrastructure/auth/interceptor';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst DEVICE_ID_KEY = 'device_id';\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class TrackingService {\r\n  public trackingThreshold = 10000;\r\n  _deviceId!: string;\r\n  constructor(private http: HttpClient) {\r\n    const deviceId = localStorage.getItem(DEVICE_ID_KEY);\r\n    if (deviceId == null) {\r\n      this._deviceId = this.generateDeviceId();\r\n      localStorage.setItem(DEVICE_ID_KEY, this._deviceId);\r\n    }\r\n  }\r\n\r\n  init() {\r\n    const deviceId = localStorage.getItem(DEVICE_ID_KEY);\r\n    if (deviceId == null) {\r\n      this._deviceId = this.generateDeviceId();\r\n      localStorage.setItem(DEVICE_ID_KEY, this._deviceId);\r\n    }\r\n    this.resetTracking();\r\n  }\r\n\r\n  updateTrackOnApp() {\r\n    let total = this.getTracking().total;\r\n    if (total == null) {\r\n      this.resetTrackingOnApp();\r\n    } else {\r\n      total += this.trackingThreshold / 1000;\r\n      this.setTrackingOnApp(total);\r\n      this.http\r\n        .post(`${serverApi()}/students/on_app`, {\r\n          on_total: total,\r\n        })\r\n        .subscribe();\r\n    }\r\n  }\r\n\r\n  updateTrackOnLesson(lessonId: string, trackingType: string) {\r\n    const lessonTracking = this.getTrackingLesson(lessonId);\r\n    if (Object.keys(lessonTracking).length === 0 || lessonTracking[trackingType] == null) {\r\n      this.resetTrackingOnLesson(lessonId, trackingType);\r\n    } else {\r\n      lessonTracking[trackingType] = (lessonTracking[trackingType] || 0) + this.trackingThreshold / 1000;\r\n      this.setTrackingOnLesson(lessonId, lessonTracking);\r\n      const updateTracking: any = {\r\n        lesson_id: lessonId,\r\n      };\r\n      updateTracking[trackingType] = lessonTracking[trackingType];\r\n\r\n      this.http.post(`${serverApi()}/students/on_lesson`, updateTracking).subscribe();\r\n    }\r\n  }\r\n\r\n  private setTrackingOnApp(total: number) {\r\n    const tracking = this.getTracking();\r\n    tracking.total = total;\r\n    localStorage.setItem('tracking', JSON.stringify(tracking));\r\n  }\r\n\r\n  private getTracking() {\r\n    return JSON.parse(localStorage.getItem('tracking') || '{}');\r\n  }\r\n\r\n  private getTrackingLesson(lessonId: string) {\r\n    return this.getTracking()[`lesson_${lessonId}`] || {};\r\n  }\r\n\r\n  private setTrackingOnLesson(lessonId: string, trackingLesson: any) {\r\n    const tracking = this.getTracking();\r\n    tracking[`lesson_${lessonId}`] = trackingLesson;\r\n    localStorage.setItem('tracking', JSON.stringify(tracking));\r\n  }\r\n\r\n  getDeviceId() {\r\n    return this._deviceId;\r\n  }\r\n\r\n  private generateDeviceId() {\r\n    return uuidv4();\r\n  }\r\n\r\n  resetTrackingOnApp() {\r\n    const tracking = this.getTracking();\r\n    tracking.total = this.trackingThreshold / 1000;\r\n    localStorage.setItem('tracking', JSON.stringify(tracking));\r\n    this.http\r\n      .post(`${serverApi()}/students/on_app`, {\r\n        on_total: tracking.toJson,\r\n        start: true,\r\n      })\r\n      .subscribe();\r\n  }\r\n\r\n  resetTrackingOnLesson(lessonId: string, trackingType: string) {\r\n    const tracking = this.getTracking();\r\n    const updateTracking: { [key: string]: number } = tracking[`lesson_${lessonId}`] ?? {};\r\n    updateTracking[trackingType] = this.trackingThreshold / 1000;\r\n    tracking[`lesson_${lessonId}`] = updateTracking;\r\n    localStorage.setItem('tracking', JSON.stringify(tracking));\r\n    const params: any = {\r\n      lesson_id: lessonId,\r\n      start: true,\r\n    };\r\n    params[trackingType] = updateTracking[trackingType];\r\n    this.http.post(`${serverApi()}/students/on_lesson`, params).subscribe();\r\n  }\r\n\r\n  resetTracking() {\r\n    localStorage.removeItem('tracking');\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Subject } from '@domain/subject/subject';\r\nimport { serverApi } from '@infrastructure/auth/interceptor';\r\nimport { DBHelper } from '@infrastructure/helper/helper';\r\nimport { LearningGoal, StudentLearningGoal } from '@infrastructure/knowledge/learning-goal';\r\nimport { LearningGoalPath } from '@infrastructure/knowledge/learning-goal-path';\r\nimport { Exercise, MockTestResult, TestContent, TestReviewHtml } from '@share-utils/data';\r\nimport { catchError } from 'rxjs';\r\nimport { LessonGroup } from '../knowledge/lesson';\r\nimport { MockTestItem } from '../test/test-content';\r\nimport learningGoalPath from './data/12_response_get_lesson.json';\r\nimport learningGoalPath2 from './data/12_response_get_lesson_2.json';\r\nimport mickTestItems from './data/13_response_get_mock_test.json';\r\nimport lessonDetail from './data/14_response_get_lesson_details.json';\r\nimport exercises from './data/15_response_get_practice_test_question.json';\r\nimport resultHtml from './data/17_response_submit_incorrect_practice_test.json';\r\nimport studentLearningGoals from './data/1_response_get_subject.json';\r\nimport mockTest from './data/4_response_get_mock_test_question.json';\r\nimport mockTestResult from './data/7_response_get_mock_test_details.json';\r\nimport probabilitiIndex from './data/8_response_get_probability_index.json';\r\nimport probabilitiIndex2 from './data/8_response_get_probability_index_2.json';\r\nimport mockTestReview from './data/9_response_review_mock_test.json';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class TutorialService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  completeTutorial() {\r\n    return this.http\r\n      .put(`${serverApi()}/users/update_info`, { app_tour_completed: true })\r\n      .pipe(catchError(DBHelper.handleError('GET update_info', [])));\r\n  }\r\n  getLearningGoalLessons2(): LearningGoalPath {\r\n    return LearningGoalPath.fromJson(learningGoalPath2);\r\n  }\r\n  getProbabilityIndex2(): number {\r\n    return probabilitiIndex2.data;\r\n  }\r\n  submitExercise() {\r\n    return resultHtml.data;\r\n  }\r\n  getExercise(): Exercise {\r\n    return Exercise.fromJson(exercises);\r\n  }\r\n  getDetail(): LessonGroup {\r\n    return LessonGroup.fromJson('tutorial', lessonDetail);\r\n  }\r\n  getLearningGoalLessons(): LearningGoalPath {\r\n    return LearningGoalPath.fromJson(learningGoalPath);\r\n  }\r\n  getLearningGoalMockTest(): import('../test/test-content').MockTestItem[] {\r\n    return mickTestItems['data'].map((item: any, i: number) => MockTestItem.fromJson(item, i));\r\n  }\r\n  getStudentLearningGoal(): StudentLearningGoal {\r\n    return StudentLearningGoal.fromJson(studentLearningGoals[0]);\r\n  }\r\n  getMockTestReview() {\r\n    return TestReviewHtml.fromJson(mockTestReview);\r\n  }\r\n  getMockTestResult(): import('@share-utils/data').MockTestResult {\r\n    return MockTestResult.fromJson(mockTestResult);\r\n  }\r\n  getSelectedLearningGoal(): LearningGoal {\r\n    return LearningGoal.fromJson(studentLearningGoals[0]);\r\n  }\r\n  getMockTest(): import('@share-utils/data').TestContent {\r\n    return TestContent.fromJson(mockTest);\r\n  }\r\n  getStudentLearningGoals() {\r\n    return studentLearningGoals.map((json: any) => StudentLearningGoal.fromJson(json));\r\n  }\r\n  getSubjects() {\r\n    return studentLearningGoals.map((json: any) => Subject.fromJson(json));\r\n  }\r\n  getLearningGoals() {\r\n    return studentLearningGoals.map((json: any) => LearningGoal.fromJson(json));\r\n  }\r\n  getProbabilityIndex() {\r\n    return probabilitiIndex.data;\r\n  }\r\n}\r\n","import { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { User } from '@domain/user/user';\r\nimport { serverApi } from '@infrastructure/auth/interceptor';\r\nimport { catchError, firstValueFrom, map } from 'rxjs';\r\nimport { environment } from '../../../environments/environment';\r\nimport { DBHelper } from '../helper/helper';\r\n\r\nexport const CURRENT_USER = 'current' + environment.name + 'User';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class UserService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  async updateCurrentUser(uuid: string, email: string) {\r\n    const params = new HttpParams().set('id', uuid);\r\n    const promise = new Promise((resolve, reject) => {\r\n      firstValueFrom(\r\n        this.http\r\n          .get(`${serverApi()}/auth/get_user`, {\r\n            params: params,\r\n          })\r\n          .pipe(catchError(DBHelper.handleError('GET get_user', null)))\r\n      ).then(\r\n        (res: any) => {\r\n          // Success\r\n          res['uuid'] = uuid;\r\n          window.localStorage.setItem(CURRENT_USER, JSON.stringify(res));\r\n          resolve(true);\r\n        },\r\n        msg => {\r\n          // Error\r\n          reject(msg);\r\n        }\r\n      );\r\n    });\r\n    return promise;\r\n  }\r\n\r\n  getUsername() {\r\n    const currentUser = JSON.parse(window.localStorage.getItem(CURRENT_USER) ?? '{}');\r\n    return currentUser.first_name;\r\n  }\r\n  getUserType() {\r\n    const currentUser = JSON.parse(window.localStorage.getItem(CURRENT_USER) ?? '{}');\r\n    return currentUser.study_type;\r\n  }\r\n\r\n  getUserId() {\r\n    const currentUser = JSON.parse(window.localStorage.getItem(CURRENT_USER) ?? '{}');\r\n    return currentUser.uuid;\r\n  }\r\n\r\n  removeCurrentUser() {\r\n    window.localStorage.removeItem(CURRENT_USER);\r\n  }\r\n\r\n  getUserInfo(userId: string) {\r\n    const params = new HttpParams().set('id', userId);\r\n    return this.http.get(`${serverApi()}/auth/get_user`, { params: params }).pipe(\r\n      catchError(DBHelper.handleError('GET get_user', null)),\r\n      map((res: any) => {\r\n        return User.fromJson(res);\r\n      })\r\n    );\r\n  }\r\n\r\n  setForceCompleteTutorial(forceComplete: boolean = true) {\r\n    window.localStorage.setItem('forceCompleteTutorial', forceComplete.toString());\r\n  }\r\n}\r\n","import { ClipboardModule } from '@angular/cdk/clipboard';\r\nimport { CdkTableModule } from '@angular/cdk/table';\r\nimport { CdkTreeModule } from '@angular/cdk/tree';\r\nimport { NgModule } from '@angular/core';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS, MatFormFieldDefaultOptions } from '@angular/material/form-field';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\n\r\nconst appearance: MatFormFieldDefaultOptions = {\r\n  appearance: 'outline',\r\n};\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  exports: [\r\n    // A11yModule,\r\n    // CdkAccordionModule,\r\n    ClipboardModule,\r\n    // CdkStepperModule,\r\n    CdkTableModule,\r\n    CdkTreeModule,\r\n    // DragDropModule,\r\n    // MatAutocompleteModule,\r\n    // MatBadgeModule,\r\n    // MatBottomSheetModule,\r\n    // MatButtonModule,\r\n    // MatButtonToggleModule,\r\n    // MatCardModule,\r\n    // MatCheckboxModule,\r\n    // MatChipsModule,\r\n    // MatStepperModule,\r\n    // MatDatepickerModule,\r\n    // MatDialogModule,\r\n    MatDividerModule,\r\n    // MatExpansionModule,\r\n    // MatGridListModule,\r\n    // MatIconModule,\r\n    // MatInputModule,\r\n    // MatListModule,\r\n    // MatMenuModule,\r\n    // MatNativeDateModule,\r\n    MatPaginatorModule,\r\n    // MatProgressBarModule,\r\n    // MatProgressSpinnerModule,\r\n    // MatRadioModule,\r\n    // MatRippleModule,\r\n    // MatSelectModule,\r\n    // MatSidenavModule,\r\n    // MatSliderModule,\r\n    // MatSlideToggleModule,\r\n    // MatSnackBarModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    // MatToolbarModule,\r\n    MatTooltipModule,\r\n    // MatTreeModule,\r\n    // OverlayModule,\r\n    // PortalModule,\r\n    // ScrollingModule,\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: MAT_FORM_FIELD_DEFAULT_OPTIONS,\r\n      useValue: appearance,\r\n    },\r\n  ],\r\n})\r\nexport class MaterialModule {}\r\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'student-home-svg',\r\n  templateUrl: './home.component.svg',\r\n  styleUrls: ['./home.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HomeSvgComponent {\r\n  @Input() color = '#94A3B8';\r\n}\r\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 32 32\" fill=\"none\">\r\n  <path\r\n    d=\"M1.33331 16.0547L16 2.66663L30.6666 16.0547\"\r\n    [attr.stroke]=\"color\"\r\n    stroke-width=\"2\"\r\n    stroke-linecap=\"round\"\r\n    stroke-linejoin=\"round\"\r\n  />\r\n  <path\r\n    d=\"M28 14.6666V30.6666H4V14.6666\"\r\n    [attr.stroke]=\"color\"\r\n    stroke-width=\"2\"\r\n    stroke-linecap=\"round\"\r\n    stroke-linejoin=\"round\"\r\n  />\r\n  <path d=\"M20 20H12V30.6667H20V20Z\" stroke=\"#94A3B8\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\r\n</svg>\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, Input, NgModule } from '@angular/core';\r\nimport { HomeSvgComponent } from '../home/home.component';\r\nimport { TutorSvgComponent } from '../tutor/tutor.component';\r\n\r\n@Component({\r\n  selector: 'student-svg',\r\n  templateUrl: './svg.component.html',\r\n  styleUrls: ['./svg.component.scss'],\r\n})\r\nexport class SvgComponent {\r\n  @Input() color = '#94A3B8';\r\n  @Input() name = 'home';\r\n}\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  exports: [SvgComponent],\r\n  declarations: [SvgComponent, HomeSvgComponent, TutorSvgComponent],\r\n  providers: [],\r\n})\r\nexport class SvgModule { }\r\n","<student-home-svg\r\n  *ngIf=\"name === 'home'\"\r\n  [color]=\"color\"\r\n></student-home-svg>\r\n<student-tutor-svg\r\n  *ngIf=\"name === 'tutor'\"\r\n  [color]=\"color\"\r\n></student-tutor-svg>\r\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'student-tutor-svg',\r\n  templateUrl: './tutor.component.svg',\r\n  styleUrls: ['./tutor.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class TutorSvgComponent {\r\n  @Input() color = '#94A3B8';\r\n}\r\n","<svg\r\n  class=\"svg hover:stroke-orange\"\r\n  xmlns=\"http://www.w3.org/2000/svg\"\r\n  width=\"24\"\r\n  height=\"24\"\r\n  viewBox=\"0 0 24 24\"\r\n  fill=\"none\"\r\n>\r\n  <path\r\n    d=\"M17.9906 10.1924C17.3348 13.94 14.9363 16.7508 12.06 16.7508C9.18364 16.7508 6.79451 13.94 6.13867 10.1924\"\r\n    [attr.stroke]=\"color\"\r\n    stroke-width=\"2\"\r\n    stroke-linecap=\"round\"\r\n    stroke-linejoin=\"round\"\r\n  />\r\n  <path\r\n    d=\"M17.0818 3.32471C15.8264 7.65325 10.4578 10.4546 6.13867 10.2672\"\r\n    [attr.stroke]=\"color\"\r\n    stroke-width=\"2\"\r\n    stroke-linecap=\"round\"\r\n    stroke-linejoin=\"round\"\r\n  />\r\n  <path\r\n    d=\"M15.03 6.73511C15.7353 8.12768 16.7476 9.34186 17.9907 10.286\"\r\n    [attr.stroke]=\"color\"\r\n    stroke-width=\"2\"\r\n    stroke-linecap=\"round\"\r\n    stroke-linejoin=\"round\"\r\n  />\r\n  <path\r\n    d=\"M6.13875 10.2861C2.79397 3.65273 12.06 -2.29668 17.2506 3.09995C18.8995 5.02999 18.7496 8.24361 17.9907 10.2861\"\r\n    [attr.stroke]=\"color\"\r\n    stroke-width=\"2\"\r\n    stroke-linecap=\"round\"\r\n    stroke-linejoin=\"round\"\r\n  />\r\n  <path\r\n    d=\"M14.7207 16.3386V17.9126L13.4043 19.0182L12.088 20.1238L9.38965 17.9126V16.3386\"\r\n    [attr.stroke]=\"color\"\r\n    stroke-width=\"2\"\r\n    stroke-linecap=\"round\"\r\n    stroke-linejoin=\"round\"\r\n  />\r\n  <path\r\n    d=\"M9.45534 17.978L4.77077 19.7582C4.5176 19.8551 4.28848 20.0058 4.09923 20.2C3.90997 20.3941 3.76509 20.6269 3.67458 20.8825L3 22.9999H12.1255\"\r\n    [attr.stroke]=\"color\"\r\n    stroke-width=\"2\"\r\n    stroke-linecap=\"round\"\r\n    stroke-linejoin=\"round\"\r\n  />\r\n  <path\r\n    d=\"M14.7957 17.978L19.4803 19.7582C19.7334 19.8551 19.9626 20.0058 20.1518 20.2C20.3411 20.3941 20.4859 20.6269 20.5765 20.8825L21.2698 22.9999H12.1255\"\r\n    [attr.stroke]=\"color\"\r\n    stroke-width=\"2\"\r\n    stroke-linecap=\"round\"\r\n    stroke-linejoin=\"round\"\r\n  />\r\n</svg>\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\r\n\r\nimport { AuthService } from '../infrastructure/auth/auth.service';\r\nimport { NavigationService } from '../infrastructure/navigation/navigation.service';\r\nimport { UserService } from '../infrastructure/user/user.service';\r\nimport { AppPaths } from './routes';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(\r\n    private router: Router,\r\n    private authenticationService: AuthService,\r\n    private userService: UserService,\r\n    navService: NavigationService\r\n  ) {\r\n    this.paths = navService.paths;\r\n  }\r\n\r\n  paths: AppPaths;\r\n\r\n  async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n    if (window.localStorage.getItem('dev')) return true;\r\n    const token = this.authenticationService.getToken();\r\n    const username = await this.userService.getUsername();\r\n    if (token !== '') {\r\n      // check if route is restricted by role\r\n      // if (route.data.roles && route.data.roles.indexOf(currentUser.role) === -1) {\r\n      //     // role not authorised so redirect to home page\r\n      //     this.router.navigate(['/']);\r\n      //     return false;\r\n      // }\r\n\r\n      // authorised so return true\r\n      return true;\r\n    }\r\n\r\n    // not logged in so redirect to login page with the return url\r\n    this.router.navigate([this.paths.signIn.path], {\r\n      queryParams: { returnUrl: state.url },\r\n    });\r\n    return false;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'student-layout-default',\r\n  templateUrl: './layout-default.component.html',\r\n})\r\nexport class LayoutDefaultComponent { }\r\n","<div class=\"flex flex-col w-full h-full\">\r\n  <student-tracking></student-tracking>\r\n  <student-top-menu></student-top-menu>\r\n  <router-outlet></router-outlet>\r\n</div>\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'student-layout-default',\r\n  templateUrl: './layout-full.component.html',\r\n})\r\nexport class LayoutFullComponent { }\r\n","<student-tracking></student-tracking>\r\n<router-outlet></router-outlet>\r\n","import { Component, HostBinding, OnInit } from '@angular/core';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport Balance from '@infrastructure/order/balance';\r\nimport Inventory from '@infrastructure/order/inventory';\r\nimport { OrderService } from '@infrastructure/order/order.service';\r\nimport { TransactionList } from '@infrastructure/order/transaction';\r\nimport { AppPaths } from '@presentation/routes';\r\n// import { AppPaths } from '@presentation/routes';\r\n\r\n@Component({\r\n  templateUrl: './account-page.component.html',\r\n  styleUrls: ['./account-page.component.scss'],\r\n})\r\nexport class AccountPageComponent implements OnInit {\r\n  @HostBinding('class') class = 'w-full h-full';\r\n\r\n  paths: AppPaths;\r\n  constructor(private orderService: OrderService, navService: NavigationService) {\r\n    this.paths = navService.paths;\r\n  }\r\n\r\n  activeTab = 0;\r\n  hasError = '';\r\n  inventory: Inventory = Inventory.empty();\r\n  balance: Balance = Balance.empty();\r\n  transactions = TransactionList.empty();\r\n  activities = [];\r\n\r\n  private toTime(totalhours: number) {\r\n    const days = Math.floor(totalhours / 24);\r\n    const hours = totalhours % 24;\r\n    const minutes = Math.floor((hours - Math.floor(hours)) * 60);\r\n    const roundedHours = Math.floor(hours);\r\n    return `Còn ${days > 0 ? ` ${days} ngày` : ''}${roundedHours > 0 ? ` ${roundedHours} giờ` : ''}${\r\n      minutes > 0 ? ` ${minutes} phút` : ''\r\n    }`;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.orderService.getInventories().subscribe({\r\n      next: (inventory: Inventory) => {\r\n        this.inventory = inventory;\r\n      },\r\n      error: err => {\r\n        // TODO: Define error resposes\r\n        this.hasError = 'Có lỗi, vui lòng thử lại';\r\n      },\r\n    });\r\n    this.orderService.getBalance().subscribe({\r\n      next: (balance: Balance) => {\r\n        this.balance = balance;\r\n      },\r\n      error: err => {\r\n        // TODO: Define error resposes\r\n        this.hasError = 'Có lỗi, vui lòng thử lại';\r\n      },\r\n    });\r\n  }\r\n\r\n  getTransactions() {\r\n    this.activeTab = 1;\r\n    if (this.transactions.list.length == 0) {\r\n      this.orderService.getTransaction().subscribe({\r\n        next: (res: any) => {\r\n          this.transactions = res;\r\n        },\r\n        error: err => {\r\n          // TODO: Define error resposes\r\n          this.hasError = 'Có lỗi, vui lòng thử lại';\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  getActivities() {\r\n    this.activeTab = 2;\r\n  }\r\n\r\n  onSelectTab(newValue: string) {\r\n    this.activeTab = parseInt(newValue); // don't forget to update the model here\r\n    // ... do other stuff here ...\r\n  }\r\n}\r\n","<div class=\"flex w-full h-full justify-center p-6 md:p-11\">\r\n  <div class=\"flex flex-col w-full max-w-[894px] gap-6\">\r\n    <h2>Tài khoản Kyons</h2>\r\n    <div class=\"flex flex-col md:flex-row gap-6 items-start\">\r\n      <div class=\"hidden md:flex w-1/4 bg-white rounded-md p-6\">\r\n        <ul class=\"flex flex-col gap-2 w-full\">\r\n          <li\r\n            (click)=\"activeTab = 0\"\r\n            class=\"flex w-full items-center justify-between h-6 cursor-pointer\"\r\n            [ngClass]=\"{'text-lightBlue-1': activeTab === 0}\"\r\n          >\r\n            <span>Tài khoản của bạn</span>\r\n            <i class=\"icon-ArrowRight text-orange text-[20px]\"></i>\r\n          </li>\r\n          <li class=\"border-b border-blueGrey-300\"></li>\r\n          <li\r\n            (click)=\"getTransactions()\"\r\n            class=\"flex w-full items-center justify-between h-6 cursor-pointer\"\r\n            [ngClass]=\"{'text-lightBlue-1': activeTab === 1}\"\r\n          >\r\n            <span>Lịch sử giao dịch</span>\r\n            <i class=\"icon-ArrowRight text-orange text-[20px]\"></i>\r\n          </li>\r\n          <!-- <li class=\"border-b border-blueGrey-300\"></li>\r\n          <li\r\n            (click)=\"getActivities()\"\r\n            class=\"flex w-full items-center justify-between h-6 cursor-pointer\"\r\n            [ngClass]=\"{'text-lightBlue-1': activeTab === 2}\"\r\n          >\r\n            <span>Lịch sử sử dụng</span>\r\n            <i class=\"icon-ArrowRight text-orange text-[20px]\"></i>\r\n          </li> -->\r\n        </ul>\r\n      </div>\r\n      <select class=\"w-full md:hidden\" [(ngModel)]=\"activeTab\" (ngModelChange)=\"onSelectTab($event)\">\r\n        <option value=\"0\"><span>Tài khoản của bạn</span></option>\r\n        <option value=\"1\"><span>Lịch sử giao dịch</span></option>\r\n      </select>\r\n      <div *ngIf=\"activeTab === 0\" class=\"flex flex-col gap-2 w-full md:w-3/4 bg-white rounded-md p-6\">\r\n        <h5>Tài khoản của bạn</h5>\r\n        <div class=\"flex items-center justify-between w-full\">\r\n          <strong>Tiền trong tài khoản</strong>\r\n          <strong>{{ balance.formatedValue }}</strong>\r\n        </div>\r\n        <div class=\"flex items-center justify-between w-full rounded-lg border border-blueGrey-300 p-2 gap-6\">\r\n          <span>Bài kiểm tra</span>\r\n          <span class=\"flex-1\"></span>\r\n          <strong>{{ inventory.mockTest }} bài</strong>\r\n          <a class=\"btn btn-small\" [routerLink]=\"paths.package.path\">Mua thêm</a>\r\n        </div>\r\n        <div class=\"flex items-center justify-between w-full rounded-lg border border-blueGrey-300 p-2 gap-6\">\r\n          <span>Gói học tập</span>\r\n          <span class=\"flex-1\"></span>\r\n          <strong>{{ inventory.getTime() }}</strong>\r\n          <a class=\"btn btn-small\" [routerLink]=\"paths.package.path\">Mua thêm</a>\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"activeTab === 1\" class=\"flex flex-col gap-6 w-full md:w-3/4 bg-white rounded-md p-6\">\r\n        <h5>Lịch sử giao dịch</h5>\r\n        <div class=\"flex flex-col gap-2\">\r\n          <div class=\"flex flex-col gap-2\" *ngFor=\"let tran of transactions.list; index as i\">\r\n            <hr *ngIf=\"i !== 0\" class=\"text-blueGrey-300\" />\r\n            <div class=\"flex flex-row justify-between w-full\">\r\n              <div class=\"\">\r\n                <span>{{ tran.packageName }}</span\r\n                ><br />\r\n                <span>{{ tran.formatedTime() }}</span>\r\n              </div>\r\n              <strong>{{ tran.formatedAmount() }}</strong>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"activeTab === 2\" class=\"flex flex-col gap-6 md:w-3/4 bg-white rounded-md p-6\">\r\n        <h5>Dịch vụ của bạn</h5>\r\n        <div class=\"flex flex-col gap-2\">\r\n          <!-- <div class=\"flex flex-col gap-2\" *ngFor=\"let tran of activities; index as i\">\r\n            <hr *ngIf=\"i !== 0\" class=\"text-blueGrey-300\" />\r\n            <div class=\"flex flex-row justify-between w-full\">\r\n              <div class=\"\">\r\n                <span>{{ tran.packageName }}</span\r\n                ><br />\r\n                <span>{{ tran.formatedTime() }}</span>\r\n              </div>\r\n              <strong>{{ tran.formatedAmount() }}</strong>\r\n            </div>\r\n          </div> -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'kyons-student-adaptive-test',\r\n  templateUrl: './adaptive-test.component.html',\r\n  styleUrls: ['./adaptive-test.component.scss'],\r\n})\r\nexport class AdaptiveTestComponent {}\r\n","<p>adaptive-test works!</p>\r\n","import { CommonModule } from '@angular/common';\nimport { Component, OnInit, inject } from '@angular/core';\nimport { ActivatedRoute, RouterModule } from '@angular/router';\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\n\nexport enum VerifyPage {\n  verifySuccess = 'verify-success',\n  nonexistentAccount = 'nonexistent-account',\n  expiredLink = 'expired-link',\n}\n\n@Component({\n  standalone: true,\n  imports: [CommonModule, RouterModule],\n  templateUrl: './email-verification.component.html',\n})\nexport class EmailVerificationComponent implements OnInit {\n  route = inject(ActivatedRoute);\n  paths = inject(NavigationService).paths;\n  token = '';\n  type = VerifyPage.verifySuccess;\n  ngOnInit(): void {\n    this.token = this.route.snapshot.params['token'];\n    this.type = this.route.snapshot.url[0].path as VerifyPage;\n  }\n}\n","<div class=\"bg-blueGrey-100 flex items-start justify-center w-full h-screen\">\n  <div class=\"md:w-[454px] flex flex-col items-center justify-start gap-6 py-[90px]\">\n    <img src=\"/assets/images/Resend email.svg\" alt=\"\" />\n    <div class=\"col bg-white rounded-lg p-6 gap-6\">\n      <h4>Email với đường dẫn xác thực đã trên đường tới với bạn rồi nè</h4>\n      <span>Nếu không tìm thấy email, bạn kiểm tra thử mục Spam và quảng cáo xem sao 🤔?</span>\n      <span\n        >Qua 10 phút vẫn không thấy email nào? Liên hệ\n        <a href=\"https://www.facebook.com/KyonsVN\" target=\"_blank\" class=\"text-orange font-bold underline\"\n          >Kyons fanpage</a\n        >\n        để được hỗ trợ kịp thời!</span\n      >\n      <div class=\"col gap-2\">\n        <a [routerLink]=\"paths.signIn.path\" class=\"btn\">Quay lại đăng nhập</a>\n      </div>\n    </div>\n  </div>\n</div>\n","import { CommonModule } from '@angular/common';\r\nimport { AfterViewInit, Component, ElementRef, OnInit, ViewChild, inject } from '@angular/core';\r\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\r\nimport { Promotion } from '@domain/gift/promotion';\r\nimport { GiftService } from '@infrastructure/gift/gift/gift.service';\r\nimport { LoadingOverlayService } from '@infrastructure/loading-overlay.service';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [CommonModule, RouterModule],\r\n  templateUrl: './gift.component.html',\r\n  styleUrls: ['./gift.component.scss'],\r\n})\r\nexport class GiftComponent implements OnInit, AfterViewInit {\r\n  route = inject(ActivatedRoute);\r\n  continue = inject(ActivatedRoute).snapshot.queryParamMap.get('continue') ?? '';\r\n  router = inject(Router);\r\n  giftService = inject(GiftService);\r\n  paths = inject(NavigationService).paths;\r\n  loading = inject(LoadingOverlayService);\r\n  promotion!: Promotion;\r\n  event = this.route.snapshot.paramMap.get('event') ?? '';\r\n\r\n  @ViewChild('canvas') canvas!: ElementRef<HTMLCanvasElement>;\r\n  @ViewChild('spinBG') spinBG!: ElementRef<HTMLImageElement>;\r\n  ctx!: CanvasRenderingContext2D;\r\n  options = [\r\n    'Voucher in 20 ảnh BOFT trị giá 300.000 đồng',\r\n    'Sổ tay SEESAW trị giá 90.000 đồng',\r\n    'Voucher Gongcha trị giá 50.000 đồng',\r\n    'Một cặp Sleeping mask độc quyền từ Kyons trị giá 180.000 đồng',\r\n    'May mắn lần sau',\r\n    'Học bổng của Kyons trị giá 1.000.000 đồng',\r\n  ];\r\n  startAngle = 0;\r\n  arc = Math.PI / (this.options.length / 2);\r\n  spinTimeout!: any;\r\n  // spinArcStart = 10;\r\n  spinTime = 0;\r\n  spinTimeTotal = 0;\r\n  showResult = false;\r\n  spinAngleStart = 0;\r\n  values = [\r\n    'Học bổng của Kyons trị giá 1.000.000 đồng',\r\n    'Sổ tay SEESAW trị giá 90.000 đồng',\r\n    'Voucher Gongcha trị giá 50.000 đồng',\r\n    'Một cặp Sleeping mask độc quyền từ Kyons trị giá 180.000 đồng',\r\n    'Voucher in 20 ảnh BOFT trị giá 300.000 đồng',\r\n    'May mắn lần sau',\r\n  ];\r\n  showGifts = false;\r\n\r\n  ngOnInit(): void {\r\n    this.loading.show();\r\n    this.giftService.getPromotion(this.event).subscribe({\r\n      next: (res: any) => {\r\n        // res = {\r\n        //   is_won: true,\r\n        //   data: [\r\n        //     {\r\n        //       id: 1,\r\n        //       name: 'Sổ tay SEESAW trị giá 90.000 đồng',\r\n        //     },\r\n        //   ],\r\n        //   claim_code: 'AAA',\r\n        // };\r\n        if (res) {\r\n          this.promotion = Promotion.fromJson(res);\r\n        } else {\r\n          this.showResult = true;\r\n        }\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n      },\r\n    });\r\n  }\r\n\r\n  spinStart(): void {\r\n    if (this.spinTime > 0) {\r\n      return;\r\n    }\r\n    this._spin();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.spinBG.nativeElement.onload = () => {\r\n      this._drawRouletteWheel();\r\n      this.loading.hide();\r\n    };\r\n  }\r\n\r\n  _reset() {\r\n    this.startAngle = 0;\r\n    this.arc = Math.PI / (this.options.length / 2);\r\n    this.spinTimeout = null;\r\n    this.spinTime = 0;\r\n    this.spinTimeTotal = 0;\r\n    this.showResult = false;\r\n    this.spinAngleStart = 0;\r\n    this._drawRouletteWheel();\r\n  }\r\n\r\n  _spin() {\r\n    const random: { [key: string]: number } = {\r\n      'Học bổng của Kyons trị giá 1.000.000 đồng': 28,\r\n      'Sổ tay SEESAW trị giá 90.000 đồng': 25,\r\n      'Voucher Gongcha trị giá 50.000 đồng': 24,\r\n      'Một cặp Sleeping mask độc quyền từ Kyons trị giá 180.000 đồng': 23,\r\n      'Voucher in 20 ảnh BOFT trị giá 300.000 đồng': 27,\r\n      'May mắn lần sau': 29,\r\n    };\r\n    // console.log(random);\r\n\r\n    this.spinAngleStart = random[this.promotion.isWon ? this.promotion.gifts[0].name : 'May mắn lần sau'];\r\n    // this.spinAngleStart = random[this.values[1]];\r\n    this.spinTime = 0;\r\n    this.spinTimeTotal = 6 * 1000;\r\n    this._rotateWheel();\r\n  }\r\n\r\n  _drawRouletteWheel() {\r\n    if (this.canvas.nativeElement) {\r\n      const outsideRadius = 200;\r\n      const textRadius = 160;\r\n      const insideRadius = 60;\r\n\r\n      const ctx = this.canvas.nativeElement.getContext('2d');\r\n      if (ctx == null) return;\r\n      this.ctx = ctx;\r\n\r\n      ctx.clearRect(0, 0, 500, 500);\r\n\r\n      ctx.strokeStyle = 'black';\r\n      ctx.lineWidth = 2;\r\n\r\n      ctx.font = 'bold 12px Helvetica, Arial';\r\n\r\n      for (let i = 0; i < this.options.length; i++) {\r\n        const angle = this.startAngle + i * this.arc;\r\n        //ctx.fillStyle = colors[i];\r\n\r\n        ctx.beginPath();\r\n        ctx.arc(250, 250, outsideRadius, angle, angle + this.arc, false);\r\n        ctx.arc(250, 250, insideRadius, angle + this.arc, angle, true);\r\n        ctx.stroke();\r\n        // ctx.fill();\r\n\r\n        ctx.save();\r\n        ctx.shadowOffsetX = -1;\r\n        ctx.shadowOffsetY = -1;\r\n        ctx.shadowBlur = 0;\r\n        ctx.shadowColor = 'rgb(220,220,220)';\r\n        ctx.fillStyle = 'black';\r\n        ctx.translate(\r\n          250 + Math.cos(angle + this.arc / 2) * textRadius,\r\n          250 + Math.sin(angle + this.arc / 2) * textRadius\r\n        );\r\n        ctx.rotate(angle + this.arc / 2 + Math.PI / 2);\r\n        // const text = this.options[i];\r\n        // ctx.fillText(text, -ctx.measureText(text).width / 2, 0);\r\n        ctx.restore();\r\n      }\r\n    }\r\n  }\r\n\r\n  _rotateWheel() {\r\n    this.spinTime += 30;\r\n    if (this.spinTime >= this.spinTimeTotal) {\r\n      this._stopRotateWheel();\r\n      setTimeout(() => {\r\n        this.showResult = true;\r\n      }, 1000);\r\n      return;\r\n    }\r\n    const spinAngle = this.spinAngleStart - _easeOut(this.spinTime, 0, this.spinAngleStart, this.spinTimeTotal);\r\n    this.startAngle += (spinAngle * Math.PI) / 180;\r\n    this.spinBG.nativeElement.style.transform = `rotate(${(this.startAngle * 180) / Math.PI}deg)`;\r\n    this._drawRouletteWheel();\r\n    // _rotateImage(this.spinBG.nativeElement, spinAngle);\r\n    this.spinTimeout = setTimeout(this._rotateWheel.bind(this), 30);\r\n  }\r\n\r\n  _stopRotateWheel() {\r\n    clearTimeout(this.spinTimeout);\r\n    // const degrees = (this.startAngle * 180) / Math.PI + 90;\r\n    this.arc = (this.arc * 180) / Math.PI;\r\n    // const index = Math.floor((360 - (degrees % 360)) / this.arc);\r\n    this.ctx.save();\r\n    // this.ctx.font = 'bold 30px Helvetica, Arial';\r\n    // const text = this.options[index];\r\n    // this.ctx.fillText(text, 250 - this.ctx.measureText(text).width / 2, 250 + 10);\r\n    this.ctx.restore();\r\n  }\r\n}\r\n\r\nfunction _easeOut(t: number, b: number, c: number, d: number) {\r\n  const ts = (t /= d) * t;\r\n  const tc = ts * t;\r\n  return b + c * (tc + -3 * ts + 3 * t);\r\n}\r\n","<div class=\"w-full h-screen overflow-hidden bg-img flex flex-col justify-between md:justify-start md:flex-row\">\r\n  <div class=\"w-full md:w-[40%] relative\">\r\n    <div\r\n      class=\"w-full p-10 md:p-0 md:absolute md:w-[434px] md:top-[100px] md:left-[60px] lg:top-[200px] lg:left-[159px]\"\r\n    >\r\n      <div class=\"col text-white\">\r\n        <h4 class=\"hidden md:block\">Chúc mừng bạn, 1 lượt test nhân phẩm đã được thêm vào giỏ hàng</h4>\r\n        <h6 class=\"md:hidden\">Chúc mừng bạn, 1 lượt test nhân phẩm đã được thêm vào giỏ hàng</h6>\r\n        <span class=\"mt-4\"\r\n          >Có gì đâu mà xịt keo mất 5 giây vậy. Bạn không nhìn lầm đâu, bạn đã nhận được 1 lượt tham gia vòng quay may\r\n          mắn để có cơ hội nhận quà keo lỳ từ Kyons đó!</span\r\n        >\r\n        <button (click)=\"showGifts = true\" class=\"btn !bg-lightBlue-1 !border-lightBlue-1 mt-6\">\r\n          Danh sách quà tặng\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"bg-wheel w-full h-full max-w-[809px] flex justify-center items-end\">\r\n    <div class=\"relative aspect-square w-[100%] md:w-[83%] flex items-center justify-center mb-[13%] md:mb-[7%]\">\r\n      <canvas class=\"absolute w-full z-0\" #canvas width=\"500\" height=\"500\"></canvas>\r\n      <img #spinBG src=\"/assets/images/Spin.svg\" alt=\"\" width=\"544\" height=\"585\" class=\"absolute w-[80%]\" />\r\n      <img src=\"/assets/images/tip.svg\" width=\"40\" alt=\"\" class=\"absolute top-[5%]\" />\r\n      <div\r\n        (click)=\"spinStart()\"\r\n        class=\"bg-orange-gradient rounded-full w-[25%] aspect-square text-white flex items-center justify-center text-3xl relative z-10 shadow-3\"\r\n        [ngClass]=\"{ 'cursor-pointer': spinTime === 0 }\"\r\n      >\r\n        <span *ngIf=\"spinTime === 0\">QUAY</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"showGifts\"\r\n  class=\"fixed w-full h-screen overflow-hidden top-0 left-0 bg-black bg-opacity-50 z-20 flex items-center justify-center\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 w-full md:w-[400px] items-stretch justify-center\">\r\n    <h4 class=\"hidden md:block\">Danh sách quà tặng</h4>\r\n    <h6 class=\"md:hidden\">Danh sách quà tặng</h6>\r\n    <span>Trong trường hợp nhân phẩm tốt, bạn sẽ nhận được 1 trong số các phần quà hấp dẫn sau:</span>\r\n    <ul class=\"list-disc pl-6\">\r\n      <li>Học bổng của Kyons trị giá 1.000.000 đồng</li>\r\n      <li>Voucher in 20 ảnh BOFT trị giá 300.000 đồng</li>\r\n      <li>Một cặp Sleeping mask độc quyền từ Kyons trị giá 180.000 đồng</li>\r\n      <li>Sổ tay SEESAW trị giá 90.000 đồng trị giá 90.000 đồng</li>\r\n      <li>Voucher Gongcha trị giá 50.000 đồng</li>\r\n    </ul>\r\n    <button (click)=\"showGifts = false\" class=\"btn\">Đóng</button>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"showResult\"\r\n  class=\"fixed w-full h-screen overflow-hidden top-0 left-0 bg-black bg-opacity-50 z-20 flex items-center justify-center\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 w-full md:w-[700px] items-center\">\r\n    <div *ngIf=\"promotion; else noPromo\" class=\"col items-center\">\r\n      <div *ngIf=\"promotion.isWon; else loseTemplate\" class=\"col w-full gap-6 justify-center items-stretch\">\r\n        <img\r\n          *ngIf=\"promotion.gifts[0].name === 'Học bổng của Kyons trị giá 1.000.000 đồng'\"\r\n          class=\"w-[240px] self-center\"\r\n          src=\"/assets/images/scholarship.svg\"\r\n          alt=\"\"\r\n        />\r\n        <img\r\n          *ngIf=\"promotion.gifts[0].name !== 'Học bổng của Kyons trị giá 1.000.000 đồng'\"\r\n          class=\"w-[90px] self-center\"\r\n          src=\"/assets/images/Gifting.svg\"\r\n          alt=\"\"\r\n        />\r\n        <h4 class=\"hidden md:block w-full text-center\">\r\n          Xin chúc mừng, xốp đã nhận được <b class=\"text-orange\">{{ promotion.gifts[0].name }}</b>\r\n        </h4>\r\n        <h5 class=\"md:hidden w-full text-center\">\r\n          Xin chúc mừng, xốp đã nhận được <b class=\"text-orange\">{{ promotion.gifts[0].name }}</b>\r\n        </h5>\r\n        <div class=\"col\">\r\n          <span\r\n            >Mau mau chụp màn hình lại gửi nhóm bạn thân, lần này gửi thêm cho\r\n            <a href=\"https://www.facebook.com/KyonsVN\" target=\"_blank\">Facebook Kyons</a> để được hướng dẫn cách thức\r\n            nhận quà bạn nha!</span\r\n          >\r\n          <span\r\n            >Mã nhận quà của bạn là: <b class=\"text-lightBlue-1\">{{ this.promotion.claimCode }}</b></span\r\n          >\r\n          <span\r\n            >À đừng quên, <b>toàn bộ quà tặng</b> cùng học bổng <b>2 triệu đồng</b> sẽ thuộc về người có số lần làm “Bài\r\n            kiểm tra thử thông minh” nhiều nhất (tính đến 30/06). Mau quay trở lại lộ trình và tiếp tục ôn tập đi bạn\r\n            ơi!</span\r\n          >\r\n        </div>\r\n        <button [routerLink]=\"continue\" class=\"btn w-full\">Ok nha</button>\r\n        <div class=\"\"></div>\r\n      </div>\r\n      <ng-template #loseTemplate>\r\n        <div class=\"col w-full gap-6 justify-center items-stretch\">\r\n          <img class=\"w-[240px] self-center\" src=\"/assets/images/Sorry.svg\" alt=\"\" />\r\n          <h4 class=\"hidden md:block\">Chúng ta không nên buồn và không có gì phải buồn...</h4>\r\n          <h5 class=\"md:hidden\">Chúng ta không nên buồn và không có gì phải buồn...</h5>\r\n          <span>Buồn thì buồn một chút xíu thôi. Xem như nhân phẩm để dành cho kì thi sắp tới bạn nha!</span>\r\n          <span\r\n            >À đừng quên, <b>toàn bộ quà tặng</b> cùng học bổng <b>2 triệu đồng</b> sẽ thuộc về người có số lần làm Bài\r\n            Kiểm Tra Thử Thông Minh nhiều nhất (tính đến 30/06). Mau quay trở lại lộ trình và tiếp tục ôn tập đi bạn\r\n            ơi!</span\r\n          >\r\n          <button [routerLink]=\"continue\" class=\"btn w-full\">Ok nha</button>\r\n          <div class=\"\"></div>\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n    <ng-template #noPromo>\r\n      <div class=\"col w-full gap-6 justify-center items-stretch\">\r\n        <h4 class=\"hidden md:block w-full text-center\">Đã nhận quà</h4>\r\n        <h5 class=\"md:hidden w-full text-center\">Đã nhận quà</h5>\r\n        <span class=\"\">\r\n          Xốp đã lấy quà rồi, vào email kiểm tra lại nha. Nếu vẫn không thấy hãy liên hệ\r\n          <a href=\"https://www.facebook.com/KyonsVN\" target=\"_blank\">Facebook Kyons</a> ngay để được hỗ trợ nhé\r\n        </span>\r\n        <button [routerLink]=\"continue\" class=\"btn w-full\">Ok nha</button>\r\n      </div>\r\n    </ng-template>\r\n  </div>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, HostBinding, OnDestroy, OnInit, inject } from '@angular/core';\r\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\r\nimport { KnowledgeService } from '@infrastructure/knowledge/knowledge.service';\r\nimport { StudentLearningGoal } from '@infrastructure/knowledge/learning-goal';\r\nimport { Program } from '@infrastructure/knowledge/program';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport { TutorialService } from '@infrastructure/tutorials/tutorial-service';\r\nimport { AppPaths } from '@presentation/routes';\r\nimport { LoadingComponent } from '@presentation/share-components/loading/loading.component';\r\nimport { TutorialComponent } from '@share-components';\r\nimport { NgCircleProgressModule } from 'ng-circle-progress';\r\nimport { Subscription, interval } from 'rxjs';\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [CommonModule, RouterModule, LoadingComponent, NgCircleProgressModule, TutorialComponent],\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss'],\r\n})\r\nexport class HomeComponent implements OnInit, OnDestroy {\r\n  paths: AppPaths = inject(NavigationService).paths;\r\n  knowledgeService: KnowledgeService = inject(KnowledgeService);\r\n  router: Router = inject(Router);\r\n  route = inject(ActivatedRoute);\r\n  tutorialService = inject(TutorialService);\r\n\r\n  @HostBinding('class') class = 'h-full';\r\n\r\n  learnings: StudentLearningGoal[] = [];\r\n  stats = ['Speed', 'Accuracy', 'Deligence', 'Quantity', 'Combo'];\r\n  statsBW = this.stats.map(stat => stat + ' BW');\r\n  over = new Array(this.stats.length).fill(false);\r\n  activeStat = 0;\r\n  isLoading = false;\r\n  showWhatIsStats = false;\r\n  showSubmenu = false;\r\n  showTutorial = false;\r\n  interval!: Subscription;\r\n\r\n  async ngOnInit(): Promise<void> {\r\n    this.isLoading = true;\r\n\r\n    this.route.queryParamMap.subscribe(params => {\r\n      if (params.get('tutorial') === 'true') {\r\n        this.learnings = this.tutorialService.getStudentLearningGoals();\r\n        this.showTutorial = true;\r\n        this.isLoading = false;\r\n      } else {\r\n        const requestInterval = interval(5000);\r\n        this.interval = requestInterval.subscribe(() => this._getStudentLearningGoalsData());\r\n      }\r\n    });\r\n  }\r\n\r\n  _getStudentLearningGoalsData() {\r\n    this.knowledgeService.getStudentLearningGoals().subscribe({\r\n      next: learningGoals => {\r\n        if (\r\n          this.learnings.length != learningGoals.length ||\r\n          this.learnings[this.learnings.length - 1].completePercentage !=\r\n            learningGoals[learningGoals.length - 1].completePercentage\r\n        )\r\n          this.learnings = learningGoals;\r\n        this.isLoading = false;\r\n        if (this.route.snapshot.queryParams['learning_goal_id'] !== undefined) {\r\n          console.log('goto');\r\n\r\n          const selectedLearningGoal = this.learnings.filter(\r\n            learning => learning.id === this.route.snapshot.queryParams['learning_goal_id']\r\n          )[0];\r\n          if (selectedLearningGoal) {\r\n            this.knowledgeService.selectStudentLearningGoal(selectedLearningGoal);\r\n            this.router.navigate([this.paths.learningPath.path]);\r\n          }\r\n        }\r\n      },\r\n      error: error => {\r\n        // TODO: Define error resposes\r\n        console.log(error);\r\n        this.isLoading = false;\r\n      },\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.interval !== undefined) this.interval.unsubscribe();\r\n  }\r\n\r\n  selectProgram(program: Program) {\r\n    this.knowledgeService.selectProgram(program);\r\n    this.router.navigate([this.paths.learningPath.path]);\r\n  }\r\n\r\n  selectLearningGoal(learningGoal: StudentLearningGoal) {\r\n    this.knowledgeService.selectStudentLearningGoal(learningGoal);\r\n    this.router.navigate([this.paths.learningPath.path]);\r\n  }\r\n  goToLastestLearningGoal() {\r\n    this.knowledgeService.selectStudentLearningGoal(this.learnings[0]);\r\n    this.router.navigate([this.paths.learningPath.path]);\r\n  }\r\n\r\n  skip() {\r\n    window.document.body.removeAttribute('style');\r\n    this.showTutorial = false;\r\n    this.router.navigate([this.paths.home.path], { replaceUrl: true });\r\n  }\r\n\r\n  script = () => {\r\n    this.showTutorial = false;\r\n    this.router.navigate([this.paths.mockTest.path], { queryParams: { tutorial: true } });\r\n  };\r\n}\r\n","<div class=\"bg-gradient h-full flex flex-col md:flex-row\">\r\n  <div class=\"col md:hidden\">\r\n    <div class=\"bg-rocket-xs text-white px-4 py-8\">\r\n      <div class=\"flex justify-between items-center relative\">\r\n        <div class=\"flex gap-3 items-center\">\r\n          <img src=\"/assets/images/Avatar.svg\" alt=\"\" />\r\n          <h4>Xin chào!</h4>\r\n        </div>\r\n        <button (click)=\"showSubmenu = !showSubmenu\">\r\n          <i class=\"cursor-pointer icon-Settings text-[24px]\" type=\"button\"></i>\r\n        </button>\r\n        <div *ngIf=\"showSubmenu\" class=\"fixed w-full h-full top-0 left-0 z-10\" (click)=\"showSubmenu = false\"></div>\r\n        <ul class=\"absolute right-0 z-20\">\r\n          <li class=\"flex items-center gap-5 cursor-pointer relative\">\r\n            <ul\r\n              [ngStyle]=\"{ display: showSubmenu ? 'flex' : 'none' }\"\r\n              class=\"shadow-0 rounded-lg origin-top-right absolute right-0 mt-2 w-56 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none items-stretch flex-col top-5 z-10\"\r\n            >\r\n              <a [routerLink]=\"paths.profile.path\" class=\"drop-menu-item\">\r\n                <li>Thông tin cá nhân</li>\r\n              </a>\r\n              <li class=\"border-t border-blueGrey-300\"></li>\r\n              <a [routerLink]=\"paths.account.path\" class=\"drop-menu-item\">\r\n                <li>Tài khoản của bạn</li>\r\n              </a>\r\n              <li class=\"border-t border-blueGrey-300\"></li>\r\n              <a [routerLink]=\"paths.home.path\" [queryParams]=\"{ tutorial: true }\" class=\"drop-menu-item\">\r\n                <li>Hướng dẫn sử dụng</li>\r\n              </a>\r\n              <li class=\"border-t border-blueGrey-300\"></li>\r\n              <!-- <li [routerLink]=\"'/knowledge'\">\r\n                <a class=\"h-5 text-primaryBlue\">Cây kiến thức</a>\r\n              </li>\r\n              <li class=\"border-t border-blueGrey-300\"></li> -->\r\n              <a [routerLink]=\"paths.signOut.path\" class=\"drop-menu-item\">\r\n                <li>Thoát</li>\r\n              </a>\r\n            </ul>\r\n          </li>\r\n          <!-- <li>\r\n            <div class=\"relative\">\r\n              <img src=\"assets/icons/clarity_notification-line.svg\" class=\"cursor-pointer\" />\r\n              <span class=\"top-menu-notification\"></span>\r\n            </div>\r\n          </li> -->\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class=\"col p-4 gap-3\">\r\n      <h5>Lối tắt</h5>\r\n      <button\r\n        class=\"btn-extra-large flex justify-between w-full bg-blue-gradient text-white\"\r\n        [disabled]=\"learnings.length === 0\"\r\n        (click)=\"goToLastestLearningGoal()\"\r\n      >\r\n        <span>Tiếp tục học bài trước đó</span>\r\n        <i class=\"icon-ArrowForward\"></i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <div class=\"col p-4 md:p-8 items-stretch flex-1 gap-6 md:gap-8 md:overflow-y-auto\">\r\n    <div class=\"gap-4 hidden md:flex flex-col\">\r\n      <div class=\"flex justify-between\">\r\n        <img src=\"/assets/images/logo-h.svg\" alt=\"\" width=\"126px\" />\r\n        <div class=\"flex gap-2\">\r\n          <a class=\"menu-item active\">\r\n            <img src=\"/assets/images/Home.svg\" alt=\"\" />\r\n            <span>Trang chủ</span>\r\n          </a>\r\n          <a [routerLink]=\"paths.account.path\" class=\"menu-item\">\r\n            <img src=\"/assets/images/Profile.svg\" alt=\"\" />\r\n            <span>Tài khoản</span>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col gap-4\">\r\n      <div class=\"flex justify-between\">\r\n        <h5 class=\"hidden md:block\">Chỉ số của bạn</h5>\r\n        <span class=\"h7 md:hidden\">Chỉ số của bạn</span>\r\n        <!-- <a (click)=\"showWhatIsStats = true\" class=\"!text-blueGrey-500 !no-underline flex cursor-pointer gap-0.5\">\r\n          <i class=\"icon-Help\"></i>\r\n          <span class=\"underline\">Những chỉ số này là gì?</span>\r\n        </a> -->\r\n      </div>\r\n      <div class=\"stats text-white items-center shadow-4 rounded-2xl md:h-[296px] flex flex-col md:flex-row\">\r\n        <div class=\"flex-1 flex items-center justify-center p-3\">\r\n          <img src=\"/assets/images/Spider chart.svg\" alt=\"\" class=\"w-[179px] md:w-auto\" />\r\n        </div>\r\n        <div class=\"h-[150px] border-r border-solid border-blueGrey-600 hidden md:block\"></div>\r\n        <div class=\"w-[222px] border-t border-solid border-blueGrey-600 md:hidden\"></div>\r\n        <div class=\"flex-1 h-full col gap-6 md:gap-0 items-center justify-start p-14 pt-6 md:pt-14\">\r\n          <div class=\"flex gap-4\">\r\n            <img\r\n              width=\"32px\"\r\n              height=\"32px\"\r\n              *ngFor=\"let o of over; index as i\"\r\n              [src]=\"'/assets/images/' + (o || activeStat === i ? stats[i] : statsBW[i]) + '.svg'\"\r\n              alt=\"\"\r\n              (mouseover)=\"over[i] = true\"\r\n              (mouseout)=\"over[i] = false\"\r\n              class=\"cursor-pointer stat\"\r\n              [ngClass]=\"{ active: activeStat === i }\"\r\n              (click)=\"activeStat = i\"\r\n            />\r\n          </div>\r\n          <div class=\"flex-1 text-base font-bold flex items-center text-center\">\r\n            Tính năng bí mật sắp<br />được bật mí 🥳\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"!isLoading; else loading\" class=\"col gap-4\">\r\n      <div class=\"flex flex-col md:flex-row justify-between md:items-center gap-3 md:gap-0\">\r\n        <div class=\"flex gap-4 items-center\">\r\n          <h5 class=\"hidden md:block\">Mục tiêu gần đây</h5>\r\n          <span class=\"h7 md:hidden\">Mục tiêu gần đây</span>\r\n          <!-- <a href=\"\">Xem tất cả Mục tiêu học tập</a> -->\r\n        </div>\r\n        <button\r\n          #btnCreateLearningGoal\r\n          [routerLink]=\"paths.mockTest.path\"\r\n          class=\"btn gap-2\"\r\n          data-tooltip-content=\"Bấm vào đây để tạo mục tiêu học tập mới\"\r\n        >\r\n          <i class=\"icon-Add text-[22px]\"></i>Tạo mục tiêu học tập mới\r\n        </button>\r\n      </div>\r\n      <div\r\n        *ngIf=\"learnings.length === 0; else elseBlock\"\r\n        class=\"bg-mess col items-center gap-2 p-4 md:p-8 mx-[-16px] md:relative\"\r\n      >\r\n        <img class=\"md:hidden\" src=\"/assets/images/pointer-xs.webp\" alt=\"\" />\r\n        <img class=\"hidden md:block absolute top-[10px] right-[122px]\" src=\"/assets/images/pointer.webp\" alt=\"\" />\r\n        <h5 class=\"text-orange\">Bạn chưa có Mục tiêu học tập!</h5>\r\n        <p class=\"max-w-[435px] text-center\">\r\n          Kyons cần biết mục tiêu học tập để tạo ra bài tập vừa với trình độ của bạn. Bấm vào nút này để Tạo mục tiêu\r\n          học tập đầu tiên nhé!\r\n        </p>\r\n      </div>\r\n      <ng-template #elseBlock>\r\n        <div class=\"grid grid-col-1 xl:grid-cols-2 gap-x-6 gap-y-4\">\r\n          <div (click)=\"selectLearningGoal(item)\" *ngFor=\"let item of learnings\" class=\"learning-goal-item\">\r\n            <img src=\"/assets/images/Subject.svg\" alt=\"\" />\r\n            <div class=\"col gap-0.5 flex-1\">\r\n              <h6 class=\"hidden md:block\">{{ item.name }}</h6>\r\n              <span class=\"h8 md:hidden\">{{ item.name }}</span>\r\n              <span>{{ item.programName }}</span>\r\n            </div>\r\n            <circle-progress\r\n              [percent]=\"item.completePercentage\"\r\n              [title]=\"item.completePercentage + '%'\"\r\n              [animateTitle]=\"false\"\r\n              [showSubtitle]=\"false\"\r\n              [radius]=\"32\"\r\n              titleFontSize=\"16px\"\r\n              titleFontWeight=\"bold\"\r\n              outerStrokeColor=\"var(--color-lightOrange-1)\"\r\n              [lazy]=\"false\"\r\n            ></circle-progress>\r\n          </div>\r\n        </div>\r\n      </ng-template>\r\n      <kyonsvn-tutorial\r\n        *ngIf=\"showTutorial\"\r\n        (skipCallback)=\"skip()\"\r\n        [scriptElements]=\"[btnCreateLearningGoal]\"\r\n        [scriptEvents]=\"[['click', script]]\"\r\n      ></kyonsvn-tutorial>\r\n    </div>\r\n  </div>\r\n  <ng-template #loading>\r\n    <student-loading></student-loading>\r\n  </ng-template>\r\n  <div *ngIf=\"!isLoading\" class=\"hidden md:flex flex-col p-11 bg-rocket text-white\">\r\n    <div class=\"flex justify-between items-center relative\">\r\n      <div class=\"flex gap-3 items-center\">\r\n        <img src=\"/assets/images/Avatar.svg\" alt=\"\" />\r\n        <h4>Xin chào!</h4>\r\n      </div>\r\n      <i (click)=\"showSubmenu = !showSubmenu\" class=\"cursor-pointer icon-Settings text-[40px]\"></i>\r\n      <ul class=\"absolute right-0\">\r\n        <li class=\"flex items-center gap-5 cursor-pointer relative\">\r\n          <ul\r\n            [ngStyle]=\"{ display: showSubmenu ? 'flex' : 'none' }\"\r\n            class=\"shadow-0 rounded-lg origin-top-right absolute right-0 mt-2 w-56 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none items-stretch flex-col top-5 z-10\"\r\n          >\r\n            <a [routerLink]=\"paths.profile.path\" class=\"drop-menu-item\">\r\n              <li>Thông tin cá nhân</li>\r\n            </a>\r\n            <li class=\"border-t border-blueGrey-300\"></li>\r\n            <a [routerLink]=\"paths.account.path\" class=\"drop-menu-item\">\r\n              <li>Tài khoản của bạn</li>\r\n            </a>\r\n            <li class=\"border-t border-blueGrey-300\"></li>\r\n            <a [routerLink]=\"paths.home.path\" [queryParams]=\"{ tutorial: true }\" class=\"drop-menu-item\">\r\n              <li>Hướng dẫn sử dụng</li>\r\n            </a>\r\n            <li class=\"border-t border-blueGrey-300\"></li>\r\n            <!-- <li [routerLink]=\"'/knowledge'\">\r\n              <a class=\"h-5 text-primaryBlue\">Cây kiến thức</a>\r\n            </li>\r\n            <li class=\"border-t border-blueGrey-300\"></li> -->\r\n            <a [routerLink]=\"paths.signOut.path\" class=\"drop-menu-item\">\r\n              <li>Thoát</li>\r\n            </a>\r\n          </ul>\r\n        </li>\r\n        <!-- <li>\r\n          <div class=\"relative\">\r\n            <img src=\"assets/icons/clarity_notification-line.svg\" class=\"cursor-pointer\" />\r\n            <span class=\"top-menu-notification\"></span>\r\n          </div>\r\n        </li> -->\r\n      </ul>\r\n    </div>\r\n    <div class=\"flex-1\"></div>\r\n    <div class=\"col gap-4\">\r\n      <h5>Lối tắt</h5>\r\n      <button\r\n        class=\"btn-extra-large flex justify-between w-full bg-blue-gradient\"\r\n        [disabled]=\"learnings.length === 0\"\r\n        (click)=\"goToLastestLearningGoal()\"\r\n      >\r\n        <span>Tiếp tục học bài trước đó</span>\r\n        <i class=\"icon-ArrowForward\"></i>\r\n      </button>\r\n      <button class=\"btn-extra-large flex justify-between w-full bg-orange-gradient\" [routerLink]=\"paths.mockTest.path\">\r\n        <span>Tạo “Bài kiểm tra thử thông minh” mới</span>\r\n        <i class=\"icon-ArrowForward\"></i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"showWhatIsStats\"\r\n  class=\"absolute top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 w-full md:w-[700px]\">\r\n    <h4>Chỉ số của bạn</h4>\r\n    <span>Text</span>\r\n    <button (click)=\"showWhatIsStats = false\" class=\"btn w-full\">Đã hiểu</button>\r\n  </div>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport {\r\n  AfterViewInit,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  HostBinding,\r\n  OnDestroy,\r\n  OnInit,\r\n  ViewChild,\r\n  inject,\r\n} from '@angular/core';\r\nimport { MatPaginator, MatPaginatorIntl } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\r\nimport { Category } from '@infrastructure/knowledge/category';\r\nimport { KnowledgeService } from '@infrastructure/knowledge/knowledge.service';\r\nimport { StudentLearningGoal } from '@infrastructure/knowledge/learning-goal';\r\nimport { LearningGoalCategory, LearningGoalPath } from '@infrastructure/knowledge/learning-goal-path';\r\nimport { LessonItem } from '@infrastructure/knowledge/lesson';\r\nimport { LessonService } from '@infrastructure/knowledge/lesson.service';\r\nimport { LoadingOverlayService } from '@infrastructure/loading-overlay.service';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport { MockTestItem } from '@infrastructure/test/test-content';\r\nimport { TestService } from '@infrastructure/test/test.service';\r\nimport { TutorialService } from '@infrastructure/tutorials/tutorial-service';\r\nimport { UserService } from '@infrastructure/user/user.service';\r\nimport { TutorialComponent } from '@share-components';\r\nimport { MockTestStatus } from '@share-utils/domain';\r\nimport { ChartConfiguration } from 'chart.js';\r\nimport { NgCircleProgressModule } from 'ng-circle-progress';\r\nimport { BaseChartDirective, NgChartsModule } from 'ng2-charts';\r\n\r\nimport { serverApi } from '@infrastructure/auth/interceptor';\r\nimport { Subscription, interval } from 'rxjs';\r\nimport { MaterialModule } from '../../../material.module';\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [CommonModule, RouterModule, TutorialComponent, NgCircleProgressModule, MaterialModule, NgChartsModule],\r\n  templateUrl: './learning-path.component.html',\r\n  styleUrls: ['./learning-path.component.scss'],\r\n})\r\nexport class LearningPathComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  paths = inject(NavigationService).paths;\r\n  lessonService = inject(LessonService);\r\n  userService = inject(UserService);\r\n  userType = this.userService.getUserType();\r\n  selectedStudentLearningGoal!: StudentLearningGoal;\r\n  testService = inject(TestService);\r\n  loading = inject(LoadingOverlayService);\r\n  http = inject(HttpClient);\r\n  knowledgeService = inject(KnowledgeService);\r\n  router = inject(Router);\r\n  route = inject(ActivatedRoute);\r\n  tutorialService = inject(TutorialService);\r\n\r\n  @HostBinding('class') class = 'h-full';\r\n\r\n  learingPathError = false;\r\n  scrollDistance = 0;\r\n  lessons: LessonItem[] = [];\r\n  processing = true;\r\n  interval!: Subscription;\r\n  isCompleted = false;\r\n  categories: Category[] = [];\r\n  learningGoalCategory = LearningGoalCategory.empty();\r\n  learningGoalPath = LearningGoalPath.empty();\r\n  nextStep = false;\r\n  completeStep = false;\r\n  subscriptionExpired = false;\r\n  showSubscriptionExpired = false;\r\n  mockTests: MockTestItem[] = [];\r\n  lessonBlockOf3OnMDScreen: number[] = [];\r\n  lessonBlockOf2OnXSScreen: number[] = [];\r\n  blockOf3 = [0, 1, 2];\r\n  blockOf2 = [0, 1];\r\n  showWhatIsProbabilityIndex = false;\r\n  showWhatIsMockTest = false;\r\n  probabilityIndex?: number;\r\n\r\n  isLoadingResults = true;\r\n  isRateLimitReached = false;\r\n  dataSource: MatTableDataSource<MockTestItem> = new MatTableDataSource<MockTestItem>([]);\r\n  hasNewMockTest = false;\r\n  shouldScrollBottom = true;\r\n  @ViewChild(BaseChartDirective) chart?: BaseChartDirective;\r\n\r\n  public lineChartData: ChartConfiguration['data'] = {\r\n    datasets: [\r\n      {\r\n        data: [65, 59, 80, 81, 56, 55, 40],\r\n        label: 'Điểm số',\r\n        backgroundColor: '#06A5FF',\r\n        borderColor: '#06A5FF',\r\n        borderWidth: 6,\r\n        pointBackgroundColor: '#06A5FF',\r\n        pointBorderColor: 'transparent',\r\n        fill: 'origin',\r\n        pointStyle: 'circle',\r\n      },\r\n    ],\r\n    labels: ['January', 'February', 'March', 'April', 'May', 'June'],\r\n  };\r\n\r\n  public lineChartOptions: ChartConfiguration['options'] = {\r\n    elements: {\r\n      line: {\r\n        tension: 0,\r\n      },\r\n    },\r\n    scales: {\r\n      // We use this empty structure as a placeholder for dynamic theming.\r\n      y: {\r\n        title: {\r\n          display: true,\r\n          text: 'Điểm số',\r\n          color: '#64748B',\r\n          font: {\r\n            size: 12,\r\n            weight: 'bold',\r\n          },\r\n        },\r\n        position: 'left',\r\n        grid: {\r\n          color: '#334155',\r\n        },\r\n        ticks: {\r\n          color: '#FFFFFF',\r\n        },\r\n      },\r\n      x: {\r\n        title: {\r\n          display: true,\r\n          text: 'Bài KT',\r\n          color: '#64748B',\r\n          font: {\r\n            size: 12,\r\n            weight: 'bold',\r\n          },\r\n        },\r\n        max: 10,\r\n        min: 0,\r\n        ticks: {\r\n          color: '#FFFFFF',\r\n        },\r\n      },\r\n    },\r\n\r\n    plugins: {\r\n      legend: { display: true },\r\n    },\r\n  };\r\n  showActivateLearningPathBtn = false;\r\n  MockTestStatus = MockTestStatus;\r\n  activeTab = parseInt(this.route.snapshot.queryParams['active_tab'] ?? '0');\r\n  showTutorial = false;\r\n  tutorialPart = 0;\r\n  scriptElements: HTMLElement[] = [];\r\n  scriptXsElements: HTMLElement[] = [];\r\n  showCompleteTutorial = false;\r\n\r\n  @ViewChild(MatSort) sort: MatSort = new MatSort();\r\n  @ViewChild(MatPaginator) paginator: MatPaginator = new MatPaginator(\r\n    new MatPaginatorIntl(),\r\n    ChangeDetectorRef.prototype\r\n  );\r\n  @ViewChild('chartCanvas') chartCanvas!: ElementRef;\r\n  @ViewChild('scrollBottomElm') scrollBottomElm!: ElementRef;\r\n  @ViewChild('scrollBottomXSElm') scrollBottomXSElm!: ElementRef;\r\n\r\n  ngOnInit(): void {\r\n    this.route.queryParamMap.subscribe(params => {\r\n      if (params.get('tutorial') == '1') {\r\n        this.showTutorial = true;\r\n        this.selectedStudentLearningGoal = this.tutorialService.getStudentLearningGoal();\r\n        this.probabilityIndex = this.tutorialService.getProbabilityIndex();\r\n        this.mockTests = this.tutorialService.getLearningGoalMockTest();\r\n        this.learningGoalPath = this.tutorialService.getLearningGoalLessons();\r\n        this.lessons = this.learningGoalPath.lessonCategories[0].lessons;\r\n        this._updateLessonsData();\r\n        setTimeout(() => {\r\n          this._updateMockTestData(this.mockTests);\r\n          const lessonElm = new ElementRef(document.getElementById(`lesson-${this.lessons[0].id}`));\r\n          const lessonXsElm = new ElementRef(document.getElementById(`lessonXs-${this.lessons[0].id}`));\r\n          if (lessonElm && lessonElm.nativeElement) this.scriptElements.push(lessonElm.nativeElement);\r\n          if (lessonXsElm && lessonXsElm.nativeElement) this.scriptXsElements.push(lessonXsElm.nativeElement);\r\n          this.tutorialPart = 1;\r\n        }, 200);\r\n      } else if (params.get('tutorial') == '2') {\r\n        this.showTutorial = true;\r\n        this.selectedStudentLearningGoal = this.tutorialService.getStudentLearningGoal();\r\n        this.probabilityIndex = this.tutorialService.getProbabilityIndex2();\r\n        this.mockTests = this.tutorialService.getLearningGoalMockTest();\r\n        this.learningGoalPath = this.tutorialService.getLearningGoalLessons2();\r\n        this.lessons = this.learningGoalPath.lessonCategories[0].lessons;\r\n        this._updateLessonsData();\r\n        setTimeout(() => {\r\n          this._updateMockTestData(this.mockTests);\r\n          const lessonElm = new ElementRef(document.getElementsByClassName('finish-block')[0] as HTMLElement);\r\n          lessonElm.nativeElement.setAttribute(\r\n            'data-tooltip-content',\r\n            'Bạn hãy hoàn tất lộ trình học của mình để khám phá điều bất ngờ khi nhấn vào ô cuối cùng này nhé!'\r\n          );\r\n          lessonElm.nativeElement.setAttribute('data-tooltip-position', 'bottom');\r\n          if (lessonElm && lessonElm.nativeElement) this.scriptElements.push(lessonElm.nativeElement);\r\n          const lessonXsElm = new ElementRef(document.getElementsByClassName('finish-blockXs')[0] as HTMLElement);\r\n          lessonXsElm.nativeElement.setAttribute(\r\n            'data-tooltip-content',\r\n            'Bạn hãy hoàn tất lộ trình học của mình để khám phá điều bất ngờ khi nhấn vào ô cuối cùng này nhé!'\r\n          );\r\n          lessonXsElm.nativeElement.setAttribute('data-tooltip-position', 'bottom');\r\n          if (lessonXsElm && lessonXsElm.nativeElement) this.scriptXsElements.push(lessonXsElm.nativeElement);\r\n          this.tutorialPart = 2;\r\n        }, 200);\r\n      } else {\r\n        this.selectedStudentLearningGoal = this.knowledgeService.getStudentLearningGoal();\r\n        // this.selectedCategoryId = this.knowledgeService.getSelectedCategoryId();\r\n        if (this.selectedStudentLearningGoal.isEmpty()) {\r\n          this.router.navigate([this.paths.home.path]);\r\n          return;\r\n        }\r\n        this._getLearningPathData();\r\n        const requestInterval = interval(5000);\r\n        this.interval = requestInterval.subscribe(() => this._getLearningPathData());\r\n\r\n        this.testService.getProbabilityIndex({ learningGoalId: this.selectedStudentLearningGoal.id }).subscribe({\r\n          next: result => {\r\n            this.probabilityIndex = result;\r\n          },\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.paginator._intl.nextPageLabel = 'Trang kế';\r\n    this.paginator._intl.previousPageLabel = 'Trang trước';\r\n    this.paginator._intl.itemsPerPageLabel = 'Mỗi trang hiện:';\r\n    this.paginator._intl.getRangeLabel = (page: number, pageSize: number, length: number) => {\r\n      const start = page * pageSize + 1;\r\n      const end = (page + 1) * pageSize;\r\n      return `${start} - ${end} trong ${length}`;\r\n    };\r\n  }\r\n\r\n  _updateMockTestData(mockTests: MockTestItem[]) {\r\n    this.hasNewMockTest = mockTests.some(x => x.status == MockTestStatus.active);\r\n    this.dataSource = new MatTableDataSource(mockTests.filter(x => x.status != MockTestStatus.active));\r\n    this.dataSource.paginator = this.paginator;\r\n    this.dataSource.sort = this.sort;\r\n\r\n    this.lineChartData.datasets[0].data = mockTests.map(x => x.score ?? 0);\r\n    this.lineChartData.labels = mockTests.map(x => ((x.index ?? 0) + 1).toString());\r\n    const gradient = this.chartCanvas.nativeElement.getContext('2d').createLinearGradient(0, 0, 0, 600);\r\n    gradient.addColorStop(0, 'rgba(6, 165, 255, 0.3)');\r\n    gradient.addColorStop(1, 'rgba(6, 165, 255, 0)');\r\n    this.lineChartData.datasets[0].backgroundColor = gradient;\r\n    this.chart?.update();\r\n    if (mockTests.length == 1) {\r\n      if (mockTests[0].status == MockTestStatus.active) {\r\n        this.router.navigate([this.paths.mockTestTest.path.replace(':id', mockTests[0].id)]);\r\n        return;\r\n      } else if (mockTests[0].status == MockTestStatus.learning_path_received) {\r\n        this.showActivateLearningPathBtn = true;\r\n      } else {\r\n        this.showActivateLearningPathBtn = false;\r\n      }\r\n    } else {\r\n      this.showActivateLearningPathBtn = false;\r\n    }\r\n  }\r\n\r\n  _updateLessonsData() {\r\n    const totalLessonBlockOf3OnMDScreen = Math.ceil((this.lessons.length + 1) / 3);\r\n    this.lessonBlockOf3OnMDScreen = Array.from(Array(totalLessonBlockOf3OnMDScreen).keys());\r\n    const totalLessonBlockOf2OnXSScreen = Math.ceil((this.lessons.length + 1) / 2);\r\n    this.lessonBlockOf2OnXSScreen = Array.from(Array(totalLessonBlockOf2OnXSScreen).keys());\r\n    setTimeout(() => {\r\n      this.scrollBottomElm.nativeElement.scrollTop = this.scrollBottomElm.nativeElement.scrollHeight;\r\n      this.scrollBottomXSElm.nativeElement.scrollTop = this.scrollBottomXSElm.nativeElement.scrollHeight;\r\n    }, 500);\r\n  }\r\n\r\n  _getLearningPathData() {\r\n    this.lessonService.getLearningGoalMockTest(this.selectedStudentLearningGoal.id).subscribe({\r\n      next: (mockTests: MockTestItem[]) => {\r\n        this.mockTests = mockTests;\r\n        this._updateMockTestData(mockTests);\r\n        this.lessonService.getList(this.selectedStudentLearningGoal.id).subscribe({\r\n          next: (learningGoalPath: LearningGoalPath) => {\r\n            this.learningGoalPath = learningGoalPath;\r\n            this.lessons = this.learningGoalPath.lessonCategories[0].lessons;\r\n            this._updateLessonsData();\r\n          },\r\n          error: err => {\r\n            if (err.error == undefined || err.error.error_code == undefined) {\r\n              // this.learingPathError = true;\r\n              return;\r\n            }\r\n            if (err.error.error_code == 'NewUser') {\r\n              this.router.navigate([this.paths.newUser.path]);\r\n              return;\r\n            }\r\n          },\r\n        });\r\n\r\n        return;\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n        this.learingPathError = true;\r\n      },\r\n    });\r\n    this.testService.getProbabilityIndex({ learningGoalId: this.selectedStudentLearningGoal.id }).subscribe({\r\n      next: result => {\r\n        this.probabilityIndex = result;\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n        this.learingPathError = true;\r\n      },\r\n    });\r\n  }\r\n\r\n  activateLearningPath() {\r\n    this.loading.show();\r\n    this.http.get(`${serverApi()}/students/gifts/request_free_subscription`).subscribe({\r\n      next: () => {\r\n        this.lessonService.activateLearningPath(this.mockTests[0].id).subscribe({\r\n          next: () => {\r\n            this.loading.hide();\r\n          },\r\n          error: e => {\r\n            console.log(e);\r\n            this.loading.hide();\r\n          },\r\n        });\r\n      },\r\n      error: e => {\r\n        console.log(e);\r\n        this.lessonService.activateLearningPath(this.mockTests[0].id).subscribe({\r\n          next: () => {\r\n            this.loading.hide();\r\n          },\r\n          error: e => {\r\n            console.log(e);\r\n            this.loading.hide();\r\n          },\r\n        });\r\n      },\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.interval !== undefined) this.interval.unsubscribe();\r\n  }\r\n\r\n  goToMockTest(mockTest: MockTestItem) {\r\n    if (mockTest.status == MockTestStatus.active) {\r\n      this.router.navigate([this.paths.mockTestTest.path.replace(':id', mockTest.id)]);\r\n    } else {\r\n      this.router.navigate([this.paths.mockTestResult.path.replace(':id', mockTest.id)], {\r\n        queryParams: { learning_goal_id: this.selectedStudentLearningGoal.id },\r\n      });\r\n    }\r\n  }\r\n\r\n  onLessonBlockClick(lesson: LessonItem) {\r\n    if (lesson.isNew) {\r\n      this.router.navigate([this.paths.lessonPage.path.replace(':id', lesson.id)]);\r\n    } else {\r\n      this.router.navigate([this.paths.lessonReviewPage.path.replace(':id', lesson.id)]);\r\n    }\r\n  }\r\n\r\n  onLastLessonBlockClick() {\r\n    if (this.learningGoalPath.isCompleted()) {\r\n      this.router.navigate([this.paths.learningPathComplete.path]);\r\n    }\r\n  }\r\n\r\n  filterCallback(mockTest: MockTestItem) {\r\n    return mockTest.status == MockTestStatus.active;\r\n  }\r\n\r\n  skip() {\r\n    this.router.navigate([this.paths.home.path], { replaceUrl: true });\r\n  }\r\n\r\n  script1 = () => {\r\n    this.router.navigate([this.paths.lessonPageTutorial.path]);\r\n  };\r\n\r\n  script2 = () => {\r\n    this.showCompleteTutorial = true;\r\n    this.showTutorial = false;\r\n  };\r\n\r\n  completeTutorial(willGoHome = true) {\r\n    if (willGoHome) this.loading.show();\r\n    this.tutorialService.completeTutorial().subscribe({\r\n      next: () => {\r\n        this.userService.setForceCompleteTutorial(false);\r\n        this.loading.hide();\r\n        if (willGoHome) this.router.navigate([this.paths.home.path], { replaceUrl: true });\r\n        else {\r\n          window.open(this.paths.home.path, '_blank');\r\n        }\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n        this.loading.hide();\r\n      },\r\n    });\r\n  }\r\n}\r\n","<div class=\"xl:flex-row w-full xl:h-screen col relative\">\r\n  <div class=\"p-6 absolute w-full top-[68px] sm:hidden\">\r\n    <div class=\"col w-full bg-white rounded-2xl p-4 gap-4 h-[264px]\">\r\n      <div class=\"flex justify-between gap-1\">\r\n        <div class=\"flex-1 tab-menu\" [ngClass]=\"{ active: activeTab === 0 }\" (click)=\"activeTab = 0\">Lộ trình học</div>\r\n        <div class=\"flex-1 tab-menu\" [ngClass]=\"{ active: activeTab === 1 }\" (click)=\"activeTab = 1\">\r\n          Chi tiết tiến độ\r\n        </div>\r\n      </div>\r\n      <div class=\"col gap-4 w-full\">\r\n        <span>Đây là lộ trình học tập để bạn đạt mục tiêu:</span>\r\n        <div class=\"col gap-2 justify-center w-full items-center\">\r\n          <img src=\"/assets/images/subject.webp\" alt=\"\" width=\"80\" height=\"80\" />\r\n          <h6 class=\"text-orange\">{{ selectedStudentLearningGoal.name }}</h6>\r\n          <b>{{ selectedStudentLearningGoal.programName }}</b>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"gap-2 flex xl:hidden p-6 justify-center\">\r\n    <a [routerLink]=\"paths.home.path\" class=\"menu-item\">\r\n      <img src=\"/assets/images/Home.svg\" alt=\"\" />\r\n      <span>Trang chủ</span>\r\n    </a>\r\n    <a [routerLink]=\"paths.account.path\" class=\"menu-item\">\r\n      <img src=\"/assets/images/Profile.svg\" alt=\"\" />\r\n      <span>Tài khoản</span>\r\n    </a>\r\n  </div>\r\n  <div class=\"col flex-1 gap-6 items-center py-16 px-8 bg-image\" [ngClass]=\"{ 'xs-hidden': activeTab !== 0 }\">\r\n    <div class=\"block sm:hidden h-[264px]\"></div>\r\n    <div class=\"hidden sm:flex gap-6 p-6 bg-white rounded-2xl shadow-3 w-[520px]\">\r\n      <img src=\"/assets/images/Subject.svg\" alt=\"\" />\r\n      <div class=\"col gap-2\">\r\n        <span>Đây là lộ trình học tập để bạn đạt mục tiêu:</span>\r\n        <h5 class=\"text-orange\">{{ selectedStudentLearningGoal.name }}</h5>\r\n        <span class=\"h7\">{{ selectedStudentLearningGoal.programName }}</span>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"!learingPathError; else learingPathErrorTemplate\" class=\"w-full\">\r\n      <div *ngIf=\"mockTests.length !== 0; else learingPathEmptyTemplate\" class=\"w-full flex items-start justify-center\">\r\n        <div\r\n          *ngIf=\"lessons.length !== 0 && !showActivateLearningPathBtn\"\r\n          #widgetsWrapper\r\n          class=\"w-[328px] md:w-[760px]\"\r\n        >\r\n          <div\r\n            #scrollBottomElm\r\n            class=\"hidden md:flex w-full hide-scrollbar flex-col gap-[50px] h-[calc(100vh_-_280px)] overflow-y-auto px-[56px] py-8\"\r\n          >\r\n            <div\r\n              *ngFor=\"let block of lessonBlockOf3OnMDScreen; index as bi\"\r\n              class=\"hidden md:flex gap-[24px]\"\r\n              [ngClass]=\"{\r\n                even: bi % 2 === 0,\r\n                odd: bi % 2 !== 0\r\n              }\"\r\n            >\r\n              <ng-template ngFor let-i [ngForOf]=\"blockOf3\">\r\n                <ng-template [ngIf]=\"i + bi * 3 < lessons.length\">\r\n                  <!-- <div\r\n                    *ngIf=\"bi % 2 !== 0 && i !== 0 && lessons[i + bi * 3 + 1] !== undefined\"\r\n                    class=\"absolute path\"\r\n                  ></div> -->\r\n                  <div *ngIf=\"i !== 0\" class=\"absolute path\"></div>\r\n                  <button\r\n                    [id]=\"'lesson-' + lessons[i + bi * 3].id\"\r\n                    data-tooltip-content=\"Bạn hãy bấm vào đây để làm bài tập thực hành theo lộ trình học\"\r\n                    data-tooltip-position=\"bottom\"\r\n                    *ngIf=\"lessons[i + bi * 3].name !== ''\"\r\n                    class=\"lesson-block\"\r\n                    [ngClass]=\"{\r\n                      'complete-block': !lessons[i + bi * 3].isNew,\r\n                      'new-block': lessons[i + bi * 3].isNew\r\n                    }\"\r\n                    (click)=\"onLessonBlockClick(lessons[i + bi * 3])\"\r\n                    tabindex=\"0\"\r\n                  >\r\n                    <div class=\"h7\">{{ lessons[i + bi * 3].name }}</div>\r\n                    <span *ngIf=\"!lessons[i + bi * 3].isNew\" class=\"h-7 w-full text-right italic font-bold\"\r\n                      >Hoàn tất</span\r\n                    >\r\n                    <div class=\"flex w-full justify-end\">\r\n                      <circle-progress\r\n                        *ngIf=\"lessons[i + bi * 3].isNew\"\r\n                        [percent]=\"lessons[i + bi * 3].progress!\"\r\n                        [title]=\"lessons[i + bi * 3].progress! + '%'\"\r\n                        [showSubtitle]=\"false\"\r\n                        [radius]=\"32\"\r\n                        titleFontSize=\"16px\"\r\n                        titleFontWeight=\"bold\"\r\n                        outerStrokeColor=\"var(--color-white)\"\r\n                        titleColor=\"var(--color-white)\"\r\n                        innerStrokeColor=\"var(--color-blueGrey-300)\"\r\n                      ></circle-progress>\r\n                    </div>\r\n                  </button>\r\n                  <!-- <div class=\"absolute path\"></div> -->\r\n                </ng-template>\r\n                <div *ngIf=\"i + bi * 3 === lessons.length && i !== 0\" class=\"absolute path last\"></div>\r\n                <button\r\n                  *ngIf=\"i + bi * 3 === lessons.length\"\r\n                  class=\"lesson-block\"\r\n                  [ngClass]=\"{\r\n                    'waiting-block': lessons[lessons.length - 1].isNew,\r\n                    'finish-block': !lessons[lessons.length - 1].isNew\r\n                  }\"\r\n                  (click)=\"onLastLessonBlockClick()\"\r\n                  tabindex=\"0\"\r\n                >\r\n                  <span *ngIf=\"!lessons[lessons.length - 1].isNew\" class=\"h7 w-full text-center !mt-[-10px]\"\r\n                    >Tới cuối đường</span\r\n                  >\r\n                  <span *ngIf=\"lessons[lessons.length - 1].isNew\" class=\"h7\">(Đang chờ được khám phá...)</span>\r\n                  <div class=\"flex w-full justify-center relative\">\r\n                    <i class=\"icon-Lock text-5xl mt-[-74px] absolute\"></i>\r\n                  </div>\r\n                </button>\r\n              </ng-template>\r\n            </div>\r\n          </div>\r\n          <div\r\n            #scrollBottomXSElm\r\n            class=\"md:hidden w-full hide-scrollbar flex flex-col gap-[38px] flex-shrink-0 h-[70vh] max-h-[500px] overflow-y-auto px-[28px] py-8\"\r\n          >\r\n            <div\r\n              *ngFor=\"let block of lessonBlockOf2OnXSScreen; index as bi\"\r\n              class=\"flex md:hidden gap-[12px]\"\r\n              [ngClass]=\"{\r\n                even: bi % 2 === 0,\r\n                odd: bi % 2 !== 0\r\n              }\"\r\n            >\r\n              <ng-template ngFor let-i [ngForOf]=\"blockOf2\">\r\n                <ng-template [ngIf]=\"i + bi * 2 < lessons.length\">\r\n                  <!-- <div\r\n                    *ngIf=\"bi % 2 !== 0 && i !== 0 && lessons[i + bi * 3 + 1] !== undefined\"\r\n                    class=\"absolute path\"\r\n                  ></div> -->\r\n                  <div *ngIf=\"i !== 0\" class=\"absolute path\"></div>\r\n                  <button\r\n                    [id]=\"'lessonXs-' + lessons[i + bi * 2].id\"\r\n                    data-tooltip-content=\"Bạn hãy bấm vào đây để làm bài tập thực hành theo lộ trình học\"\r\n                    data-tooltip-position=\"bottom\"\r\n                    *ngIf=\"lessons[i + bi * 2].name !== ''\"\r\n                    class=\"lesson-block\"\r\n                    [ngClass]=\"{\r\n                      'complete-block': !lessons[i + bi * 2].isNew,\r\n                      'new-block': lessons[i + bi * 2].isNew\r\n                    }\"\r\n                    (click)=\"onLessonBlockClick(lessons[i + bi * 2])\"\r\n                    [title]=\"lessons[i + bi * 2].name\"\r\n                  >\r\n                    <div class=\"text-[12px] md:h7 text-ellipsis line-clamp-3 font-bold\">\r\n                      {{ lessons[i + bi * 2].name }}\r\n                    </div>\r\n                    <span\r\n                      *ngIf=\"!lessons[i + bi * 2].isNew\"\r\n                      class=\"text-[12px] md:h7 w-full text-right italic font-bold\"\r\n                      >Hoàn tất</span\r\n                    >\r\n                    <div *ngIf=\"lessons[i + bi * 2].isNew\" class=\"flex w-full justify-end\">\r\n                      <circle-progress\r\n                        *ngIf=\"lessons[i + bi * 2].isNew\"\r\n                        [percent]=\"lessons[i + bi * 2].progress!\"\r\n                        [title]=\"lessons[i + bi * 2].progress! + '%'\"\r\n                        [showSubtitle]=\"false\"\r\n                        [radius]=\"20\"\r\n                        titleFontSize=\"12px\"\r\n                        titleFontWeight=\"bold\"\r\n                        outerStrokeColor=\"var(--color-white)\"\r\n                        titleColor=\"var(--color-white)\"\r\n                        innerStrokeColor=\"var(--color-blueGrey-300)\"\r\n                        innerStrokeWidth=\"4\"\r\n                        [outerStrokeWidth]=\"4\"\r\n                        [space]=\"-4\"\r\n                        [lazy]=\"false\"\r\n                      ></circle-progress>\r\n                    </div>\r\n                  </button>\r\n                  <!-- <div class=\"absolute path\"></div> -->\r\n                </ng-template>\r\n                <div *ngIf=\"i + bi * 2 === lessons.length && i !== 0\" class=\"absolute path last\"></div>\r\n                <button\r\n                  *ngIf=\"i + bi * 2 === lessons.length\"\r\n                  class=\"lesson-block\"\r\n                  [ngClass]=\"{\r\n                    'waiting-block': lessons[lessons.length - 1].isNew,\r\n                    'finish-block finish-blockXs': !lessons[lessons.length - 1].isNew\r\n                  }\"\r\n                  (click)=\"onLastLessonBlockClick()\"\r\n                  tabindex=\"0\"\r\n                >\r\n                  <b\r\n                    *ngIf=\"!lessons[lessons.length - 1].isNew\"\r\n                    class=\"text-[12px] md:text-[16px] w-full text-center !mt-[-10px]\"\r\n                    >Tới cuối đường</b\r\n                  >\r\n                  <b *ngIf=\"lessons[lessons.length - 1].isNew\" class=\"text-[12px] md:text-[16px]\"\r\n                    >(Đang chờ được khám phá...)</b\r\n                  >\r\n                  <div *ngIf=\"lessons[lessons.length - 1].isNew\" class=\"flex w-full justify-center relative\">\r\n                    <i class=\"icon-Lock text-5xl mt-[-44px] absolute\"></i>\r\n                  </div>\r\n                </button>\r\n              </ng-template>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div *ngIf=\"showActivateLearningPathBtn\" class=\"\">\r\n          <div class=\"col w-[520px] h-[500px] px-8 items-center gap-2 text-center justify-center\">\r\n            <h5 class=\"text-white\">Bạn chưa tạo lộ trình học!</h5>\r\n            <h6 class=\"h6 text-white\">bấm vào nút bên dưới để bắt đầu học thôi</h6>\r\n            <button (click)=\"activateLearningPath()\" class=\"btn\">Tạo lộ trình học</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ng-template #learingPathEmptyTemplate>\r\n        <div class=\"col w-[520px] h-[500px] px-8 items-center gap-2 text-center justify-center\">\r\n          <h5 class=\"text-blueGrey-500\">Meo meo meo meo, trả lại tâm trí tôi đây...</h5>\r\n          <h6 class=\"h6 text-white\">Bạn đợi một chút để AI của Kyons trả lại lộ trình học tập cho bạn nhé ><</h6>\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n    <ng-template #learingPathErrorTemplate>\r\n      <div class=\"col w-[520px] h-[500px] px-8 items-center gap-2 text-center justify-center\">\r\n        <h5 class=\"text-blueGrey-500\">Meo meo meo meo, trả lại tâm trí tôi đây...</h5>\r\n        <h6 class=\"h6 text-white\">Bạn đợi một chút để AI của Kyons trả lại lộ trình học tập cho bạn nhé ><</h6>\r\n      </div>\r\n    </ng-template>\r\n  </div>\r\n  <div\r\n    class=\"col items-stretch md:self-center md:w-[614px] p-6 md:p-8 xl:h-screen overflow-y-auto gap-8\"\r\n    [ngClass]=\"{ 'xs-hidden': activeTab !== 1 }\"\r\n  >\r\n    <div class=\"block sm:hidden h-[264px]\"></div>\r\n    <div class=\"justify-end hidden xl:flex\">\r\n      <div class=\"flex gap-2\">\r\n        <a [routerLink]=\"paths.home.path\" class=\"menu-item\">\r\n          <img src=\"/assets/images/Home.svg\" alt=\"\" />\r\n          <span>Trang chủ</span>\r\n        </a>\r\n        <a [routerLink]=\"paths.account.path\" class=\"menu-item\">\r\n          <img src=\"/assets/images/Profile.svg\" alt=\"\" />\r\n          <span>Tài khoản</span>\r\n        </a>\r\n      </div>\r\n    </div>\r\n    <div class=\"col gap-4\" id=\"mockTestAnchor\">\r\n      <div class=\"flex justify-between items-center\">\r\n        <h5 class=\"hidden md:block\">Theo dõi quá trình học</h5>\r\n        <div class=\"h7 md:hidden\">Theo dõi quá trình học</div>\r\n        <a\r\n          (click)=\"showWhatIsProbabilityIndex = true\"\r\n          class=\"!text-blueGrey-500 !no-underline flex cursor-pointer gap-0.5 items-center\"\r\n        >\r\n          <i class=\"icon-Help\"></i>\r\n          <span class=\"underline\">Đây là gì?</span>\r\n        </a>\r\n      </div>\r\n      <div class=\"flex justify-between items-center bg-white rounded-2xl p-6\">\r\n        <div class=\"w-[132px] md:w-[198px] aspect-square\">\r\n          <circle-progress\r\n            *ngIf=\"!learningGoalPath.isEmpty()\"\r\n            [percent]=\"learningGoalPath.progress\"\r\n            title=\"Tiến độ học\"\r\n            titleFontSize=\"14px\"\r\n            titleColor=\"var(--color-primaryBlue)\"\r\n            [subtitle]=\"learningGoalPath.progress + '%'\"\r\n            subtitleFontSize=\"30px\"\r\n            subtitleFontWeight=\"bold\"\r\n            subtitleColor=\"var(--color-primaryBlue)\"\r\n            titleFontWeight=\"bold\"\r\n            [radius]=\"80\"\r\n            outerStrokeColor=\"var(--color-lightOrange-1)\"\r\n            innerStrokeColor=\"var(--color-blueGrey-300)\"\r\n            [outerStrokeWidth]=\"24\"\r\n            innerStrokeWidth=\"24\"\r\n            [space]=\"-24\"\r\n            [responsive]=\"true\"\r\n            [lazy]=\"false\"\r\n          ></circle-progress>\r\n          <circle-progress\r\n            *ngIf=\"learningGoalPath.isEmpty()\"\r\n            [percent]=\"0\"\r\n            title=\"Tiến độ học\"\r\n            titleFontSize=\"14px\"\r\n            titleColor=\"var(--color-primaryBlue)\"\r\n            [subtitle]=\"'--'\"\r\n            subtitleFontSize=\"30px\"\r\n            subtitleFontWeight=\"bold\"\r\n            subtitleColor=\"var(--color-primaryBlue)\"\r\n            titleFontWeight=\"bold\"\r\n            [radius]=\"80\"\r\n            outerStrokeColor=\"var(--color-blueGrey-300)\"\r\n            innerStrokeColor=\"var(--color-blueGrey-300)\"\r\n            [outerStrokeWidth]=\"24\"\r\n            innerStrokeWidth=\"24\"\r\n            [space]=\"-24\"\r\n            [responsive]=\"true\"\r\n          ></circle-progress>\r\n        </div>\r\n        <div class=\"w-0 h-[156px] border border-r-blueGrey-300\"></div>\r\n        <div class=\"w-[132px] md:w-[198px] aspect-square\">\r\n          <circle-progress\r\n            *ngIf=\"!probabilityIndex\"\r\n            [percent]=\"0\"\r\n            title=\"Tỉ lệ thành công\"\r\n            titleFontSize=\"14px\"\r\n            titleColor=\"var(--color-primaryBlue)\"\r\n            [subtitle]=\"'--'\"\r\n            subtitleFontSize=\"30px\"\r\n            subtitleFontWeight=\"bold\"\r\n            subtitleColor=\"var(--color-primaryBlue)\"\r\n            titleFontWeight=\"bold\"\r\n            [radius]=\"80\"\r\n            outerStrokeColor=\"var(--color-blueGrey-300)\"\r\n            innerStrokeColor=\"var(--color-blueGrey-300)\"\r\n            [outerStrokeWidth]=\"24\"\r\n            innerStrokeWidth=\"24\"\r\n            [space]=\"-24\"\r\n            [responsive]=\"true\"\r\n          ></circle-progress>\r\n          <circle-progress\r\n            *ngIf=\"probabilityIndex\"\r\n            [percent]=\"probabilityIndex\"\r\n            title=\"Tỉ lệ thành công\"\r\n            titleFontSize=\"14px\"\r\n            titleColor=\"var(--color-primaryBlue)\"\r\n            [subtitle]=\"probabilityIndex + '%'\"\r\n            subtitleFontSize=\"30px\"\r\n            subtitleFontWeight=\"bold\"\r\n            subtitleColor=\"var(--color-primaryBlue)\"\r\n            titleFontWeight=\"bold\"\r\n            [radius]=\"80\"\r\n            outerStrokeColor=\"var(--color-lightBlue-1)\"\r\n            innerStrokeColor=\"var(--color-blueGrey-300)\"\r\n            [outerStrokeWidth]=\"24\"\r\n            innerStrokeWidth=\"24\"\r\n            [space]=\"-24\"\r\n            [responsive]=\"true\"\r\n            [lazy]=\"false\"\r\n          ></circle-progress>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col gap-4\" [ngClass]=\"{ 'md:bg-robot': hasNewMockTest }\">\r\n      <div class=\"flex justify-between items-center\">\r\n        <h5 class=\"hidden md:block\">Bài kiểm tra thử thông minh</h5>\r\n        <span class=\"md:hidden h7\">Bài kiểm tra thử thông minh</span>\r\n        <a\r\n          (click)=\"showWhatIsMockTest = true\"\r\n          class=\"!text-blueGrey-500 !no-underline flex cursor-pointer gap-0.5 items-center\"\r\n        >\r\n          <i class=\"icon-Help\"></i>\r\n          <span class=\"underline\">Đây là gì?</span>\r\n        </a>\r\n      </div>\r\n      <div *ngIf=\"hasNewMockTest\" class=\"p-6 col gap-2 bg-blue-gradient rounded-2xl shadow-4\">\r\n        <div class=\"flex px-4 justify-between text-white\">\r\n          <span class=\"caption font-bold\">Bài kiểm tra chưa hoàn tất</span>\r\n          <span class=\"caption font-bold\">Ngày tạo</span>\r\n        </div>\r\n        <div class=\"col gap-1\">\r\n          <ng-container *ngFor=\"let item of mockTests\">\r\n            <div\r\n              class=\"flex p-4 justify-between bg-white-gradient rounded-xl\"\r\n              *ngIf=\"item.status === MockTestStatus.active\"\r\n            >\r\n              <div class=\"flex gap-2 items-center\">\r\n                <a (click)=\"goToMockTest(item)\" class=\"!text-primaryBlue cursor-pointer\"\r\n                  >Bài kiểm tra số {{ item.index! + 1 }}</a\r\n                >\r\n                <i class=\"icon-ArrowRight text-[16px]\"></i>\r\n              </div>\r\n              <span>{{ item.getFormattedDate() }}</span>\r\n            </div>\r\n          </ng-container>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col bg-white rounded-2xl overflow-hidden shrink-0\">\r\n      <mat-table [dataSource]=\"dataSource\" matSort class=\"h-[248px]\">\r\n        <!-- Age Definition -->\r\n        <ng-container matColumnDef=\"index\">\r\n          <mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription=\"\">\r\n            <span class=\"caption font-bold text-blueGrey-500\">Tên bài kiểm tra</span>\r\n          </mat-header-cell>\r\n          <mat-cell *matCellDef=\"let row\">\r\n            <div class=\"flex gap-2 items-center\" *ngIf=\"row.status !== MockTestStatus.learning_path_activated\">\r\n              <a (click)=\"goToMockTest(row)\" class=\"!text-primaryBlue cursor-pointer\"\r\n                >Bài kiểm tra số {{ row.index! + 1 }}</a\r\n              >\r\n              <i class=\"icon-ArrowRight text-[16px]\"></i>\r\n            </div>\r\n            <div class=\"flex gap-2 items-center\" *ngIf=\"row.status === MockTestStatus.learning_path_activated\">\r\n              <a (click)=\"goToMockTest(row)\" class=\"no-underline font-bold\">Bài kiểm tra số {{ row.index! + 1 }}</a>\r\n              <i class=\"icon-ArrowRight text-[16px]\"></i>\r\n            </div>\r\n          </mat-cell>\r\n        </ng-container>\r\n\r\n        <!-- Title Definition -->\r\n        <ng-container matColumnDef=\"score\">\r\n          <mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription=\"\">\r\n            <span class=\"caption font-bold text-blueGrey-500\">Điểm số</span>\r\n          </mat-header-cell>\r\n          <mat-cell *matCellDef=\"let row\">\r\n            <b class=\"w-[48px] text-center\">{{ row.score }}</b>\r\n          </mat-cell>\r\n        </ng-container>\r\n\r\n        <!-- Header and Row Declarations -->\r\n        <mat-header-row *matHeaderRowDef=\"['index', 'score']; sticky: true\" class=\"ASD\"></mat-header-row>\r\n        <mat-row *matRowDef=\"let row; columns: ['index', 'score']\"></mat-row>\r\n      </mat-table>\r\n      <mat-paginator [pageSizeOptions]=\"[4]\" aria-label=\"Select page of periodic elements\"> </mat-paginator>\r\n      <button [routerLink]=\"paths.mockTest.path\" class=\"btn btn-large w-full !rounded-none\">\r\n        Tạo bài kiểm tra thử thông minh mới\r\n      </button>\r\n    </div>\r\n    <div class=\"flex justify-center rounded-2xl shadow-3 bg-gradient pt-6 pr-6 text-white\">\r\n      <canvas\r\n        #chartCanvas\r\n        baseChart\r\n        width=\"500\"\r\n        height=\"300\"\r\n        [type]=\"'line'\"\r\n        [data]=\"lineChartData\"\r\n        [options]=\"lineChartOptions\"\r\n        [legend]=\"false\"\r\n      >\r\n      </canvas>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"showWhatIsProbabilityIndex\"\r\n  class=\"fixed top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center z-[100]\"\r\n>\r\n  <div\r\n    class=\"absolute top-0 md:static col rounded-2xl bg-white gap-6 p-6 max-w-[700px] max-h-[calc(100vh_-_8rem)] overflow-auto\"\r\n  >\r\n    <h4>Theo dõi quá trình học</h4>\r\n    <p>\r\n      Để có thể đạt được mục tiêu lớn mà bạn đặt ra trong học tập, trước tiên hệ thống của Kyons sẽ chia mục tiêu ấy\r\n      thành <b class=\"text-orange\">nhiều mục tiêu nhỏ</b> và cụ thể hơn ứng với từng dạng kiến thức, và sắp xếp chúng\r\n      thành một <b class=\"text-orange\">lộ trình học</b>.\r\n    </p>\r\n    <p>\r\n      Và để đạt được những mục tiêu nhỏ ấy, bạn cần phải <b class=\"text-lightBlue-1\">làm bài tập liên tục</b> cho đến\r\n      khi hệ thống AI của Kyons xác định mức độ vững vàng kiến thức đó của bạn và sẽ mở khóa mục tiêu tiếp theo. Sau khi\r\n      hoàn thành tất cả các mục tiêu nhỏ thì cũng là lúc bạn hoàn tất lộ trình học và đạt được mục tiêu lớn của mình.\r\n    </p>\r\n    <p>\r\n      Để theo dõi quá trình học của bản thân, bạn có thể quan sát chỉ số <b class=\"text-lightBlue-1\">“Tiến độ học”</b>.\r\n      Ngoài ra, hệ thống còn có một chỉ số đặc biệt hơn đó là <b class=\"text-lightBlue-1\">“Tỉ lệ thành công”</b>, thể\r\n      hiện khả năng bạn có thể hoàn thành mục tiêu lớn dựa trên số lượng kiến thức mà bạn đã học so với toàn bộ kiến\r\n      thức có thể ra trong bài kiểm tra.\r\n    </p>\r\n    <button (click)=\"showWhatIsProbabilityIndex = false\" class=\"btn w-full shrink-0\">Đã hiểu</button>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"showCompleteTutorial\"\r\n  class=\"fixed top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center z-[100]\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 max-w-[700px] max-h-[calc(100vh_-_8rem)] overflow-auto\">\r\n    <h4>Và thế là hết... Bây giờ bạn đã biết cách sử dụng Kyons App rồi đó!</h4>\r\n    <p>\r\n      Nếu quên, bạn có thể truy cập phần <a (click)=\"completeTutorial(false)\">Trang chủ</a> >\r\n      <i class=\"icon-Settings text-[16px]\"></i> > “Hướng dẫn sử dụng” để xem lại. Chúc bạn học tập thật vui vẻ nha\r\n    </p>\r\n    <button (click)=\"completeTutorial()\" class=\"btn w-full shrink-0\">Quay về trang chủ</button>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"showWhatIsMockTest\"\r\n  class=\"fixed top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center z-[100]\"\r\n>\r\n  <div\r\n    class=\"absolute top-0 md:static col rounded-2xl bg-white gap-6 p-6 max-w-[700px] max-h-[calc(100vh_-_8rem)] overflow-auto\"\r\n  >\r\n    <h4>Bài kiểm tra thử thông minh</h4>\r\n    <p>\r\n      <b class=\"text-orange\">Bài kiểm tra thử thông minh</b> (Smart Mock Test) do công nghệ AI của Kyons tạo ra nhằm mục\r\n      đích đánh giá khả năng đạt được mục tiêu học tập của bạn. Từ đó, hệ thống sẽ thiết kế lộ trình học tập dành riêng\r\n      cho bạn để tập trung cải thiện những kiến thức còn yếu.\r\n    </p>\r\n    <p>\r\n      Với mỗi mục tiêu học tập, bạn sẽ có thể tạo <b class=\"text-orange\">không giới hạn</b> số lượng bài kiểm tra thử\r\n      thông minh!\r\n    </p>\r\n    <p>\r\n      Bởi vì kết quả mỗi bài kiểm tra được tạo ra sẽ khác nhau nên mỗi bài kiểm tra sẽ có một lộ trình học tương ứng.\r\n      Bạn chỉ cần chọn <b class=\"text-lightBlue-1\">một lộ trình mà bạn nghĩ rằng sát với khả năng của mình nhất</b> để\r\n      bắt đầu, bằng cách nhấn vào tên bài kiểm tra.\r\n    </p>\r\n    <p>\r\n      Lưu ý: Sau khi chọn một lộ trình học, bạn hoàn toàn có thể\r\n      <b class=\"text-lightBlue-1\">thay đổi sang lộ trình học khác</b>. Vì thế, hãy cứ trải nghiệm Kyons để hiểu rõ kiến\r\n      thức mình đang còn yếu nằm ở đâu nhé! Chúc bạn học tập thật tốt nha.\r\n    </p>\r\n    <button (click)=\"showWhatIsMockTest = false\" class=\"btn w-full shrink-0\">Đã hiểu</button>\r\n  </div>\r\n</div>\r\n<div *ngIf=\"showTutorial\">\r\n  <kyonsvn-tutorial\r\n    *ngIf=\"tutorialPart === 1\"\r\n    (skipCallback)=\"skip()\"\r\n    [scriptElements]=\"scriptElements\"\r\n    [scriptEvents]=\"[['click', script1]]\"\r\n    class=\"hidden md:block\"\r\n  ></kyonsvn-tutorial>\r\n  <kyonsvn-tutorial\r\n    *ngIf=\"tutorialPart === 1\"\r\n    (skipCallback)=\"skip()\"\r\n    [scriptElements]=\"scriptXsElements\"\r\n    [scriptEvents]=\"[['click', script1]]\"\r\n    class=\"md:hidden\"\r\n  ></kyonsvn-tutorial>\r\n  <kyonsvn-tutorial\r\n    *ngIf=\"tutorialPart === 2\"\r\n    (skipCallback)=\"skip()\"\r\n    [scriptElements]=\"scriptElements\"\r\n    [scriptEvents]=\"[['click', script2]]\"\r\n    class=\"hidden md:block\"\r\n  ></kyonsvn-tutorial>\r\n  <kyonsvn-tutorial\r\n    *ngIf=\"tutorialPart === 2\"\r\n    (skipCallback)=\"skip()\"\r\n    [scriptElements]=\"scriptXsElements\"\r\n    [scriptEvents]=\"[['click', script2]]\"\r\n    class=\"md:hidden\"\r\n  ></kyonsvn-tutorial>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, ElementRef, OnInit, ViewChild, inject } from '@angular/core';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\r\nimport { KnowledgeService } from '@infrastructure/knowledge/knowledge.service';\r\nimport { Lesson } from '@infrastructure/knowledge/lesson';\r\nimport { LessonService } from '@infrastructure/knowledge/lesson.service';\r\nimport { LoadingOverlayService } from '@infrastructure/loading-overlay.service';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport { TestService } from '@infrastructure/test/test.service';\r\nimport { TrackingLessonComponent } from '@presentation/share-components/tracking/tracking-lesson.component';\r\nimport { ExerciseContentComponent, QuestionsProgressComponent } from '@share-components';\r\nimport { SafeHtmlPipe } from '@share-pipes';\r\nimport { Exercise, Progress, Question, QuestionReview, Submission } from '@share-utils/data';\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    ExerciseContentComponent,\r\n    QuestionsProgressComponent,\r\n    MatTooltipModule,\r\n    SafeHtmlPipe,\r\n    TrackingLessonComponent,\r\n  ],\r\n  templateUrl: './lesson-page.component.html',\r\n  styleUrls: ['./lesson-page.component.scss'],\r\n})\r\nexport class LessonPageComponent implements OnInit {\r\n  paths = inject(NavigationService).paths;\r\n  knowledgeService = inject(KnowledgeService);\r\n  learningGoal = this.knowledgeService.getSelectedLearningGoal();\r\n  lessonService = inject(LessonService);\r\n  route = inject(ActivatedRoute);\r\n  router = inject(Router);\r\n  testService = inject(TestService);\r\n  loading = inject(LoadingOverlayService);\r\n\r\n  exercise = Exercise.empty();\r\n  submission = new Submission();\r\n  showIncomplete = false;\r\n  ignoreIncomplete = false;\r\n  lessonId = '';\r\n  question = Question.empty();\r\n  questionReview: QuestionReview | null = null;\r\n  progress = Progress.from(0, 100);\r\n  progressStr = '';\r\n  showHint = false;\r\n  lesson: Lesson = Lesson.empty();\r\n  showComplete = false;\r\n  isSubmitting = false;\r\n  // currentForm!: HTMLFormElement;\r\n  isCompleted = false;\r\n  isOutOfSubscription = false;\r\n  currentTestIndex = 0;\r\n  stars = [0];\r\n\r\n  @ViewChild('exerciseElm') exerciseElm!: ElementRef;\r\n  @ViewChild('scrollTopElm') scrollTopElm!: ElementRef;\r\n\r\n  ngOnInit(): void {\r\n    this.loading.show();\r\n    this.lessonId = this.route.snapshot.params['id'];\r\n    this.lessonService.getDetail(this.lessonId).subscribe({\r\n      next: result => {\r\n        this.lesson = result.lessonCategories[0].lessons[0];\r\n      },\r\n    });\r\n    this._getQuestion();\r\n  }\r\n\r\n  _getQuestion() {\r\n    this.isSubmitting = true;\r\n    this.testService.getExercise(this.route.snapshot.params['id']).subscribe({\r\n      next: (exercise: Exercise) => {\r\n        this.exercise = exercise;\r\n        this.question = exercise.questions[0];\r\n        this.stars = Array.from(Array((this.question.difficulty ?? 0) + 1).keys());\r\n        this.progress.value = exercise.progress ?? 0;\r\n        this.progressStr = (exercise.progress ?? 0).toFixed(2);\r\n        this.loading.hide();\r\n        setTimeout(() => {\r\n          this.scrollTopElm.nativeElement.scrollTop = 0;\r\n          this.scrollTopElm.nativeElement.scrollLeft = 0;\r\n          this.isSubmitting = false;\r\n        }, 2000);\r\n      },\r\n      error: e => {\r\n        console.log(e);\r\n        this.loading.hide();\r\n        if (e.error_code == 'NotFound') {\r\n          this.progress.value = 100;\r\n          this.progressStr = '100.00';\r\n          this.showComplete = true;\r\n        } else if (e.error_code == 'OutOfSubscription') {\r\n          this.isOutOfSubscription = true;\r\n        }\r\n        this.isSubmitting = false;\r\n      },\r\n    });\r\n  }\r\n\r\n  // updateProgress(nextProgress: Progress) {\r\n  //   this.progress = nextProgress;\r\n  // }\r\n\r\n  updateSubmission(nextSubmission: Submission) {\r\n    this.submission.submitData = nextSubmission.submitData;\r\n  }\r\n\r\n  testComplete() {\r\n    if (this.isSubmitting) return;\r\n    const records: HTMLFormElement[] = this.exerciseElm.nativeElement.querySelectorAll('form');\r\n    const data = new FormData(records[0]);\r\n    const result = data.get('objective_type_select');\r\n    console.log(result);\r\n    if (!this.submission.hasAnswer(this.exercise.questions[0].id)) {\r\n      this.showIncomplete = true;\r\n      return;\r\n    } else {\r\n      this.isSubmitting = true;\r\n      console.log('testComplete');\r\n      // this.currentForm.querySelectorAll('input[type=\"radio\"]').forEach((input, index) => {\r\n      //   input.setAttribute('disabled', 'disabled');\r\n      // });\r\n      this.lessonService.submitExercise(this.lessonId, this.submission).subscribe({\r\n        next: result => {\r\n          console.log(result.result[0].answer_status);\r\n          this.progress.value = result['lesson_percentage'];\r\n          this.progressStr = (result['lesson_percentage'] as number).toFixed(2);\r\n          this.questionReview = QuestionReview.fromJson(result['result'][0]);\r\n          if (result['lesson_percentage'] == 100) {\r\n            this.isCompleted = true;\r\n          }\r\n          this.isSubmitting = false;\r\n          this.scrollTopElm.nativeElement.scrollTop = 0;\r\n          this.scrollTopElm.nativeElement.scrollLeft = 0;\r\n        },\r\n        error: (e: any) => {\r\n          this.isSubmitting = false;\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  nextQuestion() {\r\n    if (this.isCompleted) {\r\n      this.showComplete = true;\r\n      return;\r\n    }\r\n    // this.currentForm.querySelectorAll('input[type=\"radio\"]').forEach(input => {\r\n    //   input.removeAttribute('disabled');\r\n    // });\r\n    // this.currentForm.reset();\r\n    this.submission = new Submission();\r\n    this.questionReview = null;\r\n    this._getQuestion();\r\n  }\r\n\r\n  submitIncomplete() {\r\n    this.testComplete();\r\n    this.showIncomplete = false;\r\n  }\r\n}\r\n","<div class=\"w-full h-screen bg-blueGrey-100 flex justify-center\">\r\n  <div class=\"w-full max-w-[894px] col gap-4 p-6 h-screen\">\r\n    <button [routerLink]=\"paths.learningPath.path\" class=\"icon-btn self-end md:hidden\">\r\n      <i class=\"icon-Close\"></i>\r\n    </button>\r\n    <div class=\"flex items-center justify-between w-full\">\r\n      <div class=\"flex gap-4 items-center\">\r\n        <button\r\n          [routerLink]=\"paths.learningPath.path\"\r\n          class=\"no-underline gap-2 items-center text-orange hidden md:flex\"\r\n        >\r\n          <i class=\"icon-ArrowLeft\"></i>\r\n          <span>Về lộ trình học</span>\r\n        </button>\r\n        <h4>{{ learningGoal.name }}</h4>\r\n      </div>\r\n      <!-- <div class=\"flex gap-2\">\r\n        <a [routerLink]=\"paths.home.path\" class=\"menu-item\">\r\n      <img src=\"/assets/images/Home.svg\" alt=\"\" />\r\n      <span>Trang chủ</span>\r\n    </a>\r\n    <a [routerLink]=\"paths.account.path\" class=\"menu-item\">\r\n      <img src=\"/assets/images/Profile.svg\" alt=\"\" />\r\n      <span>Tài khoản</span>\r\n    </a>\r\n      </div> -->\r\n    </div>\r\n    <div\r\n      #exerciseElm\r\n      class=\"col rounded-lg bg-white p-4 gap-4 overflow-y-auto md:overflow-hidden md:flex-1 h-[calc(100vh_-_200px)] relative\"\r\n    >\r\n      <div class=\"flex w-full items-end justify-center gap-6\">\r\n        <div class=\"col gap-1 w-full\">\r\n          <div class=\"flex justify-between\">\r\n            <h6 class=\"hidden md:block\">{{ progressStr }}%</h6>\r\n            <div class=\"flex gap-2 justify-center\">\r\n              <span class=\"h7 !leading-8\">Độ khó:</span>\r\n              <div class=\"star\" *ngFor=\"let level of stars\"><img src=\"/assets/images/star.svg\" /></div>\r\n            </div>\r\n          </div>\r\n          <span class=\"h8 md:hidden\">{{ progressStr }}%</span>\r\n          <kyonsvn-questions-progress\r\n            [progress]=\"progress\"\r\n            class=\"w-full\"\r\n            [hideLabel]=\"true\"\r\n          ></kyonsvn-questions-progress>\r\n        </div>\r\n        <div class=\"flex gap-2\">\r\n          <a class=\"btn-rounded btn-icon\" href=\"https://forms.gle/b36mTdMWNRY1qkZh7\" target=\"_blank\"\r\n            ><i class=\"icon-Error\"></i\r\n          ></a>\r\n          <button [disabled]=\"questionReview\" class=\"btn btn-icon\" (click)=\"showHint = true\">\r\n            <i class=\"icon-Lightbulb text-white\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div #scrollTopElm class=\"col gap-2 flex-1 overflow-auto\">\r\n        <h6 *ngIf=\"questionReview\">\r\n          <span *ngIf=\"!questionReview.isCorrectAnswer\" class=\"text-red-0\">Chưa phải đáp án đúng!</span\r\n          ><span *ngIf=\"questionReview.isCorrectAnswer\" class=\"text-darkEmerald\">Đáp án chính xác!</span>\r\n        </h6>\r\n        <!-- <p><span [innerHTML]=\"question.content | safeHtml\"></span></p> -->\r\n        <div class=\"mt-2 flex flex-col gap-1\"></div>\r\n        <div class=\"col flex-1\">\r\n          <!-- <span #htmlRoot [innerHTML]=\"question.content | safeHtml\"></span> -->\r\n          <kyonsvn-exercise-content\r\n            [question]=\"question\"\r\n            [progress]=\"progress\"\r\n            [submission]=\"submission\"\r\n            (submissionEvent)=\"updateSubmission($event)\"\r\n            class=\"flex md:flex-1 md:max-h-full md:overflow-y-auto\"\r\n          ></kyonsvn-exercise-content>\r\n        </div>\r\n        <div *ngIf=\"questionReview\" class=\"col gap-2\">\r\n          <!-- <span [innerHTML]=\"questionReview.content | safeHtml\"></span> -->\r\n          <!-- <span [innerHTML]=\"questionReview.html | safeHtml\"></span> -->\r\n          <span [innerHTML]=\"questionReview.explanation | safeHtml\"></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"justify-between hidden md:flex flex-col gap-3\">\r\n        <div class=\"hidden md:flex flex-1 gap-2\">\r\n          <strong class=\"uppercase\">Phím tắt:</strong>\r\n          <span>Bấm 1, 2, 3, 4 chọn đáp án, bấm space để làm tiếp</span>\r\n        </div>\r\n        <div class=\"flex gap-4 items-center justify-between w-full\">\r\n          <!-- <button (click)=\"scrollLeft()\" [disabled]=\"currentTestIndex === 0\" class=\"btn\">Câu trước</button>\r\n          <div class=\"flex-1 flex gap-1 w-full overflow-hidden\">\r\n            <button class=\"btn-rounded btn-icon\" (click)=\"previousPage()\"><i class=\"icon-ArrowLeft\"></i></button>\r\n            <div #scrollElm class=\"w-[calc(100%_-_92px)] overflow-x-auto flex gap-1 hide-scrollbar\">\r\n              <button\r\n                class=\"btn-rounded btn-icon\"\r\n                *ngFor=\"let question of testContent.questions; index as i\"\r\n                [ngClass]=\"{\r\n                  'fill-blue': i === currentTestIndex,\r\n                  'outline-blue': i !== currentTestIndex,\r\n                  'fill-black': testSubmission.hasAnswer(question.id)\r\n                }\"\r\n                (click)=\"currentTestIndex = i\"\r\n              >\r\n                {{ i + 1 }}\r\n              </button>\r\n            </div>\r\n            <button class=\"btn-icon btn-rounded\" (click)=\"nextPage()\"><i class=\"icon-ArrowRight\"></i></button>\r\n          </div>\r\n          <button *ngIf=\"currentTestIndex !== testContent.questions.length - 1\" (click)=\"scrollRight()\" class=\"btn\">\r\n            Câu kế tiếp\r\n          </button> -->\r\n          <button [disabled]=\"progress.value === 0\" [routerLink]=\"['review']\" class=\"btn secondary\">\r\n            Xem lại các dạng bài\r\n          </button>\r\n          <button *ngIf=\"!questionReview\" [disabled]=\"isSubmitting\" (click)=\"testComplete()\" class=\"btn\">\r\n            Nộp bài\r\n          </button>\r\n          <button *ngIf=\"questionReview\" [disabled]=\"isSubmitting\" (click)=\"nextQuestion()\" class=\"btn\">\r\n            Câu kế tiếp\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"isSubmitting\" class=\"absolute top-0 left-0 w-full h-full z-50\"></div>\r\n    </div>\r\n    <!-- <div class=\"ads-md\">\r\n      <span class=\"text-white\">Muốn luyện tập với vô hạn câu hỏi được tạo ra bởi Trí tuệ nhân tạo (AI)?</span>\r\n      <button class=\"btn btn-large\" (click)=\"showWaitlistPopup = true\">Đăng ký Danh sách chờ của Kyons!</button>\r\n    </div> -->\r\n    <div class=\"md:hidden w-full flex items-center justify-between gap-2 mb-20\">\r\n      <div class=\"flex gap-2 items-center w-full justify-between\">\r\n        <button [disabled]=\"progress.value === 0\" [routerLink]=\"['review']\" class=\"btn btn-icon btn-large secondary\">\r\n          <i class=\"icon-Preview\"></i>\r\n        </button>\r\n        <!-- <button (click)=\"scrollLeft()\" [disabled]=\"currentTestIndex === 0\" class=\"btn btn-icon\">\r\n          <i class=\"icon-ArrowLeft\"></i>\r\n        </button> -->\r\n        <!-- <a\r\n          class=\"btn-rounded btn-icon order-1 md:order-1\"\r\n          href=\"https://forms.gle/b36mTdMWNRY1qkZh7\"\r\n          target=\"_blank\"\r\n          #tooltip=\"matTooltip\"\r\n          matTooltip=\"Nội dung “có vấn đề”? Thông báo cho Kyons liền tay!\"\r\n          matTooltipPosition=\"above\"\r\n          matTooltipHideDelay=\"5000\"\r\n          matTooltipClass=\"above\"\r\n          aria-label=\"Button that displays a tooltip that hides when scrolled out of the container\"\r\n          ><i class=\"icon-Error\"></i\r\n        ></a> -->\r\n        <!-- <div #scrollXsElm class=\"max-w-[calc(100%_-_92px)] overflow-x-auto flex gap-[4px] hide-scrollbar\">\r\n          <button\r\n            class=\"btn-rounded btn-icon\"\r\n            *ngFor=\"let question of testContent.questions; index as i\"\r\n            [ngClass]=\"{\r\n              'fill-blue': i === currentTestIndex,\r\n              'outline-blue': i !== currentTestIndex,\r\n              'fill-black': testSubmission.hasAnswer(question.id)\r\n            }\"\r\n            (click)=\"currentTestIndex = i\"\r\n          >\r\n            {{ i + 1 }}\r\n          </button>\r\n        </div> -->\r\n        <button\r\n          [disabled]=\"isSubmitting\"\r\n          *ngIf=\"questionReview\"\r\n          (click)=\"nextQuestion()\"\r\n          class=\"btn btn-icon btn-large\"\r\n        >\r\n          <i class=\"icon-ArrowRight\"></i>\r\n        </button>\r\n        <button\r\n          [disabled]=\"isSubmitting\"\r\n          *ngIf=\"!questionReview\"\r\n          (click)=\"testComplete()\"\r\n          class=\"btn btn-icon btn-large\"\r\n        >\r\n          <i class=\"icon-ArrowRight\"></i>\r\n        </button>\r\n        <!-- <button\r\n          *ngIf=\"currentTestIndex !== testContent.questions.length - 1\"\r\n          (click)=\"scrollRight()\"\r\n          [disabled]=\"currentTestIndex === testContent.questions.length - 1\"\r\n          class=\"btn btn-icon\"\r\n        >\r\n          <i class=\"icon-ArrowRight\"></i>\r\n        </button> -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"showIncomplete\"\r\n  class=\"absolute top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 w-full md:w-[700px] items-center\">\r\n    <img src=\"/assets/images/warning.webp\" alt=\"\" />\r\n    <div class=\"col w-full gap-6\">\r\n      <h5>Bạn chưa chọn đáp án!</h5>\r\n      <button (click)=\"showIncomplete = false\" class=\"btn w-full\">Để mình làm tiếp</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"showHint\"\r\n  class=\"absolute top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 w-full md:w-[700px] items-center\">\r\n    <div class=\"col w-full gap-6\">\r\n      <h5>Gợi ý từ Kyons</h5>\r\n      <p [innerHTML]=\"question.hint | safeHtml\"></p>\r\n      <button (click)=\"showHint = false\" class=\"btn w-full\">Đã hiểu</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"showComplete\"\r\n  class=\"absolute top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 w-full md:w-[700px] items-center\">\r\n    <div class=\"col w-full gap-6 justify-center items-stretch\">\r\n      <img class=\"w-[150px] self-center\" src=\"/assets/images/lesson-success.webp\" alt=\"\" />\r\n      <h5 class=\"w-full\">Xin chúc mừng, bạn vừa hoàn thành xuất sắc {{ lesson.name }} rồi đó!</h5>\r\n      <p>Con đường để hoàn thành mục tiêu học tập cũng đang đến gần hơn rồi, tiếp tục ôn tập thôi nào bạn ơi!</p>\r\n      <button [routerLink]=\"paths.learningPath.path\" class=\"btn w-full\">Quay lại Lộ trình học</button>\r\n      <button [routerLink]=\"['review']\" class=\"btn-rounded w-full\">Xem lại các bài tập đã làm</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"isOutOfSubscription\"\r\n  class=\"absolute top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 w-full md:w-[700px] items-center\">\r\n    <div class=\"col w-full gap-6 justify-center items-stretch\">\r\n      <img class=\"w-[150px] self-center\" src=\"/assets/images/easymodecompleted.webp\" alt=\"\" />\r\n      <h5 class=\"w-full\">Rất tiếc! Bạn đã làm hết các câu dễ rồi</h5>\r\n      <p>\r\n        Bạn vẫn có thể học tiếp các bài học tiếp theo, chỉ là sẽ bị hạn chế các câu hỏi nâng cao hơn thôi. Để mở khóa\r\n        tính năng này, hãy mua gói “Plus” của Kyons nhé!\r\n      </p>\r\n      <button [routerLink]=\"paths.package.path\" class=\"btn w-full\">Mua gói Plus</button>\r\n      <button [routerLink]=\"paths.learningPath.path\" class=\"btn-rounded w-full\">Trở về Lộ trình học</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<student-tracking-lesson trackingType=\"practice\" [lessonId]=\"lessonId\"></student-tracking-lesson>\r\n","import { CommonModule, Location } from '@angular/common';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Component, ElementRef, OnInit, ViewChild, inject } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\r\nimport { serverApi } from '@infrastructure/auth/interceptor';\r\nimport { KnowledgeService } from '@infrastructure/knowledge/knowledge.service';\r\nimport { LessonService } from '@infrastructure/knowledge/lesson.service';\r\nimport { LoadingOverlayService } from '@infrastructure/loading-overlay.service';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport { TestService } from '@infrastructure/test/test.service';\r\nimport { LoadingComponent } from '@presentation/share-components/loading/loading.component';\r\nimport { SafeHtmlPipe } from '@share-pipes';\r\nimport { QuestionReview } from '@share-utils/data';\r\nimport { MockTestStatus } from '@share-utils/domain';\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [CommonModule, RouterModule, FormsModule, SafeHtmlPipe, LoadingComponent],\r\n  templateUrl: './lesson-review-page.component.html',\r\n  styleUrls: ['./lesson-review-page.component.scss'],\r\n})\r\nexport class LessonReviewPageComponent implements OnInit {\r\n  route = inject(ActivatedRoute);\r\n  knowledgeService = inject(KnowledgeService);\r\n  testService = inject(TestService);\r\n  paths = inject(NavigationService).paths;\r\n  router = inject(Router);\r\n  lessonService = inject(LessonService);\r\n  http = inject(HttpClient);\r\n  loading = inject(LoadingOverlayService);\r\n  location = inject(Location);\r\n  learningGoal = this.knowledgeService.getStudentLearningGoal();\r\n\r\n  questions: QuestionReview[] = [];\r\n  currentQuestion!: QuestionReview;\r\n  currentQuestionIndex = 0;\r\n  isLoading = true;\r\n  mockTestId!: string;\r\n  status: MockTestStatus = MockTestStatus.active;\r\n  MockTestStatus = MockTestStatus;\r\n\r\n  @ViewChild('scrollElm') scrollElm!: ElementRef;\r\n\r\n  ngOnInit(): void {\r\n    this.mockTestId = this.route.snapshot.paramMap.get('id') ?? '';\r\n    this.lessonService.getReviewHtml(this.mockTestId).subscribe({\r\n      next: (result: any) => {\r\n        console.log(result);\r\n        this.questions = result.data;\r\n        this.currentQuestion = this.questions[0];\r\n        this.isLoading = false;\r\n        //\r\n      },\r\n      error: (e: any) => {\r\n        //\r\n      },\r\n    });\r\n  }\r\n\r\n  previousPage() {\r\n    this.scrollElm.nativeElement.scrollLeft -= 400;\r\n  }\r\n  nextPage() {\r\n    this.scrollElm.nativeElement.scrollLeft += 400;\r\n  }\r\n\r\n  scrollLeft() {\r\n    this.currentQuestionIndex--;\r\n    this._centerCurrentIndex();\r\n  }\r\n  scrollRight() {\r\n    this.currentQuestionIndex++;\r\n    this._centerCurrentIndex();\r\n  }\r\n\r\n  _centerCurrentIndex() {\r\n    const currentElm = this.scrollElm.nativeElement.querySelectorAll('button')[this.currentQuestionIndex];\r\n    const currentElmLeft = currentElm.offsetLeft - this.scrollElm.nativeElement.offsetLeft;\r\n    const currentElmWidth = currentElm.offsetWidth;\r\n    const currentElmCenter = currentElmLeft + currentElmWidth / 2;\r\n    const scrollElmWidth = this.scrollElm.nativeElement.offsetWidth;\r\n    this.scrollElm.nativeElement.scrollLeft = currentElmCenter - scrollElmWidth / 2;\r\n  }\r\n\r\n  activateLearningPath() {\r\n    this.loading.show();\r\n    this.http.get(`${serverApi()}/students/gifts/request_free_subscription`).subscribe({\r\n      next: () => {\r\n        this.lessonService.activateLearningPath(this.mockTestId).subscribe({\r\n          next: () => {\r\n            this.loading.hide();\r\n            this.router.navigate([this.paths.home.path], { queryParams: { learning_goal_id: 1 } });\r\n          },\r\n          error: e => {\r\n            console.log(e);\r\n            this.loading.hide();\r\n          },\r\n        });\r\n      },\r\n      error: e => {\r\n        console.log(e);\r\n        this.lessonService.activateLearningPath(this.mockTestId).subscribe({\r\n          next: () => {\r\n            this.loading.hide();\r\n            this.router.navigate([this.paths.home.path], { queryParams: { learning_goal_id: 1 } });\r\n          },\r\n          error: e => {\r\n            console.log(e);\r\n            this.loading.hide();\r\n          },\r\n        });\r\n      },\r\n    });\r\n  }\r\n}\r\n","<student-loading *ngIf=\"isLoading\"></student-loading>\r\n<div class=\"flex w-full justify-center\">\r\n  <div class=\"col gap-4 w-full max-w-[1122px] p-6 md:p-12 h-screen\">\r\n    <button [routerLink]=\"[paths.learningPath.path]\" class=\"icon-btn self-end md:hidden\">\r\n      <i class=\"icon-Close\"></i>\r\n    </button>\r\n    <div class=\"flex items-center justify-between w-full\">\r\n      <div class=\"flex gap-4 items-center\">\r\n        <button\r\n          [routerLink]=\"[paths.learningPath.path]\"\r\n          class=\"no-underline gap-2 items-center text-orange hidden md:flex\"\r\n        >\r\n          <i class=\"icon-ArrowLeft\"></i>\r\n          <span>Về lộ trình học</span>\r\n        </button>\r\n        <h4>{{ learningGoal.name }}</h4>\r\n      </div>\r\n      <div class=\"hidden md:flex gap-2\">\r\n        <a [routerLink]=\"paths.home.path\" class=\"menu-item\">\r\n          <img src=\"/assets/images/Home.svg\" alt=\"\" />\r\n          <span>Trang chủ</span>\r\n        </a>\r\n        <a [routerLink]=\"paths.account.path\" class=\"menu-item\">\r\n          <img src=\"/assets/images/Profile.svg\" alt=\"\" />\r\n          <span>Tài khoản</span>\r\n        </a>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"col rounded-lg bg-white p-4 gap-4 overflow-y-auto md:overflow-hidden md:flex-1 h-[calc(100vh_-_280px)]\"\r\n      *ngIf=\"!isLoading\"\r\n    >\r\n      <div class=\"flex items-center justify-between w-full\">\r\n        <h6>\r\n          Câu {{ currentQuestionIndex + 1 }}\r\n          <!-- <span *ngIf=\"!questions[currentQuestionIndex].isCorrectAnswer\" class=\"text-red-0\"\r\n            >Chưa phải đáp án đúng!</span\r\n          ><span *ngIf=\"questions[currentQuestionIndex].isCorrectAnswer\" class=\"text-darkEmerald\"\r\n            >Đáp án chính xác!</span\r\n          > -->\r\n        </h6>\r\n        <a href=\"https://forms.gle/b36mTdMWNRY1qkZh7\" target=\"_blank\" class=\"btn-rounded hidden md:flex\">Báo lỗi</a>\r\n        <a href=\"https://forms.gle/b36mTdMWNRY1qkZh7\" target=\"_blank\" class=\"btn-rounded btn-icon block md:hidden\"\r\n          ><i class=\"icon-Error\"></i\r\n        ></a>\r\n      </div>\r\n      <div class=\"col gap-2 md:flex-1 md:max-h-screen md:overflow-y-auto\">\r\n        <span [innerHTML]=\"questions[currentQuestionIndex].content | safeHtml\"></span>\r\n        <!-- <span [innerHTML]=\"questions[currentQuestionIndex].html | safeHtml\"></span> -->\r\n        <span [innerHTML]=\"questions[currentQuestionIndex].explanation | safeHtml\"></span>\r\n      </div>\r\n    </div>\r\n    <div class=\"w-full\">\r\n      <!-- <div class=\"hidden md:flex flex-1 gap-2\">\r\n        <strong class=\"uppercase\">Phím tắt:</strong>\r\n        <span>Bấm 1,2,3,4 chọn đáp án, bấm space sẽ làm tiếp hoặc nộp bài</span>\r\n      </div> -->\r\n      <div class=\"flex gap-2 md:gap-4 items-center w-full overflow-hidden\">\r\n        <button (click)=\"scrollLeft()\" [disabled]=\"currentQuestionIndex === 0\" class=\"btn hidden md:flex\">\r\n          Câu trước\r\n        </button>\r\n        <button\r\n          (click)=\"scrollLeft()\"\r\n          [disabled]=\"currentQuestionIndex === 0\"\r\n          class=\"btn btn-icon btn-large flex md:hidden\"\r\n        >\r\n          <i class=\"icon-ArrowLeft\"></i>\r\n        </button>\r\n        <div class=\"flex-1 flex gap-1 w-full overflow-hidden\">\r\n          <button class=\"btn-rounded btn-icon hidden md:flex\" (click)=\"previousPage()\">\r\n            <i class=\"icon-ArrowLeft\"></i>\r\n          </button>\r\n          <div #scrollElm class=\"w-full md:w-[calc(100%_-_92px)] overflow-x-auto flex gap-1 hide-scrollbar\">\r\n            <button\r\n              class=\"btn btn-icon fill-black\"\r\n              *ngFor=\"let question of questions; index as i\"\r\n              [ngClass]=\"{\r\n                'fill-blue': i === currentQuestionIndex\r\n              }\"\r\n              (click)=\"currentQuestionIndex = i\"\r\n            >\r\n              {{ i + 1 }}\r\n            </button>\r\n          </div>\r\n          <button class=\"btn-icon btn-rounded hidden md:flex\" (click)=\"nextPage()\">\r\n            <i class=\"icon-ArrowRight\"></i>\r\n          </button>\r\n        </div>\r\n        <button\r\n          [disabled]=\"currentQuestionIndex === questions.length - 1\"\r\n          (click)=\"scrollRight()\"\r\n          class=\"btn hidden md:flex\"\r\n        >\r\n          Câu kế tiếp\r\n        </button>\r\n        <button\r\n          (click)=\"scrollRight()\"\r\n          [disabled]=\"currentQuestionIndex === questions.length - 1\"\r\n          class=\"btn btn-icon btn-large flex md:hidden\"\r\n        >\r\n          <i class=\"icon-ArrowRight\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <!-- <div class=\"flex bg-lightOrange-4 w-full h-[56px] items-center justify-between px-6 rounded-lg\">\r\n      <span><b class=\"text-orange\">Bạn muốn cải thiện điểm số?</b> Bấm <b>Tạo lộ trình học</b> để bắt đầu ngay!</span>\r\n      <button\r\n        [disabled]=\"status !== MockTestStatus.learning_path_received\"\r\n        (click)=\"activateLearningPath()\"\r\n        class=\"btn\"\r\n      >\r\n        Tạo lộ trình học\r\n      </button>\r\n    </div> -->\r\n  </div>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit, inject } from '@angular/core';\r\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\r\nimport { MockTestStatus } from '@domain/knowledge/i-mock-test';\r\nimport { serverApi } from '@infrastructure/auth/interceptor';\r\nimport { KnowledgeService } from '@infrastructure/knowledge/knowledge.service';\r\nimport { LessonService } from '@infrastructure/knowledge/lesson.service';\r\nimport { LoadingOverlayService } from '@infrastructure/loading-overlay.service';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport { TestService } from '@infrastructure/test/test.service';\r\nimport { TutorialService } from '@infrastructure/tutorials/tutorial-service';\r\nimport { TutorialComponent } from '@share-components';\r\nimport { MockTestResult } from '@share-utils/data';\r\nimport { NgCircleProgressModule } from 'ng-circle-progress';\r\nimport { Subscription, interval } from 'rxjs';\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [CommonModule, RouterModule, TutorialComponent, NgCircleProgressModule],\r\n  templateUrl: './mock-test-result.component.html',\r\n  styleUrls: ['./mock-test-result.component.scss'],\r\n})\r\nexport class MockTestResultComponent implements OnInit {\r\n  route = inject(ActivatedRoute);\r\n  router = inject(Router);\r\n  knowledgeService = inject(KnowledgeService);\r\n  testService = inject(TestService);\r\n  paths = inject(NavigationService).paths;\r\n  testResult!: MockTestResult;\r\n  loading = inject(LoadingOverlayService);\r\n  lessonService = inject(LessonService);\r\n  http = inject(HttpClient);\r\n  tutorialService = inject(TutorialService);\r\n\r\n  mockTestId = this.route.snapshot.paramMap.get('id') ?? '';\r\n  stats = ['Speed', 'Accuracy', 'Deligence', 'Quantity', 'Combo'];\r\n  statsBW = this.stats.map(stat => stat + ' BW');\r\n  over = new Array(this.stats.length).fill(false);\r\n  activeStat = 0;\r\n  probabilityIndex?: number;\r\n  interval!: Subscription;\r\n  learningGoalId!: string;\r\n  MockTestStatus = MockTestStatus;\r\n  showTutorial = false;\r\n  tutorialPart = 0;\r\n\r\n  ngOnInit(): void {\r\n    this.loading.show();\r\n    // const mockTestId = this.route.snapshot.paramMap.get('id') ?? '';\r\n    if (this.mockTestId === 'tutorial1' || this.mockTestId === 'tutorial2') {\r\n      console.log('tutorial');\r\n      this.learningGoalId = this.tutorialService.getSelectedLearningGoal().id;\r\n      this.probabilityIndex = this.tutorialService.getProbabilityIndex();\r\n      this.testResult = this.tutorialService.getMockTestResult();\r\n      this.showTutorial = true;\r\n      if (this.mockTestId === 'tutorial1') {\r\n        this.tutorialPart = 1;\r\n      } else if (this.mockTestId === 'tutorial2') {\r\n        this.tutorialPart = 2;\r\n      }\r\n      this.loading.hide();\r\n      return;\r\n    }\r\n    this.learningGoalId = this.route.snapshot.queryParamMap.get('learning_goal_id') ?? '';\r\n    if (this.learningGoalId === '') {\r\n      this.learningGoalId = this.knowledgeService.getSelectedLearningGoal().id;\r\n    }\r\n    // this.testService.getMockTestResultHtml(this.mockTestId, this.learningGoalId).subscribe({\r\n    //   next: result => {\r\n    //     this.testResult = result;\r\n    //     this.loading.hide();\r\n    //     //\r\n    //   },\r\n    //   error: e => {\r\n    //     //\r\n    //   },\r\n    // });\r\n    this.testService.getProbabilityIndex({ testId: this.mockTestId }).subscribe({\r\n      next: result => {\r\n        this.probabilityIndex = result;\r\n        //\r\n      },\r\n      error: e => {\r\n        //\r\n      },\r\n    });\r\n    const requestInterval = interval(5000);\r\n    this._getMockTest();\r\n    this.interval = requestInterval.subscribe(() => this._getMockTest());\r\n  }\r\n\r\n  _getMockTest() {\r\n    this.testService.getMockTestResult(this.mockTestId).subscribe({\r\n      next: result => {\r\n        // this.testResult = result;\r\n        if (result.status !== MockTestStatus.mock_test_submitted) {\r\n          this.interval.unsubscribe();\r\n          this.testResult = result;\r\n          this.loading.hide();\r\n          return;\r\n        }\r\n      },\r\n      error: e => {\r\n        //\r\n      },\r\n    });\r\n  }\r\n\r\n  review() {\r\n    this.router.navigate([this.paths.mockTestReview.path.replace(':id', this.mockTestId)]);\r\n  }\r\n\r\n  share() {\r\n    this.router.navigate([this.paths.mockTestShare.path.replace(':ref', this.testResult.shareReferral ?? '')]);\r\n  }\r\n\r\n  activateLearningPath() {\r\n    this.loading.show();\r\n    this.http.get(`${serverApi()}/students/gifts/request_free_subscription`).subscribe({\r\n      next: () => {\r\n        this.lessonService.activateLearningPath(this.mockTestId).subscribe({\r\n          next: () => {\r\n            this.loading.hide();\r\n            this.router.navigate([this.paths.learningPath.path]);\r\n          },\r\n          error: e => {\r\n            console.log(e);\r\n            this.loading.hide();\r\n          },\r\n        });\r\n      },\r\n      error: e => {\r\n        console.log(e);\r\n        this.lessonService.activateLearningPath(this.mockTestId).subscribe({\r\n          next: () => {\r\n            this.loading.hide();\r\n            this.router.navigate([this.paths.home.path], { queryParams: { learning_goal_id: 1 } });\r\n          },\r\n          error: e => {\r\n            console.log(e);\r\n            this.loading.hide();\r\n          },\r\n        });\r\n      },\r\n    });\r\n  }\r\n\r\n  nextTutorial1 = () => {\r\n    this.router.navigate([this.paths.mockTestReview.path.replace(':id', 'tutorial')]);\r\n  };\r\n\r\n  nextTutorial2 = () => {\r\n    this.router.navigate([this.paths.learningPath.path], { queryParams: { tutorial: 1 } });\r\n  };\r\n\r\n  skip() {\r\n    window.document.body.removeAttribute('style');\r\n    this.showTutorial = false;\r\n    this.router.navigate([this.paths.home.path], { replaceUrl: true });\r\n  }\r\n}\r\n","<div *ngIf=\"testResult\" class=\"flex w-full justify-center\">\r\n  <div class=\"col gap-6 md:gap-8 w-full max-w-[1122px] p-6 md:p-12\">\r\n    <div class=\"gap-2 flex md:hidden justify-center\">\r\n      <a [routerLink]=\"paths.home.path\" class=\"menu-item\">\r\n        <img src=\"/assets/images/Home.svg\" alt=\"\" />\r\n        <span>Trang chủ</span>\r\n      </a>\r\n      <a [routerLink]=\"paths.account.path\" class=\"menu-item\">\r\n        <img src=\"/assets/images/Profile.svg\" alt=\"\" />\r\n        <span>Tài khoản</span>\r\n      </a>\r\n    </div>\r\n    <div class=\"flex items-center justify-between w-full\">\r\n      <div class=\"flex gap-4 items-center\">\r\n        <h4>Điểm bài kiểm tra</h4>\r\n      </div>\r\n      <div class=\"gap-2 hidden md:flex\">\r\n        <a [routerLink]=\"paths.home.path\" class=\"menu-item\">\r\n          <img src=\"/assets/images/Home.svg\" alt=\"\" />\r\n          <span>Trang chủ</span>\r\n        </a>\r\n        <a [routerLink]=\"paths.account.path\" class=\"menu-item\">\r\n          <img src=\"/assets/images/Profile.svg\" alt=\"\" />\r\n          <span>Tài khoản</span>\r\n        </a>\r\n      </div>\r\n    </div>\r\n    <div class=\"col p-6 bg-white rounded-lg gap-6\">\r\n      <div class=\"col md:flex-row items-center justify-between w-full gap-8\">\r\n        <div class=\"flex items-center justify-between flex-shrink flex-grow-0 gap-6 md:gap-8\">\r\n          <div class=\"h-[132px] lg:w-[198px] aspect-square\">\r\n            <circle-progress\r\n              [percent]=\"testResult.score * 10\"\r\n              [subtitle]=\"testResult.score.toString() + '/10'\"\r\n              [animateTitle]=\"false\"\r\n              [lazy]=\"false\"\r\n              title=\"Điểm số\"\r\n              titleFontSize=\"12px\"\r\n              titleFontWeight=\"bold\"\r\n              subtitleFontSize=\"30px\"\r\n              subtitleFontWeight=\"bold\"\r\n              subtitleColor=\"var(--color-primaryBlue)\"\r\n              [radius]=\"75\"\r\n              outerStrokeColor=\"var(--color-lightOrange-1)\"\r\n              innerStrokeColor=\"var(--color-blueGrey-300)\"\r\n              [innerStrokeWidth]=\"20\"\r\n              [outerStrokeWidth]=\"20\"\r\n              [space]=\"-20\"\r\n              [responsive]=\"true\"\r\n            ></circle-progress>\r\n          </div>\r\n          <div class=\"h-[132px] lg:w-[198px] aspect-square\">\r\n            <circle-progress\r\n              *ngIf=\"!probabilityIndex\"\r\n              [percent]=\"0\"\r\n              [subtitle]=\"'--'\"\r\n              [animateTitle]=\"false\"\r\n              [lazy]=\"false\"\r\n              title=\"Tỉ lệ thành công\"\r\n              titleFontSize=\"12px\"\r\n              titleFontWeight=\"bold\"\r\n              subtitleFontSize=\"30px\"\r\n              subtitleFontWeight=\"bold\"\r\n              subtitleColor=\"var(--color-primaryBlue)\"\r\n              [radius]=\"75\"\r\n              outerStrokeColor=\"var(--color-blueGrey-300)\"\r\n              innerStrokeColor=\"var(--color-blueGrey-300)\"\r\n              [innerStrokeWidth]=\"20\"\r\n              [outerStrokeWidth]=\"20\"\r\n              [space]=\"-20\"\r\n              [responsive]=\"true\"\r\n              [lazy]=\"false\"\r\n            ></circle-progress>\r\n            <circle-progress\r\n              *ngIf=\"probabilityIndex\"\r\n              [percent]=\"probabilityIndex\"\r\n              [subtitle]=\"probabilityIndex + '%'\"\r\n              [animateTitle]=\"false\"\r\n              [lazy]=\"false\"\r\n              title=\"Tỉ lệ thành công\"\r\n              titleFontSize=\"12px\"\r\n              titleFontWeight=\"bold\"\r\n              subtitleFontSize=\"30px\"\r\n              subtitleFontWeight=\"bold\"\r\n              subtitleColor=\"var(--color-primaryBlue)\"\r\n              [radius]=\"75\"\r\n              outerStrokeColor=\"var(--color-lightBlue-1)\"\r\n              innerStrokeColor=\"var(--color-blueGrey-300)\"\r\n              [innerStrokeWidth]=\"20\"\r\n              [outerStrokeWidth]=\"20\"\r\n              [space]=\"-20\"\r\n              [responsive]=\"true\"\r\n            ></circle-progress>\r\n          </div>\r\n        </div>\r\n        <div class=\"w-full md:w-[411px] col gap-6\">\r\n          <span\r\n            ><strong class=\"text-orange\">Bạn muốn cải thiện điểm số?</strong><br />AI của Kyons sẽ tạo lộ trình học dựa\r\n            vào những điểm thiếu sót của bạn.<br />Bấm <strong>Tạo lộ trình học</strong> để bắt đầu ngay!</span\r\n          >\r\n          <div class=\"col md:flex-row gap-2 md:items-center items-stretch justify-between w-full\">\r\n            <button\r\n              #reviewElm\r\n              data-tooltip-content=\"Bạn hãy bấm vào đây để xem lại kết quả bài kiểm tra của mình\"\r\n              data-tooltip-position=\"bottom\"\r\n              (click)=\"review()\"\r\n              class=\"btn-rounded order-2 md:order-1\"\r\n            >\r\n              Xem lại đáp án bài kiểm tra\r\n            </button>\r\n            <button\r\n              #createElm\r\n              data-tooltip-content=\"Bạn hãy bấm vào đây để tạo lộ trình học\"\r\n              data-tooltip-position=\"bottom\"\r\n              [disabled]=\"testResult.status !== MockTestStatus.learning_path_received\"\r\n              (click)=\"activateLearningPath()\"\r\n              class=\"btn order-1 md:order-2\"\r\n            >\r\n              Tạo lộ trình học\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"stats text-white items-center shadow-4 rounded-2xl md:h-[296px] flex flex-col md:flex-row\">\r\n      <div class=\"flex-1 flex items-center justify-center p-3\">\r\n        <img src=\"/assets/images/Spider chart.svg\" alt=\"\" class=\"w-[179px] md:w-auto\" />\r\n      </div>\r\n      <div class=\"h-[150px] border-r border-solid border-blueGrey-600 hidden md:block\"></div>\r\n      <div class=\"w-[222px] border-t border-solid border-blueGrey-600 md:hidden\"></div>\r\n      <div class=\"flex-1 h-full col gap-6 md:gap-0 items-center justify-start p-14 pt-6 md:pt-14\">\r\n        <div class=\"flex gap-4\">\r\n          <img\r\n            width=\"32px\"\r\n            height=\"32px\"\r\n            *ngFor=\"let o of over; index as i\"\r\n            [src]=\"'/assets/images/' + (o || activeStat === i ? stats[i] : statsBW[i]) + '.svg'\"\r\n            alt=\"\"\r\n            (mouseover)=\"over[i] = true\"\r\n            (mouseout)=\"over[i] = false\"\r\n            class=\"cursor-pointer stat\"\r\n            [ngClass]=\"{ active: activeStat === i }\"\r\n            (click)=\"activeStat = i\"\r\n          />\r\n        </div>\r\n        <div class=\"flex-1 text-base font-bold flex items-center text-center\">\r\n          Tính năng bí mật sắp<br />được bật mí 🥳\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col md:flex-row gap-6 items-stretch md:items-center justify-between\">\r\n      <button\r\n        [routerLink]=\"paths.mockTest.path\"\r\n        class=\"bg-white p-6 rounded-lg flex gap-6 items-center justify-between cursor-pointer flex-grow order-2 md:order-1\"\r\n      >\r\n        <div class=\"col gap-2 items-start\">\r\n          <b>Bài kiểm tra quá dễ?</b>\r\n          <span class=\"text-left\">Bạn có thể lựa chọn lại mục tiêu học tập</span>\r\n        </div>\r\n        <i class=\"icon-btn icon-ArrowRight\"></i>\r\n      </button>\r\n      <button\r\n        class=\"bg-white p-6 rounded-lg flex gap-6 items-center justify-between cursor-pointer flex-grow order-1 md:order-2\"\r\n      >\r\n        <div class=\"col gap-2 items-start\">\r\n          <b>Thách thức bạn thân nhận quà!</b>\r\n          <span class=\"text-left\">Nhận quà từ Kyons khi gửi bài kiểm tra cho bạn bè</span>\r\n        </div>\r\n        <i class=\"icon-btn icon-ArrowRight\"></i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"showTutorial\">\r\n    <kyonsvn-tutorial\r\n      *ngIf=\"tutorialPart === 1\"\r\n      [scriptElements]=\"[reviewElm]\"\r\n      [scriptEvents]=\"[['click', nextTutorial1], null]\"\r\n      (skipCallback)=\"skip()\"\r\n    ></kyonsvn-tutorial>\r\n    <kyonsvn-tutorial\r\n      *ngIf=\"tutorialPart === 2\"\r\n      [scriptElements]=\"[createElm]\"\r\n      [scriptEvents]=\"[['click', nextTutorial2], null]\"\r\n      (skipCallback)=\"skip()\"\r\n    ></kyonsvn-tutorial>\r\n  </div>\r\n</div>\r\n","import { CommonModule, Location } from '@angular/common';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Component, ElementRef, OnInit, ViewChild, inject } from '@angular/core';\r\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\r\nimport { serverApi } from '@infrastructure/auth/interceptor';\r\nimport { KnowledgeService } from '@infrastructure/knowledge/knowledge.service';\r\nimport { LessonService } from '@infrastructure/knowledge/lesson.service';\r\nimport { LoadingOverlayService } from '@infrastructure/loading-overlay.service';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport { TestService } from '@infrastructure/test/test.service';\r\nimport { TutorialService } from '@infrastructure/tutorials/tutorial-service';\r\nimport { TutorialComponent } from '@share-components';\r\nimport { SafeHtmlPipe } from '@share-pipes';\r\nimport { QuestionReview } from '@share-utils/data';\r\nimport { MockTestStatus } from '@share-utils/domain';\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [CommonModule, RouterModule, SafeHtmlPipe, TutorialComponent],\r\n  templateUrl: './mock-test-review.component.html',\r\n  styleUrls: ['./mock-test-review.component.scss'],\r\n})\r\nexport class MockTestReviewComponent implements OnInit {\r\n  route = inject(ActivatedRoute);\r\n  knowledgeService = inject(KnowledgeService);\r\n  testService = inject(TestService);\r\n  paths = inject(NavigationService).paths;\r\n  router = inject(Router);\r\n  lessonService = inject(LessonService);\r\n  http = inject(HttpClient);\r\n  loading = inject(LoadingOverlayService);\r\n  location = inject(Location);\r\n  tutorialService = inject(TutorialService);\r\n\r\n  questions: QuestionReview[] = [];\r\n  currentQuestion!: QuestionReview;\r\n  currentQuestionIndex = 0;\r\n  isLoading = true;\r\n  mockTestId!: string;\r\n  status: MockTestStatus = MockTestStatus.active;\r\n  MockTestStatus = MockTestStatus;\r\n  showTutorial = false;\r\n\r\n  @ViewChild('scrollElm') scrollElm!: ElementRef;\r\n\r\n  ngOnInit(): void {\r\n    this.loading.show();\r\n    this.mockTestId = this.route.snapshot.paramMap.get('id') ?? '';\r\n\r\n    if (this.mockTestId === 'tutorial') {\r\n      console.log('tutorial');\r\n      this.showTutorial = true;\r\n      const result = this.tutorialService.getMockTestReview();\r\n      this.questions = result.data;\r\n      this.currentQuestion = this.questions[0];\r\n      this.status = this.tutorialService.getMockTestResult().status;\r\n      this.loading.hide();\r\n      this.isLoading = false;\r\n      return;\r\n    }\r\n\r\n    // let learningGoalId = this.route.snapshot.queryParamMap.get('learning_goal_id') ?? '';\r\n    // if (learningGoalId === '') {\r\n    //   learningGoalId = this.knowledgeService.getSelectedLearningGoal().id;\r\n    // }\r\n    this.testService.getMockTestReviewHtml(this.mockTestId).subscribe({\r\n      next: (result: any) => {\r\n        this.questions = result.data;\r\n        this.currentQuestion = this.questions[0];\r\n        this.isLoading = false;\r\n        this.loading.hide();\r\n      },\r\n      error: (e: any) => {\r\n        //\r\n      },\r\n    });\r\n    this.testService.getMockTestResult(this.mockTestId).subscribe({\r\n      next: result => {\r\n        this.status = result.status;\r\n        return;\r\n      },\r\n      error: e => {\r\n        //\r\n      },\r\n    });\r\n  }\r\n\r\n  previousPage() {\r\n    this.scrollElm.nativeElement.scrollLeft -= 400;\r\n  }\r\n  nextPage() {\r\n    this.scrollElm.nativeElement.scrollLeft += 400;\r\n  }\r\n\r\n  scrollLeft() {\r\n    this.currentQuestionIndex--;\r\n    this._centerCurrentIndex();\r\n  }\r\n  scrollRight() {\r\n    this.currentQuestionIndex++;\r\n    this._centerCurrentIndex();\r\n  }\r\n\r\n  backToResult() {\r\n    this.router.navigate([this.paths.mockTestResult.path.replace(':id', this.mockTestId)]);\r\n  }\r\n\r\n  _centerCurrentIndex() {\r\n    if (this.scrollElm === undefined) return;\r\n    const currentElm = this.scrollElm.nativeElement.querySelectorAll('button')[this.currentQuestionIndex];\r\n    const currentElmLeft = currentElm.offsetLeft - this.scrollElm.nativeElement.offsetLeft;\r\n    const currentElmWidth = currentElm.offsetWidth;\r\n    const currentElmCenter = currentElmLeft + currentElmWidth / 2;\r\n    const scrollElmWidth = this.scrollElm.nativeElement.offsetWidth;\r\n    this.scrollElm.nativeElement.scrollLeft = currentElmCenter - scrollElmWidth / 2;\r\n  }\r\n\r\n  activateLearningPath() {\r\n    this.loading.show();\r\n    this.http.get(`${serverApi()}/students/gifts/request_free_subscription`).subscribe({\r\n      next: () => {\r\n        this.lessonService.activateLearningPath(this.mockTestId).subscribe({\r\n          next: () => {\r\n            this.loading.hide();\r\n            this.router.navigate([this.paths.home.path], { queryParams: { learning_goal_id: 1 } });\r\n          },\r\n          error: e => {\r\n            console.log(e);\r\n            this.loading.hide();\r\n          },\r\n        });\r\n      },\r\n      error: e => {\r\n        console.log(e);\r\n        this.lessonService.activateLearningPath(this.mockTestId).subscribe({\r\n          next: () => {\r\n            this.loading.hide();\r\n            this.router.navigate([this.paths.home.path], { queryParams: { learning_goal_id: 1 } });\r\n          },\r\n          error: e => {\r\n            console.log(e);\r\n            this.loading.hide();\r\n          },\r\n        });\r\n      },\r\n    });\r\n  }\r\n\r\n  goBack() {\r\n    this.location.back();\r\n  }\r\n\r\n  emptyFunc = () => {\r\n    //\r\n  };\r\n\r\n  nextTutorial = () => {\r\n    this.router.navigate([this.paths.mockTestResult.path.replace(':id', 'tutorial2')]);\r\n  };\r\n\r\n  skip() {\r\n    window.document.body.removeAttribute('style');\r\n    this.showTutorial = false;\r\n    this.router.navigate([this.paths.home.path], { replaceUrl: true });\r\n  }\r\n}\r\n","<div class=\"flex w-full justify-center\">\r\n  <div class=\"col gap-4 w-full max-w-[1122px] p-6 md:p-12 h-screen\">\r\n    <button\r\n      #backXs\r\n      data-tooltip-content=\"Bấm vào đây để quay lại trang đáp án bài kiểm tra nhé!\"\r\n      data-tooltip-position=\"bottom\"\r\n      (click)=\"backToResult()\"\r\n      class=\"icon-btn self-end md:hidden bg-blueGrey-100\"\r\n    >\r\n      <i class=\"icon-Close\"></i>\r\n    </button>\r\n    <div class=\"flex items-center justify-between w-full\">\r\n      <div class=\"flex gap-4 items-center\">\r\n        <button\r\n          #back\r\n          data-tooltip-content=\"Bấm vào đây để quay lại trang đáp án bài kiểm tra nhé!\"\r\n          data-tooltip-position=\"bottom\"\r\n          (click)=\"backToResult()\"\r\n          class=\"no-underline gap-2 items-center text-orange hidden md:flex bg-blueGrey-100\"\r\n        >\r\n          <i class=\"icon-ArrowLeft\"></i>\r\n          <span>Về Điểm bài kiểm tra</span>\r\n        </button>\r\n        <h4>Đáp án bài kiểm tra</h4>\r\n      </div>\r\n      <div class=\"gap-2 hidden md:flex\">\r\n        <a [routerLink]=\"paths.home.path\" class=\"menu-item\">\r\n          <img src=\"/assets/images/Home.svg\" alt=\"\" />\r\n          <span>Trang chủ</span>\r\n        </a>\r\n        <a [routerLink]=\"paths.account.path\" class=\"menu-item\">\r\n          <img src=\"/assets/images/Profile.svg\" alt=\"\" />\r\n          <span>Tài khoản</span>\r\n        </a>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"col rounded-lg bg-white p-4 gap-4 overflow-y-auto md:overflow-hidden md:flex-1 h-[calc(100vh_-_280px)]\"\r\n      *ngIf=\"!isLoading\"\r\n    >\r\n      <div class=\"flex items-start justify-between w-full\">\r\n        <h6 class=\"hidden md:flex\">\r\n          Câu {{ currentQuestionIndex + 1 }}/{{ questions.length }}&nbsp;-&nbsp;\r\n          <span *ngIf=\"!questions[currentQuestionIndex].isCorrectAnswer\" class=\"text-red-0\">Chưa phải đáp án đúng!</span\r\n          ><span *ngIf=\"questions[currentQuestionIndex].isCorrectAnswer\" class=\"text-darkEmerald\"\r\n            >Đáp án chính xác!</span\r\n          >\r\n        </h6>\r\n        <span class=\"h8 md:hidden\">\r\n          Câu {{ currentQuestionIndex + 1 }}/{{ questions.length }}&nbsp;-&nbsp;\r\n          <span *ngIf=\"!questions[currentQuestionIndex].isCorrectAnswer\" class=\"text-red-0\">Chưa phải đáp án đúng!</span\r\n          ><span *ngIf=\"questions[currentQuestionIndex].isCorrectAnswer\" class=\"text-darkEmerald\"\r\n            >Đáp án chính xác!</span\r\n          >\r\n        </span>\r\n        <a href=\"https://forms.gle/b36mTdMWNRY1qkZh7\" target=\"_blank\" class=\"btn-rounded hidden md:flex\">Báo lỗi</a>\r\n        <a href=\"https://forms.gle/b36mTdMWNRY1qkZh7\" target=\"_blank\" class=\"btn-rounded btn-icon block md:hidden\"\r\n          ><i class=\"icon-Error\"></i\r\n        ></a>\r\n      </div>\r\n      <div class=\"col gap-2 md:flex-1 md:max-h-screen md:overflow-y-auto\">\r\n        <span [innerHTML]=\"questions[currentQuestionIndex].content | safeHtml\"></span>\r\n        <!-- <span [innerHTML]=\"questions[currentQuestionIndex].html | safeHtml\"></span> -->\r\n        <span [innerHTML]=\"questions[currentQuestionIndex].explanation | safeHtml\"></span>\r\n      </div>\r\n    </div>\r\n    <div class=\"justify-between flex flex-col gap-3\">\r\n      <!-- <div class=\"hidden md:flex flex-1 gap-2\">\r\n        <strong class=\"uppercase\">Phím tắt:</strong>\r\n        <span>Bấm 1,2,3,4 chọn đáp án, bấm space sẽ làm tiếp hoặc nộp bài</span>\r\n      </div> -->\r\n      <div class=\"flex gap-4 items-center w-full overflow-hidden\">\r\n        <button (click)=\"scrollLeft()\" [disabled]=\"currentQuestionIndex === 0\" class=\"btn hidden md:flex\">\r\n          Câu trước\r\n        </button>\r\n        <button\r\n          (click)=\"scrollLeft()\"\r\n          [disabled]=\"currentQuestionIndex === 0\"\r\n          class=\"btn btn-icon btn-large flex md:hidden\"\r\n        >\r\n          <i class=\"icon-ArrowLeft\"></i>\r\n        </button>\r\n        <div class=\"flex-1 flex gap-1 w-full overflow-hidden\">\r\n          <button class=\"btn-rounded btn-icon hidden md:flex\" (click)=\"previousPage()\">\r\n            <i class=\"icon-ArrowLeft\"></i>\r\n          </button>\r\n          <div\r\n            #scrollElm\r\n            data-tooltip-content=\"Bạn có thể chuyển đến đáp án mong muốn bằng cách nhấn vào số của câu hỏi\"\r\n            class=\"w-full md:w-[calc(100%_-_92px)] overflow-x-auto flex gap-1 hide-scrollbar\"\r\n          >\r\n            <button\r\n              class=\"btn-rounded btn-icon\"\r\n              *ngFor=\"let question of questions; index as i\"\r\n              [ngClass]=\"{\r\n                'fill-green': question.isCorrectAnswer && i === currentQuestionIndex,\r\n                'fill-red': !question.isCorrectAnswer && i === currentQuestionIndex,\r\n                'outline-green': question.isCorrectAnswer,\r\n                'outline-red': !question.isCorrectAnswer\r\n              }\"\r\n              (click)=\"currentQuestionIndex = i\"\r\n            >\r\n              {{ i + 1 }}\r\n            </button>\r\n          </div>\r\n          <button class=\"btn-icon btn-rounded hidden md:flex\" (click)=\"nextPage()\">\r\n            <i class=\"icon-ArrowRight\"></i>\r\n          </button>\r\n        </div>\r\n        <button\r\n          [disabled]=\"currentQuestionIndex === questions.length - 1\"\r\n          (click)=\"scrollRight()\"\r\n          class=\"btn hidden md:flex\"\r\n        >\r\n          Câu kế tiếp\r\n        </button>\r\n        <button\r\n          (click)=\"scrollRight()\"\r\n          [disabled]=\"currentQuestionIndex === questions.length - 1\"\r\n          class=\"btn btn-icon btn-large flex md:hidden\"\r\n        >\r\n          <i class=\"icon-ArrowRight\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"hidden md:flex bg-lightOrange-4 w-full h-[56px] items-center justify-between px-6 rounded-lg\">\r\n      <span><b class=\"text-orange\">Bạn muốn cải thiện điểm số?</b> Bấm <b>Tạo lộ trình học</b> để bắt đầu ngay!</span>\r\n      <button\r\n        [disabled]=\"status !== MockTestStatus.learning_path_received\"\r\n        (click)=\"activateLearningPath()\"\r\n        class=\"btn\"\r\n      >\r\n        Tạo lộ trình học\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<kyonsvn-tutorial\r\n  *ngIf=\"showTutorial\"\r\n  [scriptElements]=\"[scrollElm, back]\"\r\n  [scriptEvents]=\"[['click', emptyFunc], ['click', nextTutorial], null]\"\r\n  class=\"hidden md:block\"\r\n></kyonsvn-tutorial>\r\n<kyonsvn-tutorial\r\n  *ngIf=\"showTutorial\"\r\n  (skipCallback)=\"skip()\"\r\n  [scriptElements]=\"[scrollElm, backXs]\"\r\n  [scriptEvents]=\"[['click', emptyFunc], ['click', nextTutorial], null]\"\r\n  class=\"md:hidden\"\r\n  (skipCallback)=\"skip()\"\r\n></kyonsvn-tutorial>\r\n","import { CommonModule, Location } from '@angular/common';\r\nimport { Component, HostBinding, Input, OnInit, inject } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\r\nimport { Subject } from '@domain/subject/subject';\r\nimport { KnowledgeService } from '@infrastructure/knowledge/knowledge.service';\r\nimport { LearningGoal, MockTestTemplate } from '@infrastructure/knowledge/learning-goal';\r\nimport { Program } from '@infrastructure/knowledge/program';\r\nimport { LoadingOverlayService } from '@infrastructure/loading-overlay.service';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport { TestService } from '@infrastructure/test/test.service';\r\nimport { TutorialService } from '@infrastructure/tutorials/tutorial-service';\r\nimport { TutorialComponent } from '@share-components';\r\n\r\nenum SubmitType {\r\n  mock_test,\r\n}\r\n\r\nconst emptyProgramObject = Program.empty();\r\nconst emptyLearningGoalObject = LearningGoal.empty();\r\nconst emptyMockTestTemplateObject = MockTestTemplate.empty();\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [CommonModule, RouterModule, FormsModule, TutorialComponent],\r\n  templateUrl: './select-program.component.html',\r\n})\r\nexport class MockTestSelectProgramComponent implements OnInit {\r\n  @HostBinding('class') class = 'w-full h-full';\r\n  @Input() type = SubmitType.mock_test;\r\n  testService = inject(TestService);\r\n  paths = inject(NavigationService).paths;\r\n  router = inject(Router);\r\n  knowledgeService = inject(KnowledgeService);\r\n  location = inject(Location);\r\n  loading = inject(LoadingOverlayService);\r\n  route = inject(ActivatedRoute);\r\n  tutorialService = inject(TutorialService);\r\n\r\n  selectedSubject: null | Subject = null;\r\n  emptyProgram = emptyProgramObject;\r\n  selectedProgram = emptyProgramObject;\r\n  emptyLearningGoal = emptyLearningGoalObject;\r\n  selectedLearningGoal = emptyLearningGoalObject;\r\n  selectedMockTestTemplate = emptyMockTestTemplateObject;\r\n  emptyMockTestTemplate = emptyMockTestTemplateObject;\r\n  subjects!: Subject[];\r\n  programs: Program[] = [];\r\n  learningGoals: LearningGoal[] = [];\r\n  mockTestTemplates: MockTestTemplate[] = [];\r\n  hasError = '';\r\n  isLoading = false;\r\n  item: any;\r\n  showTutorial = false;\r\n  showMockTestTemplate = false;\r\n\r\n  ngOnInit(): void {\r\n    this.isLoading = true;\r\n    this.route.queryParamMap.subscribe(params => {\r\n      if (params.get('tutorial') === 'true') {\r\n        this.showTutorial = true;\r\n        this.subjects = this.tutorialService.getSubjects();\r\n        this.isLoading = false;\r\n      } else {\r\n        this.knowledgeService.getSubjects().subscribe({\r\n          next: data => {\r\n            this.subjects = data;\r\n            this.isLoading = false;\r\n          },\r\n          error: err => {\r\n            this.hasError = 'Có lỗi, vui lòng thử lại';\r\n            this.isLoading = false;\r\n          },\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  back() {\r\n    this.location.back();\r\n  }\r\n\r\n  changeSubject() {\r\n    this.programs = this.selectedSubject?.programs ?? [];\r\n    this.selectedProgram = emptyProgramObject;\r\n  }\r\n\r\n  changeProgram() {\r\n    this.selectedLearningGoal = emptyLearningGoalObject;\r\n    this.testService.getLearningGoal(this.selectedProgram).subscribe({\r\n      next: data => {\r\n        this.learningGoals = data;\r\n        //\r\n      },\r\n      error: err => {\r\n        if (err.error_code == 'RanOutMockTest') {\r\n          this.hasError = 'RanOutMockTest';\r\n        } else {\r\n          this.hasError = 'Có lỗi, vui lòng thử lại';\r\n        }\r\n      },\r\n    });\r\n    // this.orderService.getInventories().subscribe({\r\n    //   next: (inventory: Inventory) => {\r\n    //     if (inventory.mockTest > 0) {\r\n    //     }\r\n    //     else {\r\n    //       this.hasError = 'LowBalance';\r\n    //     }\r\n    //   },\r\n    //   error: (err) => {\r\n    //     // TODO: Define error resposes\r\n    //     this.hasError = 'Có lỗi, vui lòng thử lại';\r\n    //   }\r\n    // });\r\n  }\r\n\r\n  start() {\r\n    this.showMockTestTemplate = true;\r\n  }\r\n\r\n  changeLearningGoal() {\r\n    this.selectedMockTestTemplate = emptyMockTestTemplateObject;\r\n    this.mockTestTemplates = this.selectedLearningGoal.mockTestTemplates;\r\n  }\r\n\r\n  submit() {\r\n    if (this.selectedMockTestTemplate != emptyMockTestTemplateObject) {\r\n      this.isLoading = true;\r\n      this.loading.show();\r\n      this.knowledgeService.selectProgram(this.selectedProgram);\r\n      this.knowledgeService.selectLearningGoal(this.selectedLearningGoal);\r\n      if (this.type == SubmitType.mock_test) {\r\n        if (this.selectedLearningGoal.canSelectTopic) {\r\n          this.router.navigate([this.paths.mockTestSelect.path.replace(':id', this.selectedLearningGoal.id)]);\r\n        } else {\r\n          this.testService.submitTopics(this.selectedLearningGoal.id, [], this.selectedMockTestTemplate.id).subscribe({\r\n            next: testId => {\r\n              this.isLoading = false;\r\n              this.router.navigate([this.paths.mockTestTest.path.replace(':id', testId)]);\r\n            },\r\n            error: err => {\r\n              this.isLoading = false;\r\n              this.loading.hide();\r\n              this.hasError = err.error_code;\r\n            },\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  skip() {\r\n    window.document.body.removeAttribute('style');\r\n    this.showTutorial = false;\r\n    this.router.navigate([this.paths.home.path], { replaceUrl: true });\r\n  }\r\n\r\n  script1 = () => {\r\n    this.selectedSubject = this.subjects[0];\r\n    this.changeSubject();\r\n  };\r\n\r\n  script2 = () => {\r\n    this.selectedProgram = this.programs[0];\r\n    this.selectedLearningGoal = emptyLearningGoalObject;\r\n    this.learningGoals = this.tutorialService.getLearningGoals();\r\n  };\r\n\r\n  script3 = () => {\r\n    this.selectedLearningGoal = this.learningGoals[0];\r\n    this.showMockTestTemplate = false;\r\n  };\r\n\r\n  script4 = () => {\r\n    this.showMockTestTemplate = true;\r\n    this.mockTestTemplates = this.selectedLearningGoal.mockTestTemplates;\r\n  };\r\n\r\n  script5 = () => {\r\n    this.selectedMockTestTemplate = this.selectedLearningGoal.mockTestTemplates[0];\r\n  };\r\n\r\n  script6 = () => {\r\n    this.router.navigate([this.paths.mockTestTestTutorial.path]);\r\n  };\r\n}\r\n","<div class=\"p-6 md:p-11 w-full h-full col md:items-center md:justify-center\">\r\n  <div class=\"w-full flex md:hidden justify-end\">\r\n    <a (click)=\"back()\" class=\"icon-btn\"><i class=\"icon-Close\"></i></a>\r\n  </div>\r\n  <div *ngIf=\"hasError === ''\" class=\"flex flex-col w-full md:w-[434px] gap-4\">\r\n    <h2 class=\"mb-0 hidden md:block\">Chọn chương trình học</h2>\r\n    <h4 class=\"mb-0 md:hidden\">Chọn chương trình học</h4>\r\n    <div class=\"rounded-lg p-6 flex flex-col gap-6 bg-white items-start\">\r\n      <div class=\"flex flex-col gap-4 w-full\">\r\n        <select\r\n          #turorial1\r\n          data-tooltip-content=\"Hãy chọn môn học mà bạn muốn\"\r\n          class=\"form-control w-full\"\r\n          [(ngModel)]=\"selectedSubject\"\r\n          (ngModelChange)=\"changeSubject()\"\r\n        >\r\n          <option [ngValue]=\"null\" disabled selected>Chọn môn</option>\r\n          <option *ngFor=\"let subject of subjects\" [ngValue]=\"subject\">\r\n            {{ subject.label }}\r\n          </option>\r\n        </select>\r\n        <select\r\n          #turorial2\r\n          data-tooltip-content=\"Chọn tiếp chương trình học\"\r\n          class=\"form-control w-full\"\r\n          [attr.disabled]=\"this.selectedSubject === null ? 'disabled' : null\"\r\n          [(ngModel)]=\"selectedProgram\"\r\n          (ngModelChange)=\"changeProgram()\"\r\n        >\r\n          <option [ngValue]=\"emptyProgram\" disabled selected>Chọn chương trình</option>\r\n          <option *ngFor=\"let program of programs\" [ngValue]=\"program\">\r\n            {{ program.name }}\r\n          </option>\r\n        </select>\r\n        <select\r\n          #turorial3\r\n          data-tooltip-content=\"Chọn thêm mục tiêu học tập của bạn\"\r\n          class=\"form-control w-full\"\r\n          [(ngModel)]=\"selectedLearningGoal\"\r\n          (ngModelChange)=\"changeLearningGoal()\"\r\n          [attr.disabled]=\"this.selectedProgram.id === '' ? 'disabled' : null\"\r\n        >\r\n          <option [ngValue]=\"emptyLearningGoal\" disabled selected>Mục tiêu học tập</option>\r\n          <ng-container *ngFor=\"let learningGoal of learningGoals\">\r\n            <option [ngValue]=\"learningGoal\">{{ learningGoal.name }}</option>\r\n          </ng-container>\r\n        </select>\r\n      </div>\r\n      <button\r\n        #turorial4\r\n        data-tooltip-content=\"Bấm vào đây để chọn bài luyện thi mẫu\"\r\n        (click)=\"start()\"\r\n        class=\"btn primary w-full\"\r\n        [attr.disabled]=\"selectedLearningGoal === emptyLearningGoal || isLoading ? 'disabled' : null\"\r\n      >\r\n        {{ isLoading ? 'Đang xử lý' : 'Bắt đầu' }}\r\n      </button>\r\n      <a [routerLink]=\"paths.home.path\" class=\"hidden md:block\">Về trang chủ</a>\r\n      <kyonsvn-tutorial\r\n        *ngIf=\"showTutorial\"\r\n        (skipCallback)=\"skip()\"\r\n        [scriptElements]=\"[turorial1, turorial2, turorial3, turorial4, turorial5, turorial6]\"\r\n        [scriptEvents]=\"[\r\n          ['change', script1],\r\n          ['change', script2],\r\n          ['change', script3],\r\n          ['click', script4],\r\n          ['change', script5],\r\n          ['click', script6]\r\n        ]\"\r\n      ></kyonsvn-tutorial>\r\n    </div>\r\n  </div>\r\n  <div\r\n    *ngIf=\"hasError === 'RanOutMockTest'\"\r\n    class=\"fixed w-full h-full left-0 top-0 flex flex-col items-center justify-center bg-blueGrey-100 p-6 md:m-0\"\r\n  >\r\n    <div class=\"w-full md:w-[400px] bg-white rounded-lg p-8 flex flex-col gap-6\">\r\n      <div class=\"flex flex-col gap-2\">\r\n        <div class=\"h7\">Bạn đã sử dụng hết bài kiểm tra!</div>\r\n        <span>Để tạo mục tiêu mới, bạn cần mua thêm gói dịch vụ Kyons.</span>\r\n      </div>\r\n      <div class=\"flex justify-between\">\r\n        <button (click)=\"hasError = ''\" class=\"btn-rounded\">Không đổi mục tiêu</button>\r\n        <a class=\"btn\" [routerLink]=\"paths.package.path\">Mua gói</a>\r\n      </div>\r\n    </div>\r\n    <div class=\"h-1/3\"></div>\r\n  </div>\r\n  <div\r\n    class=\"fixed w-full h-full left-0 top-0 flex flex-col items-center justify-center bg-blueGrey-100 p-6 md:m-0\"\r\n    [ngClass]=\"{ hidden: !showMockTestTemplate, flex: showMockTestTemplate }\"\r\n  >\r\n    <div class=\"w-full md:w-[700px] bg-white rounded-lg p-8 flex flex-col gap-8\">\r\n      <div class=\"flex flex-col gap-2\">\r\n        <img src=\"/assets/images/Robot 2.svg\" alt=\"\" class=\"w-[150px] h-[150px] self-center\" />\r\n        <h5>\r\n          Bạn đã chọn mục tiêu <b class=\"text-orange\">{{ selectedLearningGoal.name }}</b> trong chương trình\r\n          <b class=\"text-orange\">{{ selectedProgram.name }}</b>\r\n        </h5>\r\n        <span\r\n          >Tiếp theo, bạn sẽ cần hoàn thành bài kiểm tra có\r\n          <b class=\"text-orange\">{{ selectedLearningGoal.totalQuestions }}</b> câu câu hỏi trong vòng\r\n          <b class=\"text-orange\">{{ selectedLearningGoal.duration }}</b> phút. Để bài học sát với năng lực của bạn nhất,\r\n          hãy làm bài kiểm tra này hết sức và tránh bị gián đoạn bạn nhé!</span\r\n        >\r\n        <span>Bạn hãy chọn giúp Kyons một đề kiểm tra để tiếp tục</span>\r\n        <select\r\n          #turorial5\r\n          data-tooltip-content=\"Chọn bộ đề bạn muốn kiểm tra thử\"\r\n          class=\"form-control w-full\"\r\n          [(ngModel)]=\"selectedMockTestTemplate\"\r\n          [disabled]=\"this.selectedProgram.id === ''\"\r\n        >\r\n          <option [ngValue]=\"emptyMockTestTemplate\" disabled selected>Chọn đề kiểm tra</option>\r\n          <ng-container *ngFor=\"let learningGoal of mockTestTemplates\">\r\n            <option [ngValue]=\"learningGoal\">{{ learningGoal.name }}</option>\r\n          </ng-container>\r\n        </select>\r\n      </div>\r\n      <div class=\"flex flex-col md:flex-row justify-between gap-4\">\r\n        <button (click)=\"showMockTestTemplate = false\" class=\"btn-rounded order-2 md:order-1\">\r\n          Để mình suy nghĩ lại\r\n        </button>\r\n        <button\r\n          #turorial6\r\n          data-tooltip-content=\"Bắt đầu làm bài kiểm tra\"\r\n          class=\"btn order-1 md:order-2\"\r\n          [disabled]=\"selectedMockTestTemplate === emptyMockTestTemplate || isLoading\"\r\n          (click)=\"submit()\"\r\n        >\r\n          Bắt đầu thôi\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"h-1/3\"></div>\r\n  </div>\r\n  <div\r\n    *ngIf=\"hasError === 'ExistentUnsubmittedMockTest'\"\r\n    class=\"fixed w-full h-full left-0 top-0 flex flex-col items-center justify-center bg-blueGrey-100 p-6 md:m-0\"\r\n  >\r\n    <div class=\"w-full md:w-[400px] bg-white rounded-lg p-8 flex flex-col gap-6\">\r\n      <div class=\"flex flex-col gap-2\">\r\n        <div class=\"h7\">Chưa hoàn tất bài kiểm tra thử thông minh</div>\r\n        <span>Bạn có một bào kiểm tra thử thông minh chưa hoàn tất, vui lòng vào lộ trình học để tiếp tục làm bài</span>\r\n      </div>\r\n      <div class=\"w-full\">\r\n        <a\r\n          class=\"btn\"\r\n          [routerLink]=\"paths.learningPath.path\"\r\n          fragment=\"mockTestAnchor\"\r\n          [queryParams]=\"{ active_tab: 1 }\"\r\n          >Đến lộ trình học</a\r\n        >\r\n      </div>\r\n    </div>\r\n    <div class=\"h-1/3\"></div>\r\n  </div>\r\n</div>\r\n","import { Component, HostBinding, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { KnowledgeService } from '@infrastructure/knowledge/knowledge.service';\r\nimport { LearningGoal } from '@infrastructure/knowledge/learning-goal';\r\nimport { Topic } from '@infrastructure/knowledge/topic';\r\nimport { LoadingOverlayService } from '@infrastructure/loading-overlay.service';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport { TestService } from '@infrastructure/test/test.service';\r\nimport { AppPaths } from '@presentation/routes';\r\n\r\n@Component({\r\n  templateUrl: './select-topic.component.html',\r\n  styleUrls: ['./select-topic.component.scss'],\r\n})\r\nexport class SelectTopicComponent implements OnInit {\r\n  @HostBinding('class') class = 'h-full';\r\n  paths: AppPaths;\r\n  // program: Program;\r\n  selectedLearningGoal: LearningGoal;\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    navService: NavigationService,\r\n    private testService: TestService,\r\n    private knowledgeService: KnowledgeService,\r\n    private loading: LoadingOverlayService,\r\n    private router: Router\r\n  ) {\r\n    this.paths = navService.paths;\r\n    // this.program = knowledgeService.getSelectedProgram();\r\n    this.learningGoalId = knowledgeService.getSelectedLearningGoal().id;\r\n    this.selectedLearningGoal = knowledgeService.getSelectedLearningGoal();\r\n  }\r\n\r\n  topics: Topic[] = [];\r\n  checkedCount = 0;\r\n  learningGoalId = '';\r\n  isDoneEditing = false;\r\n\r\n  ngOnInit(): void {\r\n    this.learningGoalId = this.route.snapshot.paramMap.get('id') ?? '';\r\n    this.testService.getTopicsOfLearningGoal(this.learningGoalId).subscribe({\r\n      next: (topics: Topic[]) => {\r\n        this.topics = topics;\r\n        this.checkedCount = topics.filter(topic => topic.checked === true).length;\r\n      },\r\n    });\r\n  }\r\n\r\n  updateCount() {\r\n    this.checkedCount = this.topics.filter(lG => lG.checked === true).length;\r\n  }\r\n\r\n  // learningGoals.filter((lG)=>lG.checked===true).length===0\r\n  submit() {\r\n    this.isDoneEditing = true;\r\n    if (\r\n      this.topics.filter(lG => lG.checked === true).length < (this.selectedLearningGoal.minTopic ?? 3) ||\r\n      this.topics.filter(lG => lG.checked === true).length > (this.selectedLearningGoal.maxTopic ?? 4)\r\n    ) {\r\n      return;\r\n    }\r\n    this.loading.show();\r\n    this.testService\r\n      .submitTopics(\r\n        this.learningGoalId,\r\n        this.topics.filter(lG => lG.checked === true).map(topic => topic.id),\r\n        // TODO: Fix hardcode\r\n        ''\r\n      )\r\n      .subscribe({\r\n        next: testId => {\r\n          this.router.navigate([this.paths.mockTestTest.path.replace(':id', testId)]);\r\n        },\r\n      });\r\n  }\r\n}\r\n","<div class=\"flex w-full h-full justify-center p-6 md:p-11\">\r\n  <div class=\"flex flex-col w-full max-w-[894px] gap-6\">\r\n    <h2>Chọn nội dung</h2>\r\n    <div class=\"rounded-lg p-6 flex flex-col gap-6 bg-white items-start\">\r\n      <strong\r\n        [ngClass]=\"{\r\n          'text-red-0':\r\n            isDoneEditing === true &&\r\n            (checkedCount < (selectedLearningGoal.minTopic ?? 3) ||\r\n              checkedCount > (selectedLearningGoal.maxTopic ?? 4)),\r\n          'text-darkEmerald':\r\n            isDoneEditing &&\r\n            checkedCount >= (selectedLearningGoal.minTopic ?? 3) &&\r\n            checkedCount <= (selectedLearningGoal.maxTopic ?? 4)\r\n        }\"\r\n        >Bạn hãy chọn từ {{ selectedLearningGoal.minTopic }} đến {{ selectedLearningGoal.maxTopic }} bài để ôn luyện\r\n        nhé</strong\r\n      >\r\n      <!-- <button class=\"btn-rounded\">\r\n        <span class=\"flex items-center gap-2\"\r\n          ><i class=\"icon-ArrowLeft\"></i> Chọn tất cả <i class=\"icon-ArrowRight\"></i\r\n        ></span>\r\n      </button> -->\r\n      <div class=\"flex flex-col gap-2 w-full h-[calc(100vh_-_25rem)] overflow-auto\">\r\n        <label *ngFor=\"let topic of topics\" class=\"border border-blueGrey-300 p-2 rounded checkbox\">\r\n          <input class=\"mr-4\" type=\"checkbox\" [(ngModel)]=\"topic.checked\" (change)=\"updateCount()\" />\r\n          <span>{{ topic.name }}</span>\r\n        </label>\r\n      </div>\r\n      <div class=\"flex-1\"></div>\r\n      <div class=\"self-end\">\r\n        <button\r\n          (click)=\"submit()\"\r\n          [disabled]=\"\r\n            isDoneEditing &&\r\n            (checkedCount < (selectedLearningGoal.minTopic ?? 3) || checkedCount > (selectedLearningGoal.maxTopic ?? 4))\r\n          \"\r\n          class=\"btn\"\r\n        >\r\n          Làm bài kiểm tra\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, HostBinding, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\r\nimport { AuthService } from '@infrastructure/auth/auth.service';\r\nimport { LearningGoal } from '@infrastructure/knowledge/learning-goal';\r\nimport { LoadingOverlayService } from '@infrastructure/loading-overlay.service';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport { TestService } from '@infrastructure/test/test.service';\r\nimport { AppPaths } from '@presentation/routes';\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [CommonModule, RouterModule],\r\n  templateUrl: './share.component.html',\r\n  styleUrls: ['./share.component.scss'],\r\n})\r\nexport class MockTestShareComponent implements OnInit {\r\n  paths: AppPaths\r\n  constructor(private route: ActivatedRoute, navService: NavigationService, private testService: TestService,\r\n    private loading: LoadingOverlayService, private authService: AuthService, private router: Router) {\r\n    this.paths = navService.paths;\r\n  }\r\n\r\n  @HostBinding('class') class = 'h-full';\r\n\r\n  fromUsername!: string;\r\n  score!: number;\r\n  learningGoal!: LearningGoal;\r\n  ref!: string;\r\n  showForLoggedInUser = false;\r\n\r\n  ngOnInit(): void {\r\n    this.ref = this.route.snapshot.paramMap.get('ref') ?? '';\r\n    this.testService.getShareMockTestInfoFromRef(this.ref).subscribe({\r\n      next: ({\r\n        fromUsername,\r\n        score,\r\n        learningGoal,\r\n      }) => {\r\n        this.fromUsername = fromUsername;\r\n        this.score = score;\r\n        this.learningGoal = learningGoal;\r\n      }\r\n    })\r\n  }\r\n\r\n  acceptChalenge() {\r\n    if (this.authService.getToken() == '') {\r\n      this.router.navigate([this.paths.signUp.path], { queryParams: { ref: this.ref, mocktest: true } })\r\n    }\r\n    else {\r\n      this.showForLoggedInUser = true;\r\n    }\r\n  }\r\n\r\n  createNewLearningGoal() {\r\n    if (this.authService.getToken() == '') {\r\n      this.router.navigate([this.paths.signUp.path]);\r\n    }\r\n    else {\r\n      this.router.navigate([this.paths.mockTest.path]);\r\n    }\r\n  }\r\n}\r\n","<div class=\"flex flex-col md:flex-row h-full bg-primaryBlue items-center justify-center\">\n  <div *ngIf=\"!showForLoggedInUser\" class=\"flex flex-col w-full md:w-1/2 gap-6 items-center\">\n    <img src=\"assets/images/logo-v.svg\" class=\"w-[150px] h-[150px]\" />\n    <div *ngIf=\"fromUsername\" class=\"flex flex-col bg-white rounded-lg p-6 gap-6\">\n      <div class=\"flex flex-row items-center justify-center\">\n        <h4 class=\"flex-1\">Điểm số của {{ fromUsername }} khi thực hiện bài kiểm tra</h4>\n        <div class=\"rounded-[50%] w-[90px] h-[90px] flex items-center justify-center text-white bg-lightBlue-1\">\n          <h5>{{ score }}/10</h5>\n        </div>\n      </div>\n      <div class=\"\">\n        <p>{{ fromUsername }} đã tạo một mục tiêu học tập là {{ learningGoal.name }}</p>\n        <p>\n          Điểm bài kiểm tra khảo sát của bạn ấy là {{ score }}/10 và mời bạn cùng tham gia học {{ learningGoal.name }}\n        </p>\n        <ul class=\"list-disc pl-6\">\n          <li>\n            Nếu bạn chấp nhận thử thách, bạn sẽ thực hiện bài kiểm tra tương tự và ôn tập cùng nội dung với bạn của\n            mình.\n          </li>\n          <li>Hoặc bạn tự tạo mục tiêu học tập và thực hiện bài kiểm tra của riêng bạn.</li>\n        </ul>\n        <p></p>\n        <p>\n          <strong>Lưu ý:</strong>\n        </p>\n        <span>Bạn chỉ có thể chấp nhận thử thách và tham gia game này khi bạn chưa có tài khoản Kyons.</span>\n      </div>\n      <div class=\"flex flex-row gap-2\">\n        <button (click)=\"acceptChalenge()\" class=\"btn btn-large flex-1\">Chấp nhận thử thách</button>\n        <button (click)=\"createNewLearningGoal()\" class=\"btn btn-large flex-1\">Tự tạo mục tiêu riêng</button>\n      </div>\n    </div>\n  </div>\n  <div *ngIf=\"showForLoggedInUser\" class=\"w-[400px] flex flex-col rounded-lg bg-white p-8\">\n    <div class=\"h7\">Thử thách chỉ dành cho các bạn chưa có tài khoản</div>\n    <div class=\"h-2\"></div>\n    <span>Bạn đã có tài khoản và không thể tham gia chương trình</span>\n    <div class=\"h-6\"></div>\n    <button class=\"btn\" (click)=\"showForLoggedInUser = false\">Đóng thông báo</button>\n  </div>\n</div>\n","import { Clipboard } from '@angular/cdk/clipboard';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Component, ElementRef, OnInit, ViewChild, inject } from '@angular/core';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\r\nimport { KnowledgeService } from '@infrastructure/knowledge/knowledge.service';\r\nimport { LearningGoal, StudentLearningGoal } from '@infrastructure/knowledge/learning-goal';\r\nimport { LessonGroup } from '@infrastructure/knowledge/lesson';\r\nimport { LoadingOverlayService } from '@infrastructure/loading-overlay.service';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport { TestService } from '@infrastructure/test/test.service';\r\nimport { QuestionsProgressComponent, TestContentComponent } from '@share-components';\r\nimport { MockTestResult, Progress, Submission, TestContent } from '@share-utils/data';\r\nimport { MockTestStatus } from '@share-utils/domain';\r\nimport { Observable, fromEvent } from 'rxjs';\r\n\r\nconst TEST_DURATION = 90 * 60 * 1000;\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [TestContentComponent, CommonModule, QuestionsProgressComponent, MatTooltipModule, RouterModule],\r\n\r\n  templateUrl: './mock-test-test.component.html',\r\n  styleUrls: ['./mock-test-test.component.scss'],\r\n})\r\nexport class MockTestTestComponent implements OnInit {\r\n  paths = inject(NavigationService).paths;\r\n  source!: Observable<KeyboardEvent>;\r\n  elm = inject(ElementRef);\r\n  route = inject(ActivatedRoute);\r\n  router = inject(Router);\r\n  testService = inject(TestService);\r\n  loading = inject(LoadingOverlayService);\r\n  knowledgeService = inject(KnowledgeService);\r\n  clipboard = inject(Clipboard);\r\n\r\n  learningGoal = LearningGoal.empty();\r\n  studentLearningGoal = StudentLearningGoal.empty();\r\n  testProgress = new Progress();\r\n  isTitleHidden = false;\r\n  testContent = TestContent.empty();\r\n  testSubmission = new Submission();\r\n  isTest = false;\r\n  testResult: MockTestResult | undefined;\r\n  reviewRenderObject: any[] = [];\r\n  resultRenderObject: any[] = [];\r\n  lessonGroup!: LessonGroup;\r\n  userType = '';\r\n  isSubmitting = false;\r\n  currentTestIndex = 0;\r\n  progressString = '';\r\n  hasError = '';\r\n  complete = false;\r\n  testReviewRenderObject: any[] = [];\r\n  testResultRenderObject: any[] = [];\r\n  isSharing = false;\r\n  shareLink = '';\r\n  isCopied = false;\r\n  isPending = true;\r\n  counter = 0;\r\n  counterStart = new Date(this.counter);\r\n  counterTime = new Date(this.counter);\r\n  Math = Math;\r\n  showIncomplete = false;\r\n  showHavingTime = false;\r\n  ignoreIncomplete = false;\r\n  ignoreHavingTime = false;\r\n  mockTestId!: string;\r\n\r\n  @ViewChild('testContentElm') testContentElm!: ElementRef;\r\n  @ViewChild('scrollElm') scrollElm!: ElementRef;\r\n  @ViewChild('scrollXsElm') scrollXsElm!: ElementRef;\r\n\r\n  ngOnInit(): void {\r\n    this.source = fromEvent<KeyboardEvent>(document, 'keyup');\r\n    this.route.queryParams.subscribe(params => {\r\n      this.isTest = params['test'] ? params['test'] === 'true' : false;\r\n    });\r\n    this.mockTestId = this.route.snapshot.paramMap.get('id') ?? '';\r\n    this.learningGoal = this.knowledgeService.getSelectedLearningGoal();\r\n    this.getMockTest();\r\n  }\r\n\r\n  // ngAfterViewInit(): void {\r\n  //   if (!this.testContentElm) return;\r\n  // }\r\n\r\n  getMockTest() {\r\n    this.loading.show();\r\n    if (!this.isPending) return;\r\n    this.testService.getMockTest(this.mockTestId).subscribe({\r\n      next: value => {\r\n        this.isPending = value.status == MockTestStatus.pending;\r\n        if (this.isPending) {\r\n          setTimeout(() => {\r\n            this.getMockTest();\r\n          }, 5000);\r\n          return;\r\n        }\r\n        if (value.done == true) this.complete = true;\r\n        this.testContent = value;\r\n        this.testSubmission.testId = this.testContent.id;\r\n        this.testProgress = Progress.from(0, value.questions.length);\r\n        this.testService.getMockTestResult(this.mockTestId).subscribe({\r\n          next: mockTest => {\r\n            this.counter = TEST_DURATION;\r\n            this.counterStart = new Date();\r\n            setInterval(() => {\r\n              const now = new Date();\r\n              this.counter = TEST_DURATION - (now.getTime() - this.counterStart.getTime());\r\n              this.counterTime = new Date(this.counter);\r\n              // Auto submit mocktest\r\n              // if (this.counter < 0) {\r\n              //   this.ignoreHavingTime = true;\r\n              //   this.ignoreIncomplete = true;\r\n              //   this.testComplete();\r\n              // }\r\n            }, 1000);\r\n            this.loading.hide();\r\n          },\r\n        });\r\n      },\r\n      error: err => {\r\n        this.hasError = err.error_code;\r\n        this.loading.hide();\r\n      },\r\n      complete: () => {\r\n        if (this.complete) {\r\n          alert('Bài kiểm tra đã làm rồi');\r\n          this.router.navigate([this.paths.mockTest.path]);\r\n        }\r\n      },\r\n    });\r\n  }\r\n\r\n  updateProgress(nextProgress: Progress) {\r\n    this.testProgress = nextProgress;\r\n  }\r\n\r\n  updateSubmission(nextSubmission: Submission) {\r\n    this.testSubmission.submitData = nextSubmission.submitData;\r\n  }\r\n\r\n  round(value: number) {\r\n    return Math.round(value);\r\n  }\r\n\r\n  testComplete() {\r\n    if (this.isSubmitting) return;\r\n    // for (const input of a) {\r\n    //   console.log(input.checked);\r\n    //   input.\r\n    // }\r\n    // a.map((input) => {});\r\n    // const groupsOfFour = Array.from(records, record => {\r\n    //   const group = [];\r\n    //   for (let i = 0; i < 4; i++) {\r\n    //     if (record) {\r\n    //       group.push(record);\r\n    //       // record = record.nextSibling;\r\n    //     }\r\n    //   }\r\n    //   return group;\r\n    // });\r\n\r\n    // Print each group of 4 records\r\n    // for (const group of groupsOfFour as any[]) {\r\n    //   console.log(group);\r\n    // }\r\n    if (\r\n      !this.ignoreIncomplete &&\r\n      Object.keys(this.testSubmission.submitData).length < this.testContent.questions.length\r\n    ) {\r\n      this.showIncomplete = true;\r\n      return;\r\n    }\r\n    if (!this.ignoreHavingTime && this.counter > 0) {\r\n      this.showHavingTime = true;\r\n      return;\r\n    }\r\n    if (this.isSubmitting) return;\r\n    this.loading.show();\r\n    this.isSubmitting = true;\r\n    console.log(this.testSubmission.submitData);\r\n\r\n    this.testSubmission.end = new Date();\r\n    this.testService.submitTest(this.testSubmission).subscribe({\r\n      next: (result: any) => {\r\n        this.knowledgeService.selectLearningGoal(this.learningGoal);\r\n        this.loading.hide();\r\n        if (result.have_promotion == true) {\r\n          this.router.navigate([this.paths.gift.path.replace(':event', 'mock_test_submitted')], {\r\n            queryParams: { continue: this.paths.mockTestResult.path.replace(':id', this.mockTestId) },\r\n          });\r\n        } else {\r\n          this.router.navigate([this.paths.mockTestResult.path.replace(':id', this.mockTestId)]);\r\n        }\r\n      },\r\n      error: (err: any) => {\r\n        // TODO: Define error resposes\r\n        console.log(err);\r\n        this.hasError = 'Có lỗi, vui lòng thử lại';\r\n        this.loading.hide();\r\n      },\r\n    });\r\n  }\r\n\r\n  copy() {\r\n    this.clipboard.copy(this.shareLink);\r\n    this.isCopied = true;\r\n    setTimeout(() => {\r\n      this.isCopied = false;\r\n    }, 1000);\r\n  }\r\n\r\n  previousPage() {\r\n    this.scrollElm.nativeElement.scrollLeft -= 400;\r\n  }\r\n\r\n  nextPage() {\r\n    this.scrollElm.nativeElement.scrollLeft += 400;\r\n  }\r\n\r\n  scrollLeft() {\r\n    this.currentTestIndex--;\r\n    this._centerCurrentIndexXs();\r\n    this._centerCurrentIndex();\r\n  }\r\n\r\n  scrollRight() {\r\n    this.currentTestIndex++;\r\n    this._centerCurrentIndexXs();\r\n    this._centerCurrentIndex();\r\n  }\r\n\r\n  goTo(index: number) {\r\n    this.currentTestIndex = index;\r\n    this._centerCurrentIndexXs();\r\n    this._centerCurrentIndex();\r\n  }\r\n\r\n  _centerCurrentIndex() {\r\n    const currentElm = this.scrollElm.nativeElement.querySelectorAll('button')[this.currentTestIndex];\r\n    const currentElmLeft = currentElm.offsetLeft - this.scrollElm.nativeElement.offsetLeft;\r\n    const currentElmWidth = currentElm.offsetWidth;\r\n    const currentElmCenter = currentElmLeft + currentElmWidth / 2;\r\n    const scrollElmWidth = this.scrollElm.nativeElement.offsetWidth;\r\n    this.scrollElm.nativeElement.scrollLeft = currentElmCenter - scrollElmWidth / 2;\r\n  }\r\n\r\n  _centerCurrentIndexXs() {\r\n    const currentElm = this.scrollXsElm.nativeElement.querySelectorAll('button')[this.currentTestIndex];\r\n    const currentElmLeft = currentElm.offsetLeft - this.scrollXsElm.nativeElement.offsetLeft;\r\n    const currentElmWidth = currentElm.offsetWidth;\r\n    const currentElmCenter = currentElmLeft + currentElmWidth / 2;\r\n    const scrollElmWidth = this.scrollXsElm.nativeElement.offsetWidth;\r\n    this.scrollXsElm.nativeElement.scrollLeft = currentElmCenter - scrollElmWidth / 2;\r\n  }\r\n\r\n  submitIncomplete() {\r\n    if (!this.ignoreHavingTime && this.counter > 0) {\r\n      this.showHavingTime = true;\r\n    } else {\r\n      this.testComplete();\r\n    }\r\n    this.showIncomplete = false;\r\n  }\r\n\r\n  submitHavingTime() {\r\n    if (\r\n      !this.ignoreIncomplete &&\r\n      Object.keys(this.testSubmission.submitData).length < this.testContent.questions.length\r\n    ) {\r\n      this.showIncomplete = true;\r\n    } else {\r\n      this.testComplete();\r\n    }\r\n    this.showHavingTime = false;\r\n  }\r\n\r\n  goToResult() {\r\n    this.router.navigate([this.paths.mockTestReview.path.replace(':id', this.mockTestId)]);\r\n  }\r\n\r\n  goToReview() {\r\n    this.router.navigate([this.paths.mockTestReview.path.replace(':id', this.mockTestId)]);\r\n  }\r\n\r\n  _getTopicNameFromId(topicId: string) {\r\n    return this.lessonGroup.lessonCategories.filter(lC => lC.topic.id == topicId)[0].topic.name;\r\n  }\r\n\r\n  _getQuestionsFromIds(questionIds: string[]) {\r\n    return this.testContent.questions.filter(q => questionIds.includes(q.id));\r\n  }\r\n\r\n  _getTestQuestionsFromIds(questionIds: string[]) {\r\n    return this.testContent.questions.filter(q => questionIds.includes(q.id));\r\n  }\r\n}\r\n","<div class=\"w-full h-screen bg-blueGrey-100 flex justify-center\">\r\n  <div class=\"w-full max-w-[894px] col gap-4 p-6\">\r\n    <div class=\"flex gap-2 justify-between\">\r\n      <h4 class=\"hidden md:block\">Mục tiêu của bạn: {{ learningGoal.name }}</h4>\r\n      <div class=\"h8 md:hidden\">Mục tiêu của bạn: {{ learningGoal.name }}</div>\r\n      <strong class=\"text-lightBlue-1 w-[45px] flex justify-between items-center\">\r\n        <span>{{ Math.floor(counter / (60 * 1000)) }}:</span>\r\n        <span>{{\r\n          counterTime.getSeconds() < 10 ? '0' + counterTime.getSeconds() : counterTime.getSeconds()\r\n        }}</span></strong\r\n      >\r\n    </div>\r\n    <!-- <kyonsvn-questions-progress class=\"w-full\" [progress]=\"testProgress\"></kyonsvn-questions-progress> -->\r\n    <div\r\n      #testContentElm\r\n      class=\"col rounded-lg bg-white p-4 overflow-y-auto md:overflow-hidden md:flex-1 max-h-[calc(100vh_-_200px)] md:max-h-fit\"\r\n    >\r\n      <div class=\"flex w-full justify-end gap-2\">\r\n        <button class=\"btn-rounded btn-icon\" (click)=\"testComplete()\"><i class=\"icon-Submit\"></i></button>\r\n        <a class=\"btn-rounded btn-icon\" href=\"https://forms.gle/b36mTdMWNRY1qkZh7\" target=\"_blank\"\r\n          ><i class=\"icon-Error\"></i\r\n        ></a>\r\n      </div>\r\n      <kyonsvn-test-content\r\n        [content]=\"testContent\"\r\n        (progressEvent)=\"updateProgress($event)\"\r\n        [submission]=\"testSubmission\"\r\n        (submissionEvent)=\"updateSubmission($event)\"\r\n        [currentIndex]=\"currentTestIndex\"\r\n        (currentIndexEvent)=\"goTo($event)\"\r\n        [isActive]=\"true\"\r\n        class=\"flex md:flex-1 md:max-h-full md:overflow-y-auto\"\r\n      ></kyonsvn-test-content>\r\n      <div class=\"justify-between hidden md:flex flex-col gap-3\">\r\n        <!-- <div class=\"hidden md:flex flex-1 gap-2\">\r\n          <strong class=\"uppercase\">Phím tắt:</strong>\r\n          <span>Bấm 1,2,3,4 chọn đáp án, bấm space sẽ làm tiếp hoặc nộp bài</span>\r\n        </div> -->\r\n        <div class=\"flex gap-4 items-center w-full overflow-hidden\">\r\n          <button (click)=\"scrollLeft()\" [disabled]=\"currentTestIndex === 0\" class=\"btn\">Câu trước</button>\r\n          <div class=\"flex-1 flex gap-1 w-full overflow-hidden\">\r\n            <button class=\"btn-rounded btn-icon\" (click)=\"previousPage()\"><i class=\"icon-ArrowLeft\"></i></button>\r\n            <div #scrollElm class=\"w-[calc(100%_-_92px)] overflow-x-auto flex gap-1 hide-scrollbar\">\r\n              <button\r\n                class=\"btn-rounded btn-icon\"\r\n                *ngFor=\"let question of testContent.questions; index as i\"\r\n                [ngClass]=\"{\r\n                  'fill-blue': i === currentTestIndex,\r\n                  'outline-blue': i !== currentTestIndex,\r\n                  'fill-black': testSubmission.hasAnswer(question.id)\r\n                }\"\r\n                (click)=\"currentTestIndex = i\"\r\n              >\r\n                {{ i + 1 }}\r\n              </button>\r\n            </div>\r\n            <button class=\"btn-icon btn-rounded\" (click)=\"nextPage()\"><i class=\"icon-ArrowRight\"></i></button>\r\n          </div>\r\n          <button *ngIf=\"currentTestIndex !== testContent.questions.length - 1\" (click)=\"scrollRight()\" class=\"btn\">\r\n            Câu kế tiếp\r\n          </button>\r\n          <button\r\n            *ngIf=\"currentTestIndex === testContent.questions.length - 1\"\r\n            id=\"continue\"\r\n            (click)=\"testComplete()\"\r\n            class=\"btn\"\r\n          >\r\n            Nộp bài\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- <div class=\"ads-md\">\r\n      <span class=\"text-white\">Muốn luyện tập với vô hạn câu hỏi được tạo ra bởi Trí tuệ nhân tạo (AI)?</span>\r\n      <button class=\"btn btn-large\" (click)=\"showWaitlistPopup = true\">Đăng ký Danh sách chờ của Kyons!</button>\r\n    </div> -->\r\n    <div class=\"md:hidden w-full flex items-center justify-between gap-2 mb-20\">\r\n      <div class=\"flex gap-2 items-center w-full\">\r\n        <button (click)=\"scrollLeft()\" [disabled]=\"currentTestIndex === 0\" class=\"btn btn-icon\">\r\n          <i class=\"icon-ArrowLeft\"></i>\r\n        </button>\r\n        <!-- <a\r\n          class=\"btn-rounded btn-icon order-1 md:order-1\"\r\n          href=\"https://forms.gle/b36mTdMWNRY1qkZh7\"\r\n          target=\"_blank\"\r\n          #tooltip=\"matTooltip\"\r\n          matTooltip=\"Nội dung “có vấn đề”? Thông báo cho Kyons liền tay!\"\r\n          matTooltipPosition=\"above\"\r\n          matTooltipHideDelay=\"5000\"\r\n          matTooltipClass=\"above\"\r\n          aria-label=\"Button that displays a tooltip that hides when scrolled out of the container\"\r\n          ><i class=\"icon-Error\"></i\r\n        ></a> -->\r\n        <div #scrollXsElm class=\"max-w-[calc(100%_-_92px)] overflow-x-auto flex gap-[4px] hide-scrollbar\">\r\n          <button\r\n            class=\"btn-rounded btn-icon\"\r\n            *ngFor=\"let question of testContent.questions; index as i\"\r\n            [ngClass]=\"{\r\n              'fill-blue': i === currentTestIndex,\r\n              'outline-blue': i !== currentTestIndex,\r\n              'fill-black': testSubmission.hasAnswer(question.id)\r\n            }\"\r\n            (click)=\"currentTestIndex = i\"\r\n          >\r\n            {{ i + 1 }}\r\n          </button>\r\n        </div>\r\n        <button\r\n          *ngIf=\"currentTestIndex === testContent.questions.length - 1\"\r\n          (click)=\"testComplete()\"\r\n          class=\"btn btn-icon\"\r\n        >\r\n          <i class=\"icon-Submit\"></i>\r\n        </button>\r\n        <button\r\n          *ngIf=\"currentTestIndex !== testContent.questions.length - 1\"\r\n          (click)=\"scrollRight()\"\r\n          [disabled]=\"currentTestIndex === testContent.questions.length - 1\"\r\n          class=\"btn btn-icon\"\r\n        >\r\n          <i class=\"icon-ArrowRight\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"showHavingTime\"\r\n  class=\"absolute top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 w-full md:w-[700px] items-center\">\r\n    <img src=\"/assets/images/testsubmit.webp\" alt=\"\" />\r\n    <div class=\"col w-full gap-6\">\r\n      <h5>Vẫn còn thời gian kiểm tra, bạn muốn nộp bài luôn?</h5>\r\n      <span\r\n        >Hãy xem bài kiểm tra thử này giống như kỳ thi thiệt mà làm bài thật nghiêm túc và tránh bị sai nhảm nha bạn ơi.\r\n        Càng cẩn thận, lộ trình học của Kyons tạo ra sẽ càng phù hợp với khả năng của bạn đó!</span\r\n      >\r\n      <button (click)=\"ignoreHavingTime = true; submitHavingTime()\" class=\"btn w-full\">Nộp bài luôn</button>\r\n      <button (click)=\"showHavingTime = false; ignoreIncomplete = false\" class=\"btn-rounded w-full\">\r\n        Cho mình kiểm tra lại\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"showIncomplete\"\r\n  class=\"absolute top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 w-full md:w-[700px] items-center\">\r\n    <img src=\"/assets/images/warning.webp\" alt=\"\" />\r\n    <div class=\"col w-full gap-6\">\r\n      <h5>Bạn vừa bỏ sót vài câu kìa!</h5>\r\n      <span>\r\n        Bạn đã bỏ sót vài câu kìa! Nếu bạn vẫn chọn nộp bài thì những câu đó sẽ tính là sai và ảnh hưởng đến lộ trình\r\n        học tập của bạn đó.\r\n      </span>\r\n      <p>Chắc chắn muốn nộp bài chứ?</p>\r\n      <button (click)=\"showIncomplete = false; ignoreHavingTime = false\" class=\"btn w-full\">Để mình làm tiếp</button>\r\n      <button (click)=\"ignoreIncomplete = true; submitIncomplete()\" class=\"btn-rounded w-full\">Nộp bài luôn</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"hasError === 'SubmittedMockTest'\"\r\n  class=\"absolute top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 w-full md:w-[500px] items-center\">\r\n    <div class=\"col w-full gap-6\">\r\n      <h5 class=\"w-full text-center\">Bài kiểm tra đã hoàn thành</h5>\r\n      <p></p>\r\n      <button (click)=\"goToResult()\" class=\"btn w-full\">Xem kết quả</button>\r\n      <button (click)=\"goToReview()\" class=\"btn w-full\">Xem đáp án</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { KnowledgeService } from '@infrastructure/knowledge/knowledge.service';\r\nimport { LearningPoint } from '@infrastructure/knowledge/lesson';\r\nimport { LessonService } from '@infrastructure/knowledge/lesson.service';\r\nimport { Program } from '@infrastructure/knowledge/program';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport { AppPaths } from '@presentation/routes';\r\nimport { uniq } from 'lodash-es';\r\n\r\n@Component({\r\n  selector: 'student-new-lesson-page',\r\n  templateUrl: './new-lesson-page.component.html',\r\n  styleUrls: ['./new-lesson-page.component.scss'],\r\n})\r\nexport class NewLessonPageComponent implements OnInit {\r\n  learningPoints!: LearningPoint[];\r\n  selectedLearningPointIds: string[] = [];\r\n  paths: AppPaths;\r\n  selectedProgram: Program;\r\n  constructor(\r\n    private router: Router,\r\n    private lessonService: LessonService,\r\n    navService: NavigationService,\r\n    knowledgeService: KnowledgeService\r\n  ) {\r\n    this.paths = navService.paths;\r\n    this.selectedProgram = knowledgeService.getSelectedProgram();\r\n  }\r\n  ngOnInit(): void {\r\n    this.lessonService.getLearningPoint(this.selectedProgram).subscribe({\r\n      next: (learningPoints: LearningPoint[]) => {\r\n        this.learningPoints = learningPoints;\r\n      },\r\n    });\r\n  }\r\n\r\n  select(id: string) {\r\n    this.selectedLearningPointIds.push(id);\r\n    this.selectedLearningPointIds = uniq(this.selectedLearningPointIds);\r\n  }\r\n\r\n  deselect(id: string) {\r\n    this.selectedLearningPointIds.splice(\r\n      this.selectedLearningPointIds.indexOf(id),\r\n      1\r\n    );\r\n  }\r\n\r\n  submit() {\r\n    this.lessonService\r\n      .createLesson(\r\n        this.selectedProgram,\r\n        this.selectedLearningPointIds.map((id) => Number(id))\r\n      )\r\n      .subscribe({\r\n        complete: () => {\r\n          this.router.navigate([this.paths.learningPath.path]);\r\n        },\r\n      });\r\n  }\r\n}\r\n","<div class=\"p-11 grid md:grid-cols-2 gap-6\" style=\"height: calc(100vh - 50px)\">\r\n  <div class=\"bg-white rounded-lg p-6 overflow-auto\">\r\n    <h1>Kiến thức cần bổ sung</h1>\r\n    <h6 class=\"text-secondaryBlue\">Hãy chọn kiến thức bạn muốn học kế tiếp.</h6>\r\n    <p>Nhấn (<span class=\"text-orange\">+</span>) để đưa kiến thức vào bài học. Bạn chỉ được chọn 1 bài.</p>\r\n    <div class=\"flex flex-col gap-2\">\r\n      <div\r\n        [style.opacity]=\"selectedLearningPointIds.length > 0 ? 0.5 : 1\"\r\n        [style.display]=\"selectedLearningPointIds.includes(lP.id) ? 'none' : 'flex'\"\r\n        (click)=\"selectedLearningPointIds.length === 0 && select(lP.id)\"\r\n        *ngFor=\"let lP of learningPoints; let i = index\"\r\n        class=\"flex rounded-md border border-blueGrey-300 p-2 gap-4 items-center\"\r\n        [ngClass]=\"{\r\n          'cursor-pointer': selectedLearningPointIds.length === 0,\r\n          'cursor-not-allowed': selectedLearningPointIds.length !== 0,\r\n          'bg-red-1': lP.lastScore >= 0 && lP.lastScore <= 4,\r\n          'bg-lightOrange-4': lP.lastScore >= 5 && lP.lastScore <= 8,\r\n          'bg-emerald-3': lP.lastScore >= 9 && lP.lastScore <= 10\r\n        }\"\r\n      >\r\n        <i class=\"icon-Add text-orange\"></i>\r\n        <span class=\"text-sm\">{{ lP.learningPoint }}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"bg-white rounded-lg p-6 flex flex-col gap-2 overflow-auto relative\">\r\n    <div\r\n      [style.display]=\"selectedLearningPointIds.includes(lP.id) ? 'flex' : 'none'\"\r\n      (click)=\"deselect(lP.id)\"\r\n      *ngFor=\"let lP of learningPoints\"\r\n      class=\"flex rounded-md bg-secondaryBlue border border-blueGrey-300 p-2 gap-4 items-center cursor-pointer\"\r\n    >\r\n      <i class=\"icon-Subtract text-orange\"></i>\r\n      <span class=\"text-sm text-white\">{{ lP.learningPoint }}</span>\r\n    </div>\r\n    <div class=\"h-10\"></div>\r\n    <div class=\"h-10 absolute right-6 bottom-6 flex items-center gap-2\">\r\n      <a class=\"btn btn-rounded\" [routerLink]=\"paths.learningPath.path\">Chọn bài học sau</a>\r\n      <button [disabled]=\"selectedLearningPointIds.length === 0\" class=\"btn primary\" (click)=\"submit()\">\r\n        Tạo bài học\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, HostBinding } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LoadingOverlayService } from '@infrastructure/loading-overlay.service';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport { OrderService } from '@infrastructure/order/order.service';\r\nimport { AppPaths } from '@presentation/routes';\r\n\r\n@Component({\r\n  templateUrl: './new-user.component.html',\r\n  styleUrls: ['./new-user.component.scss'],\r\n})\r\nexport class NewUserComponent {\r\n  @HostBinding('class') class = 'h-full';\r\n  paths: AppPaths;\r\n  constructor(\r\n    navService: NavigationService,\r\n    private loading: LoadingOverlayService,\r\n    private orderService: OrderService,\r\n    private router: Router) {\r\n    this.paths = navService.paths;\r\n  }\r\n\r\n  getFreeTrial() {\r\n    this.loading.show();\r\n    this.orderService.getFreeTrial().subscribe({\r\n      next: () => {\r\n        this.router.navigate([this.paths.learningPath.path]);\r\n        this.loading.hide();\r\n      },\r\n      error: () => {\r\n        alert('Có lỗi, xin thử lại');\r\n        this.loading.hide();\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"flex flex-col w-full h-full items-center justify-start p-6 md:p-11\">\r\n  <div class=\"flex flex-col w-full md:w-1/2 gap-6 items-center\">\r\n    <img src=\"assets/images/The personalized road.svg\" class=\"w-[150px] h-[150px]\" />\r\n    <div class=\"flex flex-col bg-white rounded-lg p-6 gap-6\">\r\n      <h4>Sẽ ra sao nếu đây là bài kiểm tra thật?</h4>\r\n      <div class=\"\">\r\n        <p>Chắc chắn bạn sẽ không thể Undo hay ctrl+Z làm lại được rồi.</p>\r\n        <p>\r\n          Nhưng với Kyons, bạn có thể học và làm lại bài đến khi không mắc lỗi đó ở bài thi thật nữa! Bài học ngắn gọn,\r\n          bài tập chọn lọc và một lộ trình học được Kyons thiết kế dựa trên mục tiêu học tập của riêng bạn đang chờ ở\r\n          phía trước.\r\n        </p>\r\n        <p>Còn chần chừ gì mà chưa học cùng Kyons nào!</p>\r\n      </div>\r\n      <div class=\"flex flex-col gap-2\">\r\n        <button class=\"btn\" (click)=\"getFreeTrial()\">Học thử 7 ngày hoàn toàn miễn phí</button>\r\n        <button class=\"btn\" [routerLink]=\"paths.package.path\">Mua gói học tập ưu đãi giới hạn</button>\r\n        <!-- <a class=\"btn-rounded\" [routerLink]=\"paths.home.path\">Quay về trang chủ</a> -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, HostBinding, OnDestroy, OnInit } from '@angular/core';\r\nimport { LoadingOverlayService } from '@infrastructure/loading-overlay.service';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport Balance from '@infrastructure/order/balance';\r\nimport { OrderService } from '@infrastructure/order/order.service';\r\nimport { Package } from '@infrastructure/order/package';\r\nimport { AppPaths } from '@presentation/routes';\r\nimport { Subscription, interval, lastValueFrom } from 'rxjs';\r\n\r\n@Component({\r\n  templateUrl: './package-page.component.html',\r\n  styleUrls: ['./package-page.component.scss'],\r\n})\r\nexport class PackagePageComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class') class = 'h-full';\r\n  paths: AppPaths;\r\n  constructor(\r\n    navService: NavigationService,\r\n    private orderService: OrderService,\r\n    private loading: LoadingOverlayService\r\n  ) {\r\n    this.paths = navService.paths;\r\n  }\r\n\r\n  packages: Package[] = [];\r\n  errorMessage = '';\r\n  step = 0;\r\n  selectedPackage!: Package;\r\n  quantity = 1;\r\n  balance = Balance.empty();\r\n  interval!: Subscription;\r\n\r\n  ngOnInit(): void {\r\n    this.orderService.getPackages().subscribe({\r\n      next: (packages: Package[]) => {\r\n        this.packages = packages;\r\n      },\r\n      error: () => {\r\n        this.errorMessage = 'Có lỗi, vui lòng thử lại';\r\n        this.interval.unsubscribe();\r\n      },\r\n    });\r\n    const requestInterval = interval(10000);\r\n    this.getBalance();\r\n    this.interval = requestInterval.subscribe(() => this.getBalance());\r\n  }\r\n\r\n  getBalance() {\r\n    lastValueFrom(this.orderService.getBalance()).then(\r\n      (balance: Balance) => {\r\n        this.balance = balance;\r\n      },\r\n      () => {\r\n        this.errorMessage = 'Có lỗi, vui lòng thử lại';\r\n      }\r\n    );\r\n  }\r\n\r\n  buyPackage(pack: Package) {\r\n    this.selectedPackage = pack;\r\n    this.step = 1;\r\n    this.quantity = 1;\r\n  }\r\n\r\n  orderPackage() {\r\n    this.loading.show();\r\n    this.orderService.orderPackage(this.selectedPackage.id, this.quantity).subscribe({\r\n      next: () => {\r\n        this.step = 2;\r\n        this.getBalance();\r\n        this.loading.hide();\r\n      },\r\n      error: err => {\r\n        // TODO: Define error resposes\r\n        if (err.error_code == 'BalanceLow') {\r\n          this.errorMessage = 'Tài khoản của bạn hiện không đủ số dư để thanh toán. Vui lòng nạp thêm tiền vào Kyons';\r\n        } else if (err.error_code == 'OverLimit') {\r\n          this.errorMessage = `Bạn chỉ có thể mua tối đa ${this.selectedPackage.limit} gói`;\r\n        } else {\r\n          this.errorMessage = 'Có lỗi, vui lòng thử lại';\r\n        }\r\n        this.step = 3;\r\n        this.loading.hide();\r\n      },\r\n    });\r\n  }\r\n\r\n  close() {\r\n    this.step = 0;\r\n    this.quantity = 1;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.interval.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"p-6 md:p-11 flex flex-col gap-6\">\r\n  <div class=\"flex flex-row w-full items-center gap-6\">\r\n    <a class=\"!no-underline\" [routerLink]=\"paths.account.path\">< Trở về</a>\r\n    <h1 class=\"text-primaryBlue hidden md:block\">Dịch vụ và thanh toán</h1>\r\n    <h6 class=\"text-primaryBlue md:hidden\">Dịch vụ và thanh toán</h6>\r\n  </div>\r\n  <div class=\"flex flex-col md:flex-row w-full gap-6\">\r\n    <div class=\"rounded-lg bg-white w-full md:w-1/3 p-6 flex flex-col gap-6\">\r\n      <h4>Nạp tiền vào hệ thống</h4>\r\n      <span>\r\n        Chuyển khoản để nạp tiền vào tài khoản, kèm ghi chú:<br />\r\n        <strong>[Email của bạn] - Kyons credit</strong>\r\n      </span>\r\n      <!-- <div class=\"flex flex-row gap-6\">\r\n        <div class=\"w-1/2\">\r\n          <strong>Zalo Pay</strong>\r\n          <div class=\"rounded-lg border border-blueGrey-300 flex items-center justify-center w-[100px] h-[100px]\">\r\n            <img src=\"assets/icons/ZaloPay.svg\" class=\"w-[24px]\" alt=\"Zalo Pay\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"w-1/2\">\r\n          <strong>Momo</strong>\r\n          <div class=\"rounded-lg border border-blueGrey-300 flex items-center justify-center w-[100px] h-[100px]\">\r\n            <img src=\"assets/icons/Momo.svg\" class=\"w-[24px]\" alt=\"Mobo\" />\r\n          </div>\r\n        </div>\r\n      </div> -->\r\n      <div class=\"flex flex-col gap-2\">\r\n        <strong>Tài khoản ngân hàng</strong>\r\n        <div class=\"flex flex-row justify-between\"><span>Ngân hàng</span><span>Techcombank</span></div>\r\n        <div class=\"flex flex-row justify-between\"><span>Số tài khoản</span><span>19037780961051</span></div>\r\n        <div class=\"flex flex-row justify-between\"><span>Tên chủ tài khoản</span><span>Công Ty TNHH Kyons</span></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"rounded-lg bg-white w-full md:w-2/3 p-6 flex flex-col gap-6\">\r\n      <h4>Gói dịch vụ của Kyons</h4>\r\n      <div class=\"flex flex-row justify-between\">\r\n        <strong>Tiền trong tài khoản</strong>\r\n        <strong>{{ balance.formatedValue }}</strong>\r\n      </div>\r\n      <table class=\"table\" cellPadding=\"8px\">\r\n        <thead>\r\n          <tr class=\"border-blueGrey-400 border-b-2\">\r\n            <th align=\"left\">Gói học tập</th>\r\n            <th align=\"left\">Chi tiết</th>\r\n            <th align=\"right\">Giá tiền</th>\r\n            <th>&nbsp;</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let p of packages\" class=\"border-blueGrey-300 border-b\">\r\n            <td>{{ p.name }}</td>\r\n            <td class=\"ck-content\" [innerHTML]=\"p.description\"></td>\r\n            <td align=\"right\">\r\n              <span *ngIf=\"p.price !== p.salePrice\" class=\"line-through\">{{ p.formattedPrice }}</span\r\n              ><br /><strong>{{ p.formatedSalePrice }}</strong>\r\n            </td>\r\n            <td align=\"right\">\r\n              <span class=\"inline-block\"\r\n                ><button (click)=\"buyPackage(p)\" class=\"btn btn-rounded btn-small inline-block whitespace-nowrap\">\r\n                  Mua gói\r\n                </button></span\r\n              >\r\n            </td>\r\n          </tr>\r\n          <!-- <tr class=\"border-blueGrey-300 border-b\">\r\n            <td>Light Test</td>\r\n            <td>2 bài kiểm tra thử</td>\r\n            <td align=\"right\">20 000 VND</td>\r\n            <td align=\"right\">\r\n              <span class=\"inline-block\"\r\n                ><a class=\"btn btn-rounded btn-small inline-block whitespace-nowrap\">Mua gói</a></span\r\n              >\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>VIP Test</td>\r\n            <td>7 bài kiểm tra thử</td>\r\n            <td align=\"right\">60 000 VND</td>\r\n            <td align=\"right\">\r\n              <span class=\"inline-block\"\r\n                ><a class=\"btn btn-rounded btn-small inline-block whitespace-nowrap\">Mua gói</a></span\r\n              >\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>Diamond Test</td>\r\n            <td>10 bài kiểm tra thử</td>\r\n            <td align=\"right\">80 000 VND</td>\r\n            <td align=\"right\">\r\n              <span class=\"inline-block\"\r\n                ><a class=\"btn btn-rounded btn-small inline-block whitespace-nowrap\">Mua gói</a></span\r\n              >\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>Fighter Combo</td>\r\n            <td>\r\n              <ul class=\"list-disc pl-4\">\r\n                <li>10 bài kiểm tra thử</li>\r\n                <li>3 ngày học thử giáo trình của Kyons</li>\r\n              </ul>\r\n            </td>\r\n            <td align=\"right\">60 000 VND</td>\r\n            <td align=\"right\">\r\n              <span class=\"inline-block\"\r\n                ><a class=\"btn btn-rounded btn-small inline-block whitespace-nowrap\">Mua gói</a></span\r\n              >\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>Early Bird Member</td>\r\n            <td>\r\n              <ul class=\"list-disc pl-4\">\r\n                <li>1 tháng học giáo trình của Kyons</li>\r\n                <li>5 bài kiểm tra thử</li>\r\n                <li>1 lần học với gia sư (tối đa 30 phút)</li>\r\n              </ul>\r\n              <span class=\"text-lightBlue-1\">*Giá đã áp dụng khuyến mãi 50%. Giá chưa khuyến mãi 750 000 VND</span>\r\n            </td>\r\n            <td align=\"right\"><span class=\"text-lightBlue-1\">20 000 VND</span></td>\r\n            <td align=\"right\">\r\n              <span class=\"inline-block\"\r\n                ><a class=\"btn btn-rounded btn-small inline-block whitespace-nowrap\">Mua gói</a></span\r\n              >\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>Tutor Advice</td>\r\n            <td>1 lần học (tối đa 30 phút)</td>\r\n            <td align=\"right\">120 000 VND</td>\r\n            <td align=\"right\">\r\n              <span class=\"inline-block\"\r\n                ><a class=\"btn btn-rounded btn-small inline-block whitespace-nowrap\">Mua gói</a></span\r\n              >\r\n            </td>\r\n          </tr> -->\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"step === 1\" class=\"flex items-center justify-center fixed z-10 w-full h-full top-0 left-0 bg-black/50\">\r\n    <div class=\"flex flex-col w-[400px] bg-white rounded-lg p-8 gap-6\">\r\n      <div class=\"flex flex-col gap-2\">\r\n        <div class=\"h7\">{{ selectedPackage.name }}</div>\r\n        <div class=\"flex flex-col gap-1\">\r\n          <span>Số lượng</span>\r\n          <input type=\"number\" name=\"quantity\" min=\"1\" [max]=\"selectedPackage.limit\" [(ngModel)]=\"quantity\" />\r\n          <span *ngIf=\"quantity <= 0\" class=\"text-red-0 text-sm\">Số lượng tối thiểu là 1</span>\r\n          <span *ngIf=\"quantity > selectedPackage.limit\" class=\"text-red-0 text-sm\"\r\n            >Bạn chỉ có thể mua tối đa {{ selectedPackage.limit }} gói</span\r\n          >\r\n        </div>\r\n        <div class=\"flex flex-row justify-between\">\r\n          <strong>Tổng giá tiền</strong>\r\n          <strong>{{ quantity * selectedPackage.salePrice | currency : 'VND' : 'code' : '1.0-2' : 'vi' }}</strong>\r\n        </div>\r\n      </div>\r\n      <div class=\"flex flex-row justify-between\">\r\n        <button (click)=\"close()\" class=\"btn-rounded\">Hủy</button>\r\n        <button (click)=\"orderPackage()\" class=\"btn\" [disabled]=\"quantity === 0 || quantity > selectedPackage.limit\">\r\n          Xác nhận\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"step === 2\" class=\"flex items-center justify-center fixed z-10 w-full h-full top-0 left-0 bg-black/50\">\r\n    <div class=\"flex flex-col w-[400px] bg-white rounded-lg p-8 gap-6\">\r\n      <div class=\"flex flex-col gap-2\">\r\n        <div class=\"h7\">Mua gói thành công!</div>\r\n        <span>Bạn vừa mua {{ selectedPackage.name }}</span>\r\n      </div>\r\n      <button (click)=\"close()\" class=\"btn\">Đóng thông báo</button>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"step === 3\" class=\"flex items-center justify-center fixed z-10 w-full h-full top-0 left-0 bg-black/50\">\r\n    <div class=\"flex flex-col w-[400px] bg-white rounded-lg p-8 gap-6\">\r\n      <div class=\"flex flex-col gap-2\">\r\n        <div class=\"h7\">Không thể mua gói!</div>\r\n        <span>{{ errorMessage }}</span>\r\n      </div>\r\n      <button (click)=\"close()\" class=\"btn\">Đóng thông báo</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, HostBinding } from '@angular/core';\r\n\r\n@Component({\r\n  templateUrl: './page-not-found.component.html',\r\n  styleUrls: ['./page-not-found.component.scss'],\r\n})\r\nexport class PageNotFoundComponent {\r\n  @HostBinding('class') class = 'h-full';\r\n}\r\n","<div class=\"flex flex-col md:flex-row w-full h-full py-16 px-11\">\r\n  <div class=\"flex w-full md:w-5/12 flex-col items-start gap-6\">\r\n    <h1 class=\"text-primaryBlue\">404</h1>\r\n    <h3 class=\"text-secondaryBlue\">\r\n      Chắc sự cố ở đâu đó! Bạn vui lòng trở lại trang chủ nha\r\n    </h3>\r\n    <button routerLink=\"/\" class=\"btn primary\">Trang chủ</button>\r\n  </div>\r\n  <div class=\"bg-image w-full md:w-7/12 h-full\"></div>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, HostBinding, OnInit, inject } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { UserService } from '@infrastructure/user/user.service';\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [CommonModule, ReactiveFormsModule],\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.scss'],\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n  fb = inject(FormBuilder);\r\n  userService = inject(UserService);\r\n  userId = this.userService.getUserId();\r\n\r\n  @HostBinding('class') class = 'h-full';\r\n  public profileForm: FormGroup = this.fb.group({});\r\n  public passwordForm: FormGroup = this.fb.group({});\r\n  // public myDatePickerOptions: IMyDpOptions = {\r\n  //   dateFormat: 'dd/mm/yyyy',\r\n  //   selectionTxtFontSize: '1rem',\r\n  // };\r\n  firstName: FormControl = new FormControl('', [Validators.required]);\r\n  lastName: FormControl = new FormControl('', [Validators.required]);\r\n  phone: FormControl = new FormControl('', [Validators.required]);\r\n  email: FormControl = new FormControl('', [Validators.required, Validators.email]);\r\n  birthDay: FormControl = new FormControl(null, []);\r\n  oldPass: FormControl = new FormControl('', [Validators.required]);\r\n  newPass: FormControl = new FormControl('', [Validators.required]);\r\n  confirmNewPass: FormControl = new FormControl('', [Validators.required]);\r\n\r\n  ngOnInit(): void {\r\n    this.profileForm.addControl('firstName', this.firstName);\r\n    this.profileForm.addControl('lastName', this.lastName);\r\n    this.profileForm.addControl('birthDay', this.birthDay);\r\n    this.profileForm.addControl('phone', this.phone);\r\n    this.profileForm.addControl('email', this.email);\r\n\r\n    this.passwordForm.addControl('oldPass', this.oldPass);\r\n    this.passwordForm.addControl('newPass', this.newPass);\r\n    this.passwordForm.addControl('confirmNewPass', this.confirmNewPass);\r\n    this.userService.getUserInfo(this.userId).subscribe({\r\n      next: user => {\r\n        this.firstName.setValue(user.firstName);\r\n        this.lastName.setValue(user.lastName);\r\n        this.email.setValue(user.email);\r\n        this.phone.setValue(user.phone);\r\n      },\r\n    });\r\n  }\r\n\r\n  changeAvatar() {\r\n    //\r\n  }\r\n}\r\n","<div class=\"col items-center justify-center h-full\">\r\n  <div class=\"col w-[434px] bg-white rounded-lg p-6 overflow-auto gap-6 items-center\">\r\n    <h5>Thông tin cá nhân</h5>\r\n    <img src=\"/assets/images/Avatar.svg\" alt=\"\" width=\"105\" height=\"105\" />\r\n    <form class=\"w-full col gap-2\" [formGroup]=\"profileForm\">\r\n      <input type=\"text\" formControlName=\"lastName\" readonly />\r\n      <input type=\"text\" formControlName=\"firstName\" readonly />\r\n      <input type=\"text\" formControlName=\"email\" readonly />\r\n      <input type=\"text\" formControlName=\"phone\" readonly />\r\n    </form>\r\n  </div>\r\n  <div class=\"h-[100px]\"></div>\r\n</div>\r\n","import { Component, HostBinding } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'student-test',\r\n  templateUrl: './test.component.html',\r\n  styleUrls: ['./test.component.scss'],\r\n})\r\nexport class TestComponent {\r\n  @HostBinding('class') class = 'h-full';\r\n}\r\n","<div class=\"flex flex-col items-center justify-center h-full\">\r\n  <h1>Làm một bài test khảo sát trước nhé</h1>\r\n  <div class=\"flex space-between\">\r\n    <button>Làm bài khảo sát</button><button>Theo con đường học mẫu</button>\r\n  </div>\r\n  <div class=\"h-1/3\"></div>\r\n  <h1>A</h1>\r\n  <h2>A</h2>\r\n  <h3>A</h3>\r\n  <h4>A</h4>\r\n  <h5>A</h5>\r\n  <h6>A</h6>\r\n</div>\r\n","import { Routes } from '@angular/router';\r\nimport { AuthGuard } from './auth.guard';\r\nimport { LayoutDefaultComponent } from './layouts/default/layout-default.component';\r\nimport { LayoutFullComponent } from './layouts/full/layout-full.component';\r\nimport { AccountPageComponent } from './pages/account-page/account-page.component';\r\nimport { VerifyPage } from './pages/email-verification/email-verification.component';\r\nimport { GiftComponent } from './pages/gift/gift.component';\r\nimport { HomeComponent } from './pages/home/home.component';\r\nimport { LearningPathComponent } from './pages/learning-path/learning-path.component';\r\nimport { LessonPageComponent } from './pages/lesson-page/lesson-page.component';\r\nimport { LessonReviewPageComponent } from './pages/lesson-page/review/lesson-review-page.component';\r\nimport { MockTestResultComponent } from './pages/mock-test/result/mock-test-result.component';\r\nimport { MockTestReviewComponent } from './pages/mock-test/review/mock-test-review.component';\r\nimport { MockTestSelectProgramComponent } from './pages/mock-test/select-program/select-program.component';\r\nimport { SelectTopicComponent } from './pages/mock-test/select-topic/select-topic.component';\r\nimport { MockTestShareComponent } from './pages/mock-test/share/share.component';\r\nimport { MockTestTestComponent } from './pages/mock-test/test/mock-test-test.component';\r\nimport { NewUserComponent } from './pages/new-user/new-user.component';\r\nimport { PackagePageComponent } from './pages/package-page/package-page.component';\r\nimport { PageNotFoundComponent } from './pages/page-not-found/page-not-found.component';\r\nimport { ProfileComponent } from './pages/profile/profile.component';\r\nimport { TestComponent } from './pages/test/test.component';\r\nimport { TutorialLessonComponent } from './share-components/tutorial/lesson/tutorial-lesson.component';\r\nimport { TutorialTestComponent } from './share-components/tutorial/test/tutorial-test.component';\r\n\r\n/**\r\n * This routes will be used to genarate the app's sitemap.\r\n * For development build on Firebase we need the hash tag (#) to work with host like web.app/domain/\r\n * but for production we strip it out. That's why we have 2 app-routing.module files.\r\n */\r\n\r\nclass AppPaths {\r\n  home = { name: 'Trang chủ', path: '/' };\r\n  signIn = { name: 'Trang đăng nhập', path: '/sign-in/' };\r\n  signOut = { name: 'Thoát', path: '/sign-out/' };\r\n  signUp = { name: 'Trang đăng ký', path: '/sign-up/' };\r\n  classProgram = { name: 'Trang chọn mục tiêu', path: '/mock-test/' };\r\n  test = { name: 'Test', path: '/test/' };\r\n  learningPath = { name: '', path: '/learning-path/' };\r\n  lessonPage = { name: '', path: '/learning-path/lesson-page/:id' };\r\n  lessonPageTutorial = { name: '', path: '/learning-path/lesson-page-tutorial' };\r\n  lessonReviewPage = { name: '', path: '/learning-path/lesson-page/:id/review' };\r\n  learningPathComplete = { name: '', path: '/learning-path/complete/' };\r\n  profile = { name: '', path: '/profile/' };\r\n  pageNotfound = { name: '', path: '/page-not-found/' };\r\n  resetPassword = { name: '', path: '/reset-password/' };\r\n  account = { name: '', path: '/account/' };\r\n  package = { name: '', path: '/account/package/' };\r\n  mockTest = { name: '', path: '/mock-test/' };\r\n  mockTestResult = { name: '', path: '/mock-test/:id/result/' };\r\n  mockTestReview = { name: '', path: '/mock-test/:id/review/' };\r\n  mockTestSelect = { name: '', path: '/mock-test/:id/select/' };\r\n  mockTestTest = { name: '', path: '/mock-test/:id/test/' };\r\n  mockTestTestTutorial = { name: '', path: '/mock-test/tutorial/1' };\r\n  mockTestShare = { name: '', path: '/share-mocktest/:ref' };\r\n  gift = { name: '', path: '/promotions/:event' };\r\n  newUser = { name: '', path: '/new-user/' };\r\n  termsOfService = { name: '', path: '/terms-of-service' };\r\n}\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LayoutFullComponent,\r\n    canActivate: [AuthGuard],\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: HomeComponent,\r\n      },\r\n      {\r\n        path: 'learning-path',\r\n        children: [\r\n          { path: '', component: LearningPathComponent },\r\n          { path: 'lesson-page/:id', component: LessonPageComponent },\r\n          { path: 'lesson-page/:id/review', component: LessonReviewPageComponent },\r\n          { path: 'lesson-page-tutorial', component: TutorialLessonComponent },\r\n          {\r\n            path: 'complete',\r\n            loadComponent: () =>\r\n              import('./pages/learning-path/complete/leanring-path-complete.component').then(\r\n                m => m.LearningPathCompleteComponent\r\n              ),\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        path: 'mock-test',\r\n        children: [\r\n          { path: '', component: MockTestSelectProgramComponent },\r\n          {\r\n            path: ':id',\r\n            children: [\r\n              { path: 'select', component: SelectTopicComponent },\r\n              { path: 'test', component: MockTestTestComponent },\r\n              { path: 'result', component: MockTestResultComponent },\r\n              { path: 'review', component: MockTestReviewComponent },\r\n            ],\r\n          },\r\n          { path: 'select/:id', component: SelectTopicComponent },\r\n          { path: 'test/:id', component: MockTestTestComponent },\r\n          { path: 'share/:id', component: MockTestShareComponent },\r\n          {\r\n            path: 'tutorial/:id',\r\n            component: TutorialTestComponent,\r\n          },\r\n        ],\r\n      },\r\n      { path: 'share-mocktest/:ref', component: MockTestShareComponent },\r\n      { path: 'promotions/:event', component: GiftComponent },\r\n    ],\r\n  },\r\n  {\r\n    path: '',\r\n    component: LayoutDefaultComponent,\r\n    canActivate: [AuthGuard],\r\n    children: [\r\n      {\r\n        path: 'profile',\r\n        component: ProfileComponent,\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: 'account',\r\n        children: [\r\n          { path: '', component: AccountPageComponent },\r\n          { path: 'package', component: PackagePageComponent },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n    ],\r\n  },\r\n  { path: 'test', component: TestComponent },\r\n  { path: 'sign-in', loadComponent: () => import('./pages/sign-in/sign-in.component').then(m => m.SignInComponent) },\r\n  {\r\n    path: 'sign-out',\r\n    loadComponent: () => import('./pages/sign-out/sign-out.component').then(m => m.SignOutComponent),\r\n  },\r\n  {\r\n    path: 'reset-password',\r\n    loadComponent: () => import('./pages/reset-password/reset-password.component').then(m => m.ResetPasswordComponent),\r\n  },\r\n  {\r\n    path: 'sign-up',\r\n    children: [\r\n      {\r\n        path: '',\r\n        loadComponent: () => import('./pages/sign-up/sign-up.component').then(m => m.SignUpComponent),\r\n      },\r\n      {\r\n        path: 'unverified-account',\r\n        loadComponent: () =>\r\n          import('./pages/sign-up/unverified-account.component').then(m => m.UnverifiedAccountComponent),\r\n      },\r\n      {\r\n        path: 'resend-verified',\r\n        loadComponent: () => import('./pages/sign-up/resend-verified.component').then(m => m.ResendVerifiedComponent),\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: 'email-verification',\r\n    children: [\r\n      {\r\n        path: VerifyPage.verifySuccess,\r\n        loadComponent: () =>\r\n          import('./pages/email-verification/email-verification.component').then(m => m.EmailVerificationComponent),\r\n      },\r\n      {\r\n        path: VerifyPage.nonexistentAccount + '/:token',\r\n        loadComponent: () =>\r\n          import('./pages/email-verification/email-verification.component').then(m => m.EmailVerificationComponent),\r\n      },\r\n      {\r\n        path: VerifyPage.expiredLink + '/:token',\r\n        loadComponent: () =>\r\n          import('./pages/email-verification/email-verification.component').then(m => m.EmailVerificationComponent),\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: 'new-user',\r\n    component: NewUserComponent,\r\n  },\r\n  {\r\n    path: 'terms-of-service',\r\n    loadComponent: () =>\r\n      import('./pages/terms-of-service/terms-of-service.component').then(m => m.TermsOfServiceComponent),\r\n  },\r\n  {\r\n    path: 'flashcard/:id',\r\n    loadComponent: () => import('./pages/flashcard/flashcard.component').then(m => m.FlashcardComponent),\r\n  },\r\n  {\r\n    path: '**',\r\n    component: PageNotFoundComponent,\r\n  },\r\n  {\r\n    path: 'page-not-found',\r\n    component: PageNotFoundComponent,\r\n  },\r\n];\r\n\r\nexport { AppPaths, routes };\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'student-input',\r\n  templateUrl: './app-input.component.html',\r\n  styleUrls: ['./app-input.component.scss'],\r\n})\r\nexport class AppInputComponent {\r\n  @Input() placeholder = '';\r\n}\r\n","<input\r\n  type=\"text\"\r\n  [placeholder]=\"placeholder\"\r\n  class=\"h-10 border-r-2 rounded-md\"\r\n/>\r\n","import {\r\n  AfterViewInit,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges\r\n} from '@angular/core';\r\nimport { Carousel } from './carousel';\r\nimport { Cells } from './cells';\r\nimport { Container } from './container';\r\nimport { Images, Properties as CarouselProperties } from './interfaces';\r\nimport { Slide } from './slide';\r\nimport { Touches } from './touches';\r\nimport { Utils } from './utils';\r\n\r\n@Component({\r\n  selector: 'student-carousel, [app-carousel]',\r\n  templateUrl: './carousel.component.html',\r\n  styleUrls: ['./carousel.component.sass'],\r\n})\r\nexport class CarouselComponent\r\n  implements OnInit, AfterViewInit, OnChanges, OnDestroy {\r\n  carousel: any;\r\n  container: any;\r\n  utils: any;\r\n  cells: any;\r\n  slide: any;\r\n  _id!: string;\r\n  _images!: Images;\r\n  touches: any;\r\n  landscapeMode: any;\r\n  minTimeout = 30;\r\n  isVideoPlaying = false;\r\n  _isCounter = false;\r\n  _width!: number;\r\n  _cellWidth: number | '100%' = 200;\r\n  _loop = false;\r\n  _lightDOM = false;\r\n  isMoving = false;\r\n  isNgContent = false;\r\n  cellLength!: number;\r\n  dotsArr: any;\r\n  carouselProperties!: CarouselProperties;\r\n  savedCarouselWidth!: number;\r\n\r\n  get isContainerLocked() {\r\n    if (this.carousel) {\r\n      return this.carousel.isContainerLocked;\r\n    }\r\n  }\r\n\r\n  get slideCounter() {\r\n    if (this.carousel) {\r\n      return this.carousel.slideCounter;\r\n    }\r\n  }\r\n\r\n  get lapCounter() {\r\n    if (this.carousel) {\r\n      return this.carousel.lapCounter;\r\n    }\r\n  }\r\n\r\n  get isLandscape() {\r\n    return window.innerWidth > window.innerHeight;\r\n  }\r\n\r\n  get isSafari(): any {\r\n    const ua = navigator.userAgent.toLowerCase();\r\n    if (ua.indexOf('safari') !== -1) {\r\n      return !(ua.indexOf('chrome') > -1);\r\n    }\r\n  }\r\n\r\n  get counter() {\r\n    let counter;\r\n\r\n    if (this.loop) {\r\n      counter = this.slideCounter % this.cellLength;\r\n    } else {\r\n      counter = this.slideCounter;\r\n    }\r\n\r\n    return counter + 1 + this.counterSeparator + this.cellLength;\r\n  }\r\n\r\n  get cellsElement() {\r\n    return this.elementRef.nativeElement.querySelector('.carousel-cells');\r\n  }\r\n\r\n  get isArrows() {\r\n    return this.arrows && !this.freeScroll;\r\n  }\r\n\r\n  get isCounter() {\r\n    return this._isCounter && this.cellLength > 1;\r\n  }\r\n  @Input() set isCounter(value) {\r\n    if (value) {\r\n      this._isCounter = value;\r\n    }\r\n  }\r\n\r\n  get activeDotIndex() {\r\n    return this.slideCounter % this.cellLength;\r\n  }\r\n\r\n  get cellLimit() {\r\n    if (this.carousel) {\r\n      return this.carousel.cellLimit;\r\n    }\r\n  }\r\n\r\n  get carouselWidth() {\r\n    return this.elementRef.nativeElement.clientWidth;\r\n  }\r\n\r\n  @Output() events: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  @Input() id!: number;\r\n  @Input() height = 200;\r\n  @Input() width!: number;\r\n  @Input() autoplay = false;\r\n  @Input() autoplayInterval = 5000;\r\n  @Input() pauseOnHover = true;\r\n  @Input() dots = false;\r\n  @Input() borderRadius!: number;\r\n  @Input() margin = 10;\r\n  @Input() objectFit: 'contain' | 'cover' | 'none' = 'cover';\r\n  @Input() minSwipeDistance = 10;\r\n  @Input() transitionDuration = 200;\r\n  @Input() transitionTimingFunction:\r\n    | 'ease'\r\n    | 'ease-in'\r\n    | 'ease-out'\r\n    | 'ease-in-out'\r\n    | 'linear' = 'ease-out';\r\n  @Input() videoProperties: any;\r\n  @Input() counterSeparator = ' / ';\r\n  @Input() overflowCellsLimit = 3;\r\n  @Input() listeners: 'auto' | 'mouse and touch' = 'mouse and touch';\r\n  @Input() cellsToShow!: number;\r\n  @Input() cellsToScroll = 1;\r\n  @Input() freeScroll = false;\r\n  @Input() arrows = true;\r\n  @Input() arrowsOutside = false;\r\n  @Input() arrowsTheme: 'light' | 'dark' = 'light';\r\n\r\n  @Input()\r\n  set images(images: Images & any) {\r\n    this._images = images;\r\n  }\r\n  get images() {\r\n    return this._images;\r\n  }\r\n\r\n  @Input() set cellWidth(value: number | '100%') {\r\n    if (value) {\r\n      this._cellWidth = value;\r\n    }\r\n  }\r\n\r\n  @Input() set loop(value) {\r\n    if (value) {\r\n      this._loop = value;\r\n    }\r\n  }\r\n\r\n  get loop() {\r\n    if (this.images) {\r\n      return this._loop;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  @Input() set lightDOM(value) {\r\n    if (value) {\r\n      this._lightDOM = value;\r\n    }\r\n  }\r\n\r\n  get lightDOM() {\r\n    if (this.images) {\r\n      return this._lightDOM;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  @HostBinding('class.carousel') hostClassCarousel = true;\r\n  @HostBinding('style.height') hostStyleHeight!: string;\r\n  @HostBinding('style.width') hostStyleWidth!: string;\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  onWindowResize(event: any) {\r\n    if (this.utils.visibleWidth !== this.savedCarouselWidth) {\r\n      this.resize();\r\n    }\r\n  }\r\n\r\n  @HostListener('mousemove', ['$event'])\r\n  onMousemove(event: MouseEvent) {\r\n    if (this.autoplay && this.pauseOnHover) {\r\n      this.carousel.stopAutoplay();\r\n    }\r\n  }\r\n\r\n  @HostListener('mouseleave', ['$event'])\r\n  onMouseleave(event: MouseEvent) {\r\n    if (this.autoplay && this.pauseOnHover) {\r\n      this.carousel.autoplay();\r\n    }\r\n  }\r\n\r\n  constructor(private elementRef: ElementRef, private ref: ChangeDetectorRef) { }\r\n\r\n  ngOnInit() {\r\n    this.isNgContent = this.cellsElement.children.length > 0;\r\n\r\n    this.touches = new Touches({\r\n      element: this.cellsElement,\r\n      listeners: this.listeners,\r\n      mouseListeners: {\r\n        mousedown: 'handleMousedown',\r\n        mouseup: 'handleMouseup',\r\n      },\r\n    });\r\n\r\n    this.touches.on('touchstart', this.handleTouchstart);\r\n    this.touches.on('horizontal-swipe', this.handleHorizontalSwipe);\r\n    this.touches.on('touchend', this.handleTouchend);\r\n    this.touches.on('mousedown', this.handleTouchstart);\r\n    this.touches.on('mouseup', this.handleTouchend);\r\n    this.touches.on('tap', this.handleTap);\r\n\r\n    this.setDimensions();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.initCarousel();\r\n    this.cellLength = this.getCellLength();\r\n    this.dotsArr = Array(this.cellLength).fill(1);\r\n    this.ref.detectChanges();\r\n    this.carousel.lineUpCells();\r\n    this.savedCarouselWidth = this.carouselWidth;\r\n\r\n    /* Start detecting changes in the DOM tree */\r\n    this.detectDomChanges();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['width'] || changes['height'] || changes['images']) {\r\n      this.setDimensions();\r\n      this.initCarousel();\r\n      this.carousel.lineUpCells();\r\n      this.ref.detectChanges();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.touches.destroy();\r\n    //this.carousel.destroy();\r\n  }\r\n\r\n  initCarousel() {\r\n    this.carouselProperties = {\r\n      id: this.id,\r\n      cellsElement:\r\n        this.elementRef.nativeElement.querySelector('.carousel-cells'),\r\n      hostElement: this.elementRef.nativeElement,\r\n      images: this.images,\r\n      cellWidth: this.getCellWidth(),\r\n      loop: this.loop,\r\n      autoplayInterval: this.autoplayInterval,\r\n      overflowCellsLimit: this.overflowCellsLimit,\r\n      visibleWidth: this.width,\r\n      margin: this.margin,\r\n      minSwipeDistance: this.minSwipeDistance,\r\n      transitionDuration: this.transitionDuration,\r\n      transitionTimingFunction: this.transitionTimingFunction,\r\n      videoProperties: this.videoProperties,\r\n      eventHandler: this.events,\r\n      freeScroll: this.freeScroll,\r\n      lightDOM: this.lightDOM,\r\n    };\r\n\r\n    this.utils = new Utils(this.carouselProperties);\r\n    this.cells = new Cells(this.carouselProperties, this.utils);\r\n    this.container = new Container(\r\n      this.carouselProperties,\r\n      this.utils,\r\n      this.cells\r\n    );\r\n    this.slide = new Slide(\r\n      this.carouselProperties,\r\n      this.utils,\r\n      this.cells,\r\n      this.container\r\n    );\r\n    this.carousel = new Carousel(\r\n      this.carouselProperties,\r\n      this.utils,\r\n      this.cells,\r\n      this.container,\r\n      this.slide\r\n    );\r\n\r\n    if (this.autoplay) {\r\n      this.carousel.autoplay();\r\n    }\r\n  }\r\n\r\n  resize() {\r\n    this.landscapeMode = this.isLandscape;\r\n    this.savedCarouselWidth = this.carouselWidth;\r\n\r\n    this.carouselProperties.cellWidth = this.getCellWidth();\r\n    this.cells.updateProperties(this.carouselProperties);\r\n    this.carousel.updateProperties(this.carouselProperties);\r\n    this.container.updateProperties(this.carouselProperties);\r\n    this.slide.updateProperties(this.carouselProperties);\r\n    this.utils.updateProperties(this.carouselProperties);\r\n    this.carousel.lineUpCells();\r\n    this.slide.select(0);\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n  detectDomChanges() {\r\n    const observer = new MutationObserver((mutations) => {\r\n      this.onDomChanges();\r\n    });\r\n\r\n    const config = {\r\n      attributes: true,\r\n      childList: true,\r\n      characterData: true,\r\n    };\r\n    observer.observe(this.cellsElement, config);\r\n  }\r\n\r\n  onDomChanges() {\r\n    this.cellLength = this.getCellLength();\r\n    this.carousel.lineUpCells();\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n  setDimensions() {\r\n    this.hostStyleHeight = this.height + 'px';\r\n    this.hostStyleWidth = this.width + 'px';\r\n  }\r\n\r\n  getImage(index: number) {\r\n    return this.carousel.getImage(index);\r\n  }\r\n\r\n  handleTouchstart = (event: any) => {\r\n    this.touches.addEventListeners('mousemove', 'handleMousemove');\r\n    this.carousel.handleTouchstart(event);\r\n    this.isMoving = true;\r\n  };\r\n\r\n  handleHorizontalSwipe = (event: any) => {\r\n    event.preventDefault();\r\n    this.carousel.handleHorizontalSwipe(event);\r\n  };\r\n\r\n  handleTouchend = (event: any) => {\r\n    const touches = event.touches;\r\n    this.carousel.handleTouchend(event);\r\n    this.touches.removeEventListeners('mousemove', 'handleMousemove');\r\n    this.isMoving = false;\r\n  };\r\n\r\n  handleTap = (event: any) => {\r\n    const outboundEvent: any = {\r\n      name: 'click',\r\n    };\r\n    const nodes = Array.prototype.slice.call(this.cellsElement.children);\r\n    const cellElement = event.srcElement.closest('.carousel-cell');\r\n    const i = nodes.indexOf(cellElement);\r\n    const cellIndex = nodes.indexOf(cellElement);\r\n\r\n    if (this.images) {\r\n      //outboundEvent.fileIndex = this.carousel.getFileIndex(i);\r\n      //outboundEvent.file = this.carousel.getFile(cellIndex);\r\n    } else {\r\n      outboundEvent.cellIndex = cellIndex;\r\n    }\r\n  };\r\n\r\n  handleTransitionendCellContainer(event: any) {\r\n    if (event.target['className'] === 'carousel-cells') {\r\n      this.carousel.handleTransitionend();\r\n    }\r\n  }\r\n\r\n  getCellWidth() {\r\n    const elementWidth = this.carouselWidth;\r\n\r\n    if (this.cellsToShow) {\r\n      const margin = this.cellsToShow > 1 ? this.margin : 0;\r\n      const totalMargin = margin * (this.cellsToShow - 1);\r\n      return (elementWidth - totalMargin) / this.cellsToShow;\r\n    }\r\n\r\n    if (this._cellWidth === '100%') {\r\n      return elementWidth;\r\n    } else {\r\n      return this._cellWidth;\r\n    }\r\n  }\r\n\r\n  next() {\r\n    this.carousel.next(this.cellsToScroll);\r\n    this.carousel.stopAutoplay();\r\n  }\r\n\r\n  prev() {\r\n    this.carousel.prev(this.cellsToScroll);\r\n    this.carousel.stopAutoplay();\r\n  }\r\n\r\n  isNextArrowDisabled() {\r\n    if (this.carousel) {\r\n      return this.carousel.isNextArrowDisabled();\r\n    }\r\n  }\r\n\r\n  isPrevArrowDisabled() {\r\n    if (this.carousel) {\r\n      return this.carousel.isPrevArrowDisabled();\r\n    }\r\n  }\r\n\r\n  getCellLength() {\r\n    if (this.images) {\r\n      return this.images.length;\r\n    } else {\r\n      return this.cellsElement.children.length;\r\n    }\r\n  }\r\n}\r\n","<div class=\"carousel-counter\" *ngIf=\"isCounter\">{{ counter }}</div>\r\n\r\n<div class=\"carousel-container\" [class.carousel-moving]=\"isMoving\">\r\n  <div\r\n    class=\"carousel-cells\"\r\n    #cells\r\n    (transitionend)=\"handleTransitionendCellContainer($event)\"\r\n  >\r\n    <ng-content></ng-content>\r\n\r\n    <ng-template ngFor let-image [ngForOf]=\"images\" let-i=\"index\">\r\n      <div\r\n        class=\"carousel-cell\"\r\n        [style.width]=\"getCellWidth() + 'px'\"\r\n        [style.border-radius]=\"borderRadius + 'px'\"\r\n        *ngIf=\"i < cellLimit\"\r\n      >\r\n        <!-- Image -->\r\n        <img\r\n          *ngIf=\"getImage(i) && getImage(i)['image']\"\r\n          [src]=\"getImage(i)['image']['path']\"\r\n          [style.object-fit]=\"objectFit\"\r\n          draggable=\"false\"\r\n        />\r\n      </div>\r\n    </ng-template>\r\n  </div>\r\n\r\n  <div class=\"carousel-dots\" *ngIf=\"dots\">\r\n    <div\r\n      class=\"carousel-dot\"\r\n      [class.carousel-dot-active]=\"i === activeDotIndex\"\r\n      *ngFor=\"let dot of dotsArr; index as i\"\r\n    ></div>\r\n  </div>\r\n</div>\r\n\r\n<div\r\n  class=\"carousel-arrows\"\r\n  [class.carousel-arrows-outside]=\"arrowsOutside\"\r\n  [class.carousel-dark-arrows]=\"arrowsTheme === 'dark'\"\r\n  *ngIf=\"isArrows\"\r\n>\r\n  <span\r\n    class=\"carousel-arrow carousel-arrow-prev inline-block\"\r\n    [class.carousel-arrow-disabled]=\"isPrevArrowDisabled()\"\r\n    (click)=\"prev()\"\r\n  >\r\n    <img class=\"w-full\" src=\"assets/icons/left.svg\" alt=\"Right\" />\r\n  </span>\r\n  <span\r\n    class=\"carousel-arrow carousel-arrow-next inline-block\"\r\n    [class.carousel-arrow-disabled]=\"isNextArrowDisabled()\"\r\n    (click)=\"next()\"\r\n  >\r\n    <img class=\"w-full\" src=\"assets/icons/right.svg\" alt=\"Right\" />\r\n  </span>\r\n  <!-- <div\r\n    class=\"carousel-arrow carousel-arrow-prev\"\r\n    [class.carousel-arrow-disabled]=\"isPrevArrowDisabled()\"\r\n    (click)=\"prev()\"\r\n  ></div>\r\n  <div\r\n    class=\"carousel-arrow carousel-arrow-next\"\r\n    [class.carousel-arrow-disabled]=\"isNextArrowDisabled()\"\r\n    (click)=\"next()\"\r\n  ></div> -->\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { CarouselComponent } from './carousel.component';\r\n\r\n@NgModule({\r\n  declarations: [CarouselComponent],\r\n  imports: [CommonModule],\r\n  exports: [CarouselComponent],\r\n  providers: [],\r\n  bootstrap: [],\r\n})\r\nexport class IvyCarouselModule {}\r\n","import { Properties } from './interfaces';\r\n\r\nexport class Carousel {\r\n  cellsElement: HTMLElement | undefined;\r\n\r\n  /* The slide length has been limited by the limitSlideLength() method */\r\n  isSlideLengthLimited: boolean = false;\r\n\r\n  isContentImages: boolean = true;\r\n  visibleWidth!: number;\r\n  isLazyLoad: boolean = true;\r\n  isContainerLocked: boolean = true;\r\n  alignCells: 'left' | 'center' = 'left';\r\n  initialContainerPosition: number = 0;\r\n  autoplayId: any;\r\n  containerPullLimit = 100;\r\n\r\n  get cellLength() {\r\n    return this.cells.cellLength;\r\n  }\r\n\r\n  get cellLengthInLightDOMMode() {\r\n    if (this.images) {\r\n      let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\r\n      if (cellLength > this.images.length) {\r\n        cellLength = this.images.length;\r\n      }\r\n      return cellLength;\r\n    } else {\r\n      return this.cellLength;\r\n    }\r\n  }\r\n\r\n  get lastCellIndex() {\r\n    return this.images.length\r\n      ? this.images.length - 1\r\n      : this.cells.cellLength - 1;\r\n  }\r\n\r\n  get overflowCellsLimit() {\r\n    return this.utils.overflowCellsLimit;\r\n  }\r\n\r\n  get cellLimit() {\r\n    if (this.isLightDOM) {\r\n      let cellLimit = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\r\n\r\n      if (cellLimit < this.numberOfVisibleCells) {\r\n        cellLimit = this.numberOfVisibleCells;\r\n      }\r\n\r\n      return cellLimit;\r\n    } else {\r\n      return this.properties.images.length;\r\n    }\r\n  }\r\n\r\n  get isLightDOM() {\r\n    return this.properties.lightDOM || this.properties.loop;\r\n  }\r\n\r\n  get images() {\r\n    return this.properties.images;\r\n  }\r\n\r\n  get margin() {\r\n    return this.properties.margin;\r\n  }\r\n\r\n  get minSwipeDistance() {\r\n    return this.properties.minSwipeDistance;\r\n  }\r\n\r\n  get transitionDuration() {\r\n    return this.properties.transitionDuration;\r\n  }\r\n\r\n  get transitionTimingFunction() {\r\n    return this.properties.transitionTimingFunction;\r\n  }\r\n\r\n  get fullCellWidth() {\r\n    return this.properties.cellWidth + this.margin;\r\n  }\r\n\r\n  get numberOfVisibleCells() {\r\n    return this.utils.numberOfVisibleCells;\r\n  }\r\n\r\n  get lapCounter() {\r\n    return Math.floor(this.slide.counter / this.cellLengthInLightDOMMode);\r\n  }\r\n\r\n  get slideCounter() {\r\n    return this.slide.counter;\r\n  }\r\n\r\n  constructor(\r\n    private properties: Properties,\r\n    private utils: any,\r\n    private cells: any,\r\n    private container: any,\r\n    private slide: any\r\n  ) {\r\n    this.init();\r\n  }\r\n\r\n  updateProperties(properties: Properties) {\r\n    this.properties = properties;\r\n  }\r\n\r\n  init() {\r\n    this.cellsElement = this.properties.cellsElement;\r\n    this.visibleWidth =\r\n      this.properties.visibleWidth ||\r\n      this.cellsElement!.parentElement!.clientWidth;\r\n  }\r\n\r\n  destroy() {\r\n    clearInterval(this.autoplayId);\r\n  }\r\n\r\n  lineUpCells() {\r\n    this.cells.lineUp();\r\n  }\r\n\r\n  handleTouchstart = (event: any) => {\r\n    this.container.handleTouchstart();\r\n    this.slide.handleTouchstart(event);\r\n  };\r\n\r\n  handleHorizontalSwipe = (event: any) => {\r\n    this.container.handleHorizontalSwipe();\r\n  };\r\n\r\n  handleTouchend = (event: any) => {\r\n    if (this.properties.freeScroll) {\r\n      this.container.handleTouchend();\r\n    } else {\r\n      this.container.handleTouchend(true);\r\n      this.slide.handleTouchend(event);\r\n    }\r\n  };\r\n\r\n  handleTransitionend() {\r\n    this.slide.handleTransitionend();\r\n  }\r\n\r\n  getImage(index: number) {\r\n    return this.cells.getImage(index);\r\n  }\r\n\r\n  next(length: number = 1) {\r\n    if (!this.isNextArrowDisabled()) {\r\n      this.slide.next(length);\r\n    }\r\n  }\r\n\r\n  prev(length: number = 1) {\r\n    this.slide.prev(length);\r\n  }\r\n\r\n  isNextArrowDisabled = () => {\r\n    return this.slide.isNextArrowDisabled();\r\n  };\r\n\r\n  isPrevArrowDisabled = () => {\r\n    return this.slide.isPrevArrowDisabled();\r\n  };\r\n\r\n  autoplay() {\r\n    this.autoplayId = setInterval(() => {\r\n      this.next();\r\n    }, this.properties.autoplayInterval);\r\n  }\r\n\r\n  stopAutoplay() {\r\n    if (this.autoplayId) {\r\n      clearInterval(this.autoplayId);\r\n    }\r\n  }\r\n}\r\n","import { Properties as CarouselProperties, Image } from './interfaces';\r\n\r\nexport interface Cell {\r\n  index: number;\r\n  positionX: number;\r\n  img: {\r\n    image: Image;\r\n    imageIndex: number;\r\n  };\r\n}\r\n\r\nexport class ImageUtils {\r\n  cellStack: Cell[] = [];\r\n  element: any;\r\n\r\n  constructor(element: HTMLElement | undefined) {\r\n    this.element = element;\r\n  }\r\n\r\n  getImages() {\r\n    return this.cellStack.filter(this.filter);\r\n  }\r\n\r\n  filter(cell: Cell) {\r\n    return cell.img !== undefined;\r\n  }\r\n}\r\n\r\nexport class Cells {\r\n  cells: HTMLCollection | undefined;\r\n  element!: HTMLElement;\r\n  visibleWidth: number | undefined;\r\n  counter: number = 0;\r\n  imageUtils;\r\n\r\n  get images() {\r\n    return this.carouselProperties.images;\r\n  }\r\n\r\n  get cellLength() {\r\n    return this.cells ? this.cells.length : 0;\r\n  }\r\n\r\n  get fullCellWidth() {\r\n    return this.carouselProperties.cellWidth + this.carouselProperties.margin;\r\n  }\r\n\r\n  get cellLengthInLightDOMMode() {\r\n    if (this.images) {\r\n      let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\r\n\r\n      if (cellLength > this.images.length) {\r\n        cellLength = this.images.length;\r\n      }\r\n      return cellLength;\r\n    } else {\r\n      return this.cellLength;\r\n    }\r\n  }\r\n\r\n  get numberOfVisibleCells() {\r\n    return this.utils.numberOfVisibleCells;\r\n  }\r\n\r\n  get overflowCellsLimit() {\r\n    return this.utils.overflowCellsLimit;\r\n  }\r\n\r\n  get isLightDOM() {\r\n    return this.carouselProperties.lightDOM || this.carouselProperties.loop;\r\n  }\r\n\r\n  constructor(\r\n    private carouselProperties: CarouselProperties,\r\n    private utils: any\r\n  ) {\r\n    this.imageUtils = new ImageUtils(this.element);\r\n    this.init(carouselProperties);\r\n  }\r\n\r\n  updateProperties(carouselProperties: CarouselProperties) {\r\n    this.carouselProperties = carouselProperties;\r\n  }\r\n\r\n  lineUp() {\r\n    const cells = this.element ? this.element.children : [];\r\n    this.imageUtils.cellStack = [];\r\n\r\n    for (var i = 0; i < cells.length; i++) {\r\n      let cell = cells[i];\r\n      let positionX = this.getCellPositionInContainer(i);\r\n      (cell as HTMLElement).style.transform = 'translateX(' + positionX + 'px)';\r\n      (cell as HTMLElement).style.width =\r\n        this.carouselProperties.cellWidth + 'px';\r\n\r\n      if (this.getImage(i)) {\r\n        this.imageUtils.cellStack.push({\r\n          index: i,\r\n          positionX,\r\n          img: this.getImage(i)!['image'],\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  ifSequenceOfCellsIsChanged() {\r\n    const cells: any = this.element.children;\r\n    return cells[0]['style'].transform !== 'translateX(0px)';\r\n  }\r\n\r\n  getCellPositionInContainer(cellIndexInDOMTree: number) {\r\n    let positionIndex = this.getCellIndexInContainer(cellIndexInDOMTree);\r\n    return positionIndex * this.fullCellWidth;\r\n  }\r\n\r\n  getCellIndexInContainer(cellIndexInDOMTree: number) {\r\n    let positionIndex;\r\n\r\n    if (!this.isLightDOM) {\r\n      return cellIndexInDOMTree;\r\n    }\r\n\r\n    let cellLength = this.cellLengthInLightDOMMode;\r\n    let counter = this.counter - this.overflowCellsLimit;\r\n\r\n    if (counter > cellLength) {\r\n      counter = counter % cellLength;\r\n    }\r\n\r\n    if (counter < 0) {\r\n      return cellIndexInDOMTree;\r\n    } else {\r\n      positionIndex = cellIndexInDOMTree - counter;\r\n      if (positionIndex < 0) {\r\n        positionIndex = cellLength + positionIndex;\r\n      }\r\n    }\r\n\r\n    return positionIndex;\r\n  }\r\n\r\n  getImage(cellIndex: number) {\r\n    if (!this.images) {\r\n      return;\r\n    }\r\n\r\n    let imageIndex = this.getImageIndex(cellIndex);\r\n    let file = this.images[imageIndex];\r\n\r\n    if (file && !file.type) {\r\n      file.type = 'image';\r\n    }\r\n\r\n    return {\r\n      image: this.images[imageIndex],\r\n      imageIndex,\r\n    };\r\n  }\r\n\r\n  getImageIndex(cellIndexInDOMTree: number) {\r\n    const positionIndex = this.getCellIndexInContainer(cellIndexInDOMTree);\r\n    let imageIndex;\r\n\r\n    if (this.counter > this.overflowCellsLimit) {\r\n      let cellLimitOverflow = this.counter - this.overflowCellsLimit;\r\n      imageIndex = positionIndex + cellLimitOverflow;\r\n\r\n      if (this.images && this.carouselProperties.loop) {\r\n        imageIndex = imageIndex % this.images.length;\r\n      }\r\n    } else {\r\n      imageIndex = cellIndexInDOMTree;\r\n    }\r\n\r\n    return imageIndex;\r\n  }\r\n\r\n  setCounter(value: number) {\r\n    this.counter = value;\r\n  }\r\n\r\n  init(carouselProperties: CarouselProperties) {\r\n    this.element = this.carouselProperties.cellsElement;\r\n    this.cells = this.element.children;\r\n    this.visibleWidth =\r\n      this.carouselProperties.visibleWidth ||\r\n      this.element!.parentElement!.clientWidth;\r\n  }\r\n}\r\n","import { Properties as CarouselProperties } from './interfaces';\r\n\r\nexport class Container {\r\n  /* The index of the new position relative to\r\n   * the active index, for example -1 or +1\r\n   */\r\n  newPositionIndex: number = 0;\r\n  isPositionCorrection: boolean = false;\r\n  initialPositionX: number = 0;\r\n  initialElementPositionX: number = 0;\r\n  isLocked: boolean = true;\r\n  pullLimit: number = 100;\r\n  startTime: number = 0;\r\n  startX: number = 0;\r\n  moveX: number = 0;\r\n  isSwipeInProgress: boolean = false;\r\n\r\n  get visibleWidth() {\r\n    return this.utils.visibleWidth;\r\n  }\r\n\r\n  get overflowCellsLimit() {\r\n    return this.utils.overflowCellsLimit;\r\n  }\r\n\r\n  get images() {\r\n    return this.carouselProperties.images;\r\n  }\r\n\r\n  get element() {\r\n    return this.carouselProperties.cellsElement;\r\n  }\r\n\r\n  get freeScroll() {\r\n    return this.carouselProperties.freeScroll;\r\n  }\r\n\r\n  get fullCellWidth() {\r\n    return this.carouselProperties.cellWidth + this.carouselProperties.margin;\r\n  }\r\n\r\n  get numberOfVisibleCells() {\r\n    return this.utils.numberOfVisibleCells;\r\n  }\r\n\r\n  get transitionDuration() {\r\n    return this.carouselProperties.transitionDuration;\r\n  }\r\n\r\n  get transitionTimingFunction() {\r\n    return this.carouselProperties.transitionTimingFunction;\r\n  }\r\n\r\n  get cellLength() {\r\n    if (this.images) {\r\n      return this.images.length;\r\n    } else {\r\n      return this.cells.cellLength;\r\n    }\r\n  }\r\n\r\n  get cellLengthInLightDOMMode() {\r\n    if (this.images) {\r\n      let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\r\n      if (cellLength > this.images.length) {\r\n        cellLength = this.images.length;\r\n      }\r\n      return cellLength;\r\n    } else {\r\n      return this.cellLength;\r\n    }\r\n  }\r\n\r\n  get tooFewCells() {\r\n    return this.numberOfVisibleCells > this.cellLength;\r\n  }\r\n\r\n  get disabled() {\r\n    return this.tooFewCells;\r\n  }\r\n\r\n  get margin() {\r\n    return this.carouselProperties.margin;\r\n  }\r\n\r\n  get isLightDOM() {\r\n    return this.carouselProperties.lightDOM || this.carouselProperties.loop;\r\n  }\r\n\r\n  constructor(\r\n    private carouselProperties: CarouselProperties,\r\n    private utils: any,\r\n    private cells: any\r\n  ) {\r\n    this.init();\r\n  }\r\n\r\n  updateProperties(carouselProperties: CarouselProperties) {\r\n    this.carouselProperties = carouselProperties;\r\n  }\r\n\r\n  init() {\r\n    this.setWidth();\r\n  }\r\n\r\n  handleTouchstart() {\r\n    this.startX = this.utils.getStartX(event);\r\n    this.startTime = new Date().getTime();\r\n    this.initialElementPositionX = this.getInitialElementPositionX();\r\n  }\r\n\r\n  handleHorizontalSwipe() {\r\n    if (this.disabled) {\r\n      return;\r\n    }\r\n\r\n    if (!this.isSwipeInProgress) {\r\n      this.startX = this.utils.getStartX(event);\r\n      this.startTime = new Date().getTime();\r\n      this.initialElementPositionX = this.getInitialElementPositionX();\r\n    }\r\n\r\n    this.isSwipeInProgress = true;\r\n    this.moveX = this.utils.getMoveX(event);\r\n    this.move();\r\n  }\r\n\r\n  handleTouchend(simpleProcessing: boolean = false) {\r\n    if (this.disabled) {\r\n      return;\r\n    }\r\n\r\n    /* If touchend was passed to the Slide class */\r\n    if (simpleProcessing) {\r\n      this.isSwipeInProgress = false;\r\n      return;\r\n    }\r\n\r\n    this.isSwipeInProgress = false;\r\n    this.finishMoving();\r\n    this.clearInitialValues();\r\n  }\r\n\r\n  move() {\r\n    let positionX: number = this.getMovePositionX();\r\n    const isPulled = this.detectPulled();\r\n    const direction = this.getDirection();\r\n\r\n    if (isPulled) {\r\n      if (\r\n        (isPulled.edge === 'left' && direction === 'right') ||\r\n        (isPulled.edge === 'right' && direction === 'left')\r\n      ) {\r\n        positionX = this.slowdownOnPull(positionX);\r\n      }\r\n    }\r\n\r\n    this.transformPositionX(positionX, 0);\r\n\r\n    if (this.freeScroll) {\r\n      this.initialPositionX = positionX;\r\n    }\r\n\r\n    if (isPulled) {\r\n      if (isPulled.edge === 'left' && isPulled.overflowX > this.pullLimit) {\r\n        this.initialPositionX = 0;\r\n      }\r\n      if (isPulled.edge === 'right' && isPulled.overflowX > this.pullLimit) {\r\n        this.initialPositionX = positionX;\r\n      }\r\n    }\r\n  }\r\n\r\n  getMovePositionX() {\r\n    const distance = this.getDistance();\r\n    return this.initialElementPositionX - distance;\r\n  }\r\n\r\n  getDistance() {\r\n    return this.startX - this.moveX;\r\n  }\r\n\r\n  /* If the container is pulled out of the left or right border */\r\n  detectPulled() {\r\n    const currentPositionX = this.getCurrentPositionX();\r\n\r\n    if (currentPositionX > 0) {\r\n      return {\r\n        edge: 'left',\r\n        positionX: currentPositionX,\r\n        overflowX: Math.abs(currentPositionX),\r\n      };\r\n    }\r\n\r\n    if (currentPositionX < this.getEndPosition()) {\r\n      return {\r\n        edge: 'right',\r\n        positionX: currentPositionX,\r\n        overflowX: Math.abs(currentPositionX - this.getEndPosition()),\r\n      };\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n\r\n  slowdownOnPull(_positionX: number) {\r\n    let distance = Math.abs(this.getDistance());\r\n    const endPosition = this.getEndPosition();\r\n    const isPulled = this.detectPulled();\r\n\r\n    if (!isPulled) {\r\n      return 0;\r\n    }\r\n\r\n    const decelerationRatio = 3 + isPulled.overflowX / 50;\r\n    let positionX: number = 0;\r\n\r\n    if (isPulled.edge === 'left') {\r\n      if (this.initialElementPositionX < 0) {\r\n        distance = distance - Math.abs(this.initialElementPositionX);\r\n      }\r\n\r\n      const rubberPositionX = distance / decelerationRatio;\r\n      positionX = rubberPositionX;\r\n\r\n      if (this.initialElementPositionX > 0) {\r\n        positionX = this.initialElementPositionX + rubberPositionX;\r\n      }\r\n\r\n      if (positionX > this.pullLimit) {\r\n        positionX = this.pullLimit;\r\n      }\r\n    }\r\n\r\n    if (isPulled.edge === 'right') {\r\n      const rubberPositionX =\r\n        endPosition +\r\n        (this.initialElementPositionX - distance - endPosition) /\r\n          decelerationRatio;\r\n      const containerWidth = this.getWidth();\r\n\r\n      positionX = rubberPositionX;\r\n\r\n      if (\r\n        this.initialElementPositionX < -(containerWidth - this.visibleWidth)\r\n      ) {\r\n        positionX =\r\n          containerWidth -\r\n          this.visibleWidth +\r\n          this.initialElementPositionX +\r\n          rubberPositionX;\r\n      }\r\n\r\n      if (positionX < endPosition - this.pullLimit) {\r\n        positionX = endPosition - this.pullLimit;\r\n      }\r\n    }\r\n\r\n    return positionX;\r\n  }\r\n\r\n  finishMoving() {\r\n    const positionX = this.getMovePositionX();\r\n    let newPositionX: number = 0;\r\n\r\n    if (this.freeScroll) {\r\n      newPositionX = this.getInertia();\r\n    }\r\n\r\n    /* Align container while pulling */\r\n    newPositionX = this.getAlignedPositionOnPull(newPositionX);\r\n\r\n    this.transformPositionX(newPositionX);\r\n    this.setInitialPosition(positionX);\r\n  }\r\n\r\n  /* Returns the new position of the container with inertia */\r\n  getInertia() {\r\n    const distance = this.getDistance();\r\n    const currentTime = new Date().getTime();\r\n    const tapLength = currentTime - this.startTime;\r\n    let inertia = (distance / tapLength) * 100;\r\n\r\n    return this.initialPositionX - inertia;\r\n  }\r\n\r\n  getAlignedPositionOnPull(newPositionX: number) {\r\n    const direction = this.getDirection();\r\n\r\n    if (direction === 'left') {\r\n      let endPosition = this.getEndPosition();\r\n      if (newPositionX < endPosition) {\r\n        return endPosition;\r\n      }\r\n    }\r\n    if (direction === 'right') {\r\n      if (newPositionX > 0) {\r\n        return 0;\r\n      }\r\n    }\r\n\r\n    return newPositionX;\r\n  }\r\n\r\n  getCurrentPositionX() {\r\n    const parentPosition = this.element!.parentElement!.getBoundingClientRect();\r\n    const position = this.element.getBoundingClientRect();\r\n    return position.left - parentPosition.left;\r\n  }\r\n\r\n  getEndPosition() {\r\n    if (this.isLightDOM) {\r\n      let imagesInContainer = this.cells.imageUtils.getImages();\r\n      return -(\r\n        imagesInContainer.length * this.fullCellWidth -\r\n        this.visibleWidth -\r\n        this.margin\r\n      );\r\n    } else {\r\n      const width = this.getWidth();\r\n      const visibleWidth = this.element!.parentElement!.clientWidth;\r\n      return visibleWidth - width;\r\n    }\r\n  }\r\n\r\n  transformPositionX(value: number, duration = this.transitionDuration) {\r\n    if (value === undefined) {\r\n      return;\r\n    }\r\n\r\n    this.element.style.transition =\r\n      'transform ' + duration + 'ms ' + this.transitionTimingFunction;\r\n    this.element.style.transform = 'translateX(' + value + 'px)';\r\n  }\r\n\r\n  getWidth() {\r\n    let width = this.cellLengthInLightDOMMode * this.fullCellWidth;\r\n    let totalImageWidth = this.cellLength * this.fullCellWidth;\r\n\r\n    if (totalImageWidth < width) {\r\n      width = totalImageWidth;\r\n    }\r\n\r\n    return this.isLightDOM ? width : totalImageWidth;\r\n  }\r\n\r\n  setWidth() {\r\n    const width = this.getWidth();\r\n    this.element.style.width = width + 'px';\r\n  }\r\n\r\n  setInitialPosition(position: number) {\r\n    this.initialPositionX = position;\r\n  }\r\n\r\n  getElementPosition() {\r\n    return this.element.getBoundingClientRect();\r\n  }\r\n\r\n  getInitialElementPositionX() {\r\n    const carouselElementPosition =\r\n      this.utils.getCarouselElementPosition()['left'];\r\n    return this.getElementPosition()['left'] - carouselElementPosition;\r\n  }\r\n\r\n  clearInitialValues() {\r\n    this.startX = this.moveX = 0;\r\n  }\r\n\r\n  getDirection() {\r\n    const direction = Math.sign(this.startX - this.moveX);\r\n\r\n    if (direction === -1) {\r\n      return 'right';\r\n    }\r\n    if (direction === 1) {\r\n      return 'left';\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n}\r\n","import { Properties as CarouselProperties } from './interfaces';\r\n\r\nexport interface Properties {\r\n  carouselProperties: CarouselProperties;\r\n}\r\n\r\nexport class Slide {\r\n  slideLength: number = 0;\r\n  isSlideInProgress: boolean = false;\r\n  direction: 'left' | 'right' | undefined;\r\n  counter: number = 0;\r\n  _counter: number = 0;\r\n  distance: number = 0;\r\n  distanceAbs: number = 0;\r\n  visibleWidth!: number;\r\n  isNotClickOnArrow: boolean = false;\r\n  initialPositionX: number = 0;\r\n  currentPositionX: number = 0;\r\n\r\n  /* The slide length has been limited by the limitSlideLength() method */\r\n  isSlideLengthLimited: boolean = false;\r\n\r\n  get fullCellWidth() {\r\n    return this.carouselProperties.cellWidth + this.carouselProperties.margin;\r\n  }\r\n\r\n  get margin() {\r\n    return this.carouselProperties.margin;\r\n  }\r\n\r\n  get minSwipeDistance() {\r\n    return this.carouselProperties.minSwipeDistance;\r\n  }\r\n\r\n  get numberOfVisibleCells() {\r\n    return this.utils.numberOfVisibleCells;\r\n  }\r\n\r\n  get visibleCellsOverflowContainer() {\r\n    return this.utils.visibleCellsOverflowContainer;\r\n  }\r\n\r\n  /* The position to which the container returns after each slide\r\n   * in the light DUM tree mode.\r\n   */\r\n  get fixedContainerPosition() {\r\n    return -(this.overflowCellsLimit * this.fullCellWidth);\r\n  }\r\n\r\n  get overflowCellsLimit() {\r\n    return this.utils.overflowCellsLimit;\r\n  }\r\n\r\n  get images() {\r\n    return this.carouselProperties.images;\r\n  }\r\n\r\n  /* Number of cell elements in the DUM tree */\r\n  get cellLength() {\r\n    if (this.isLightDOM) {\r\n      return this.cells.cellLengthInLightDOMMode;\r\n    } else {\r\n      if (this.images) {\r\n        return this.images.length;\r\n      } else {\r\n        return this.cells.cellLength;\r\n      }\r\n    }\r\n  }\r\n\r\n  get isLightDOM() {\r\n    return this.carouselProperties.lightDOM || this.carouselProperties.loop;\r\n  }\r\n\r\n  constructor(\r\n    private carouselProperties: CarouselProperties,\r\n    private utils: any,\r\n    private cells: any,\r\n    private container: any\r\n  ) {\r\n    this.init();\r\n  }\r\n\r\n  updateProperties(carouselProperties: CarouselProperties) {\r\n    this.carouselProperties = carouselProperties;\r\n    this.setVisibleWidth();\r\n  }\r\n\r\n  init() {\r\n    this.visibleWidth =\r\n      this.carouselProperties.visibleWidth ||\r\n      this.carouselProperties.hostElement.clientWidth;\r\n  }\r\n\r\n  handleTouchstart() {\r\n    /* Touchstart event is not called for arrow */\r\n    this.isNotClickOnArrow = true;\r\n    this.isSlideLengthLimited = false;\r\n\r\n    if (!this.isSlideInProgress) {\r\n      this.initialPositionX = this.container.getCurrentPositionX();\r\n    }\r\n  }\r\n\r\n  handleTouchend() {\r\n    if (!this.isNotClickOnArrow) {\r\n      return;\r\n    }\r\n    this.currentPositionX = this.container.getCurrentPositionX();\r\n    this.distanceAbs = Math.abs(this.initialPositionX - this.currentPositionX);\r\n    this.distance = this.initialPositionX - this.currentPositionX;\r\n    this.direction = this.getDirection();\r\n    this.isNotClickOnArrow = false;\r\n    this.handleSlide();\r\n  }\r\n\r\n  handleTransitionend() {\r\n    this.setCounter();\r\n    this.isSlideInProgress = false;\r\n\r\n    if (this.isLightDOM) {\r\n      this.alignContainerFast();\r\n    }\r\n  }\r\n\r\n  handleSlide(customSlideLength: number | undefined = undefined) {\r\n    let isUsingButton = customSlideLength;\r\n    let newPositionX;\r\n\r\n    if ((isUsingButton && this.isSlideInProgress) || !this.direction) {\r\n      return;\r\n    }\r\n\r\n    /* Custom slide length is used in arrows */\r\n    if (customSlideLength) {\r\n      this.slideLength = this.limitSlideLength(customSlideLength);\r\n\r\n      if (!this.isSlideInProgress) {\r\n        this.initialPositionX = this.container.getCurrentPositionX();\r\n      }\r\n    } else {\r\n      this.slideLength = this.getSlideLength(this.distanceAbs);\r\n    }\r\n\r\n    /* Store intermediate counter value */\r\n    this._counter = this.getPreliminaryCounter();\r\n\r\n    if (this.direction === 'left') {\r\n      if (!customSlideLength) {\r\n        this.slideLength = this.limitSlideLength(\r\n          this.getSlideLength(this.distanceAbs)\r\n        );\r\n      }\r\n\r\n      this._counter = this.getPreliminaryCounter();\r\n      let isSlidesEnd = this.isSlidesEnd(this._counter);\r\n      newPositionX = this.getPositionByIndex(this._counter);\r\n\r\n      if (isSlidesEnd) {\r\n        this._counter = this.counter;\r\n\r\n        newPositionX = this.getPositionByIndex(this.counter);\r\n        this.slideLength = 0;\r\n      }\r\n    }\r\n\r\n    if (this.direction === 'right') {\r\n      if (!customSlideLength) {\r\n        this.slideLength = this.getSlideLength(this.distanceAbs);\r\n      }\r\n\r\n      if (this._counter < 0) {\r\n        this._counter = this.counter;\r\n        this.slideLength = this.counter;\r\n      }\r\n\r\n      newPositionX = this.getPositionByIndex(this.counter - this.slideLength);\r\n    }\r\n\r\n    if (this.container.getCurrentPositionX() !== newPositionX) {\r\n      this.isSlideInProgress = true;\r\n      this.container.transformPositionX(newPositionX);\r\n    }\r\n  }\r\n\r\n  next(length: number = 1) {\r\n    this.direction = 'left';\r\n    this.handleSlide(length);\r\n  }\r\n\r\n  prev(length: number = 1) {\r\n    this.direction = 'right';\r\n    this.handleSlide(length);\r\n  }\r\n\r\n  select(index: number) {\r\n    if (index > this.cellLength - 1) {\r\n      return;\r\n    }\r\n\r\n    if (index > this.counter) {\r\n      let length = index - this.counter;\r\n      this.next(length);\r\n    }\r\n\r\n    if (index < this.counter) {\r\n      let length = this.counter - index;\r\n      this.prev(length);\r\n    }\r\n  }\r\n\r\n  getPreliminaryCounter() {\r\n    if (this.direction === 'left') {\r\n      return this.counter + this.slideLength;\r\n    }\r\n\r\n    if (this.direction === 'right') {\r\n      return this.counter - this.slideLength;\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  /*\r\n   * Limits the length of the slide during calls to the next() and prev()\r\n   * methods if the specified position is outside the cell length\r\n   */\r\n  limitSlideLength(slideLength: number) {\r\n    if (slideLength > 1) {\r\n      for (var i = 0; i < slideLength; i++) {\r\n        let newCounter = this.counter + (slideLength - i);\r\n\r\n        if (!this.isSlidesEnd(newCounter)) {\r\n          slideLength = slideLength - i;\r\n          this.isSlideLengthLimited = i > 0;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return slideLength;\r\n  }\r\n\r\n  /* Offset the container to show the last cell completely */\r\n  getPositionCorrection(counter: number) {\r\n    let correction = 0;\r\n    let isLastSlide = this.isLastSlide(counter);\r\n\r\n    if (this.carouselProperties.loop || this.direction === 'right') {\r\n      return 0;\r\n    }\r\n\r\n    if (this.isSlideLengthLimited || isLastSlide) {\r\n      let cellsWidth = this.cells.cellLengthInLightDOMMode * this.fullCellWidth;\r\n\r\n      if (this.visibleWidth < cellsWidth) {\r\n        correction = -(\r\n          this.numberOfVisibleCells * this.fullCellWidth -\r\n          this.visibleWidth -\r\n          this.margin\r\n        );\r\n      }\r\n\r\n      if (correction >= -this.margin) {\r\n        correction = 0;\r\n      }\r\n    }\r\n\r\n    return correction;\r\n  }\r\n\r\n  getSlideLength(distanceAbs: number) {\r\n    let isLastSlide = this.isLastSlide(this.counter);\r\n\r\n    /* If the last cell does not fit entirely, then the\r\n     * length of the swipe to the left, from the extreme\r\n     * right position, may be shorter than usual.\r\n     */\r\n    if (isLastSlide && this.direction === 'right') {\r\n      distanceAbs = distanceAbs + (this.visibleWidth % this.fullCellWidth);\r\n    }\r\n\r\n    let length = Math.floor(distanceAbs / this.fullCellWidth);\r\n\r\n    if (distanceAbs % this.fullCellWidth >= this.minSwipeDistance) {\r\n      length++;\r\n    }\r\n\r\n    return length;\r\n  }\r\n\r\n  getDistanceAbs() {\r\n    return Math.abs(this.initialPositionX - this.currentPositionX);\r\n  }\r\n\r\n  getDirection() {\r\n    const direction = Math.sign(this.initialPositionX - this.currentPositionX);\r\n\r\n    if (direction === -1) {\r\n      return 'right';\r\n    }\r\n    if (direction === 1) {\r\n      return 'left';\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n\r\n  isSlidesEnd(counter: number) {\r\n    let margin = this.visibleCellsOverflowContainer ? 1 : 0;\r\n    let imageLength = this.images ? this.images.length : this.cells.cellLength;\r\n\r\n    if (this.carouselProperties.loop) {\r\n      return false;\r\n    } else {\r\n      return imageLength - counter + margin < this.numberOfVisibleCells;\r\n    }\r\n  }\r\n\r\n  isLastSlide(counter: number) {\r\n    return this.isSlidesEnd(counter + 1);\r\n  }\r\n\r\n  setCounter() {\r\n    if (this.direction === 'left') {\r\n      this.counter = this.counter + this.slideLength;\r\n    }\r\n\r\n    if (this.direction === 'right') {\r\n      this.counter = this.counter - this.slideLength;\r\n    }\r\n  }\r\n\r\n  getPositionByIndex(_counter: number) {\r\n    let correction = this.getPositionCorrection(\r\n      this.counter + this.slideLength\r\n    );\r\n    let position;\r\n\r\n    if (correction !== 0) {\r\n      correction = correction + this.fullCellWidth;\r\n    }\r\n\r\n    if (this.direction === 'right') {\r\n      correction = 0;\r\n    }\r\n\r\n    if (\r\n      (this.isLightDOM && this.isLightDOMMode(_counter)) ||\r\n      (this.isLightDOM && this.ifLeftDOMModeAtEnd(_counter))\r\n    ) {\r\n      let initialPosition = this.getPositionWithoutCorrection(\r\n        this.initialPositionX\r\n      );\r\n      let counterDifference = _counter - this.counter;\r\n      position =\r\n        initialPosition - (counterDifference * this.fullCellWidth - correction);\r\n    } else {\r\n      position = -(_counter * this.fullCellWidth - correction);\r\n    }\r\n\r\n    position = this.provideSafePosition(position);\r\n\r\n    return position;\r\n  }\r\n\r\n  provideSafePosition(position: number) {\r\n    const endPosition = this.container.getEndPosition();\r\n\r\n    if (this.direction === 'left') {\r\n      if (position > 0) {\r\n        position = 0;\r\n      }\r\n    }\r\n\r\n    if (this.direction === 'right') {\r\n      if (position < endPosition) {\r\n        position = endPosition;\r\n      }\r\n    }\r\n\r\n    return position;\r\n  }\r\n\r\n  getPositionWithoutCorrection(value: number) {\r\n    let remainder = Math.round(value) % this.fullCellWidth;\r\n\r\n    if (remainder !== 0) {\r\n      return value - (this.fullCellWidth + remainder);\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n\r\n  isNextArrowDisabled() {\r\n    return (\r\n      this.isLastSlide(this.counter) ||\r\n      (!this.visibleCellsOverflowContainer &&\r\n        this.cellLength <= this.numberOfVisibleCells) ||\r\n      (this.visibleCellsOverflowContainer &&\r\n        this.cellLength < this.numberOfVisibleCells)\r\n    );\r\n  }\r\n\r\n  isPrevArrowDisabled() {\r\n    return this.counter === 0;\r\n  }\r\n\r\n  alignContainerFast() {\r\n    if (this.isLightDOMMode(this.counter)) {\r\n      let positionX = this.fixedContainerPosition;\r\n      this.container.transformPositionX(positionX, 0);\r\n\r\n      this.cells.setCounter(this.counter);\r\n      this.cells.lineUp();\r\n    } else if (this.ifLeftDOMModeToBeginning(this.counter)) {\r\n      /* If we have already exited the light DOM mode but\r\n       * the cells are still out of place\r\n       */\r\n      if (this.cells.ifSequenceOfCellsIsChanged()) {\r\n        let positionX = -(this.counter * this.fullCellWidth);\r\n        this.container.transformPositionX(positionX, 0);\r\n\r\n        this.cells.setCounter(this.counter);\r\n        this.cells.lineUp();\r\n      }\r\n    } else if (this.ifLeftDOMModeAtEnd(this.counter)) {\r\n      let containerPositionX = this.container.getCurrentPositionX();\r\n      let containerWidth = this.container.getWidth();\r\n      this.visibleWidth;\r\n\r\n      if (\r\n        this.isLastSlide(this.counter) &&\r\n        containerWidth + containerPositionX >= this.visibleWidth\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      let correction = this.getPositionCorrection(this.counter);\r\n\r\n      if (correction !== 0) {\r\n        correction = correction + this.fullCellWidth;\r\n      }\r\n\r\n      if (this.direction === 'right') {\r\n        correction = 0;\r\n      }\r\n\r\n      let positionX = this.fixedContainerPosition + correction;\r\n\r\n      this.container.transformPositionX(positionX, 0);\r\n      this.cells.setCounter(this.counter);\r\n      this.cells.lineUp();\r\n    }\r\n  }\r\n\r\n  isLightDOMMode(counter: number) {\r\n    let flag;\r\n    let remainderOfCells =\r\n      this.images.length - this.overflowCellsLimit - this.numberOfVisibleCells;\r\n\r\n    if (!this.isLightDOM) {\r\n      return false;\r\n    }\r\n\r\n    if (\r\n      counter > this.overflowCellsLimit &&\r\n      this.direction === 'left' &&\r\n      counter <= remainderOfCells\r\n    ) {\r\n      flag = true;\r\n    }\r\n\r\n    if (\r\n      counter >= this.overflowCellsLimit &&\r\n      this.direction === 'right' &&\r\n      counter < remainderOfCells\r\n    ) {\r\n      flag = true;\r\n    }\r\n\r\n    if (\r\n      this.counter > this.overflowCellsLimit &&\r\n      this.direction === 'left' &&\r\n      this.counter <= remainderOfCells\r\n    ) {\r\n      flag = true;\r\n    }\r\n\r\n    if (\r\n      this.counter >= this.overflowCellsLimit &&\r\n      this.direction === 'right' &&\r\n      this.counter < remainderOfCells\r\n    ) {\r\n      flag = true;\r\n    }\r\n\r\n    return flag;\r\n  }\r\n\r\n  ifLeftDOMModeAtEnd(counter: number) {\r\n    let flag;\r\n    let remainderOfCells =\r\n      this.images.length - this.overflowCellsLimit - this.numberOfVisibleCells;\r\n\r\n    if (counter >= remainderOfCells) {\r\n      flag = true;\r\n    }\r\n\r\n    if (this.counter >= remainderOfCells) {\r\n      flag = true;\r\n    }\r\n\r\n    return flag;\r\n  }\r\n\r\n  ifLeftDOMModeToBeginning(counter: number) {\r\n    let flag;\r\n\r\n    if (counter <= this.overflowCellsLimit) {\r\n      flag = true;\r\n    }\r\n\r\n    if (this.counter <= this.overflowCellsLimit) {\r\n      flag = true;\r\n    }\r\n\r\n    return flag;\r\n  }\r\n\r\n  setVisibleWidth() {\r\n    this.visibleWidth =\r\n      this.carouselProperties.visibleWidth ||\r\n      this.carouselProperties.hostElement.clientWidth;\r\n  }\r\n}\r\n","export interface Properties {\r\n  element: HTMLElement;\r\n  listeners?: 'auto' | 'mouse and touch';\r\n  touchListeners?: any;\r\n  mouseListeners?: any;\r\n  otherListeners?: any;\r\n  resize?: boolean;\r\n}\r\n\r\nexport type EventType =\r\n  | undefined\r\n  | 'touchend'\r\n  | 'pan'\r\n  | 'pinch'\r\n  | 'horizontal-swipe'\r\n  | 'vertical-swipe'\r\n  | 'tap'\r\n  | 'longtap';\r\nexport type TouchHandler =\r\n  | 'handleTouchstart'\r\n  | 'handleTouchmove'\r\n  | 'handleTouchend';\r\nexport type MouseHandler =\r\n  | 'handleMousedown'\r\n  | 'handleMousemove'\r\n  | 'handleMouseup';\r\n\r\nexport class Touches {\r\n  properties: Properties;\r\n  element: HTMLElement;\r\n  elementPosition: ClientRect;\r\n  eventType: EventType = undefined;\r\n  handlers: any = {};\r\n  startX = 0;\r\n  startY = 0;\r\n  lastTap = 0;\r\n  doubleTapTimeout: any;\r\n  doubleTapMinTimeout = 300;\r\n  tapMinTimeout = 200;\r\n  touchstartTime = 0;\r\n  i: number = 0;\r\n  isMousedown = false;\r\n\r\n  _touchListeners: any = {\r\n    touchstart: 'handleTouchstart',\r\n    touchmove: 'handleTouchmove',\r\n    touchend: 'handleTouchend',\r\n  };\r\n  _mouseListeners: any = {\r\n    mousedown: 'handleMousedown',\r\n    mousemove: 'handleMousemove',\r\n    mouseup: 'handleMouseup',\r\n    wheel: 'handleWheel',\r\n  };\r\n  _otherListeners: any = {\r\n    resize: 'handleResize',\r\n  };\r\n\r\n  get touchListeners() {\r\n    return this.properties.touchListeners\r\n      ? this.properties.touchListeners\r\n      : this._touchListeners;\r\n  }\r\n\r\n  get mouseListeners() {\r\n    return this.properties.mouseListeners\r\n      ? this.properties.mouseListeners\r\n      : this._mouseListeners;\r\n  }\r\n\r\n  get otherListeners() {\r\n    return this.properties.otherListeners\r\n      ? this.properties.otherListeners\r\n      : this._otherListeners;\r\n  }\r\n\r\n  constructor(properties: Properties) {\r\n    this.properties = properties;\r\n    this.element = this.properties.element;\r\n    this.elementPosition = this.getElementPosition();\r\n\r\n    this.toggleEventListeners('addEventListener');\r\n  }\r\n\r\n  destroy() {\r\n    this.toggleEventListeners('removeEventListener');\r\n  }\r\n\r\n  toggleEventListeners(action: 'addEventListener' | 'removeEventListener') {\r\n    let listeners;\r\n\r\n    if (this.properties.listeners === 'mouse and touch') {\r\n      listeners = Object.assign(this.touchListeners, this.mouseListeners);\r\n    } else {\r\n      listeners = this.detectTouchScreen()\r\n        ? this.touchListeners\r\n        : this.mouseListeners;\r\n    }\r\n\r\n    if (this.properties.resize) {\r\n      listeners = Object.assign(listeners, this.otherListeners);\r\n    }\r\n\r\n    for (var listener in listeners) {\r\n      const handler: MouseHandler = listeners[listener];\r\n\r\n      // Window\r\n      if (listener === 'resize') {\r\n        if (action === 'addEventListener') {\r\n          window.addEventListener(listener, this[handler], false);\r\n        }\r\n        if (action === 'removeEventListener') {\r\n          window.removeEventListener(listener, this[handler], false);\r\n        }\r\n        // Document\r\n      } else if (listener === 'mouseup' || listener === 'mousemove') {\r\n        if (action === 'addEventListener') {\r\n          document.addEventListener(listener, this[handler], {\r\n            passive: false,\r\n          });\r\n        }\r\n        if (action === 'removeEventListener') {\r\n          document.removeEventListener(listener, this[handler], false);\r\n        }\r\n        // Element\r\n      } else {\r\n        if (action === 'addEventListener') {\r\n          this.element.addEventListener(listener, this[handler], false);\r\n        }\r\n        if (action === 'removeEventListener') {\r\n          this.element.removeEventListener(listener, this[handler], false);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  addEventListeners(listener: string) {\r\n    const handler: MouseHandler = this._mouseListeners[listener];\r\n    window.addEventListener(listener, this[handler], false);\r\n  }\r\n\r\n  removeEventListeners(listener: string) {\r\n    const handler: MouseHandler = this._mouseListeners[listener];\r\n    window.removeEventListener(listener, this[handler], false);\r\n  }\r\n\r\n  /*\r\n   * Listeners\r\n   */\r\n\r\n  /* Touchstart */\r\n\r\n  handleTouchstart = (event: any) => {\r\n    this.elementPosition = this.getElementPosition();\r\n    this.touchstartTime = new Date().getTime();\r\n\r\n    if (this.eventType === undefined) {\r\n      this.getTouchstartPosition(event);\r\n    }\r\n\r\n    this.runHandler('touchstart', event);\r\n  };\r\n\r\n  /* Touchmove */\r\n\r\n  handleTouchmove = (event: any) => {\r\n    const touches = event.touches;\r\n\r\n    // Pan\r\n    if (this.detectPan(touches)) {\r\n      this.runHandler('pan', event);\r\n    }\r\n\r\n    // Pinch\r\n    if (this.detectPinch(event)) {\r\n      this.runHandler('pinch', event);\r\n    }\r\n\r\n    // Linear swipe\r\n    switch (this.detectLinearSwipe(event)) {\r\n      case 'horizontal-swipe':\r\n        event.swipeType = 'horizontal-swipe';\r\n        this.runHandler('horizontal-swipe', event);\r\n        break;\r\n      case 'vertical-swipe':\r\n        event.swipeType = 'vertical-swipe';\r\n        this.runHandler('vertical-swipe', event);\r\n        break;\r\n    }\r\n\r\n    // Linear swipe\r\n    if (\r\n      this.detectLinearSwipe(event) ||\r\n      this.eventType === 'horizontal-swipe' ||\r\n      this.eventType === 'vertical-swipe'\r\n    ) {\r\n      this.handleLinearSwipe(event);\r\n    }\r\n  };\r\n\r\n  handleLinearSwipe(event: any) {\r\n    //event.preventDefault();\r\n\r\n    this.i++;\r\n\r\n    if (this.i > 3) {\r\n      this.eventType = this.getLinearSwipeType(event);\r\n    }\r\n\r\n    if (this.eventType === 'horizontal-swipe') {\r\n      this.runHandler('horizontal-swipe', event);\r\n    }\r\n\r\n    if (this.eventType === 'vertical-swipe') {\r\n      this.runHandler('vertical-swipe', event);\r\n    }\r\n  }\r\n\r\n  /* Touchend */\r\n\r\n  handleTouchend = (event: any) => {\r\n    const touches = event.touches;\r\n\r\n    // Double Tap\r\n    if (this.detectDoubleTap()) {\r\n      this.runHandler('double-tap', event);\r\n    }\r\n\r\n    // Tap\r\n    this.detectTap();\r\n\r\n    this.runHandler('touchend', event);\r\n    this.eventType = 'touchend';\r\n\r\n    if (touches && touches.length === 0) {\r\n      this.eventType = undefined;\r\n      this.i = 0;\r\n    }\r\n  };\r\n\r\n  /* Mousedown */\r\n\r\n  handleMousedown = (event: any) => {\r\n    this.isMousedown = true;\r\n    this.elementPosition = this.getElementPosition();\r\n    this.touchstartTime = new Date().getTime();\r\n\r\n    if (this.eventType === undefined) {\r\n      this.getMousedownPosition(event);\r\n    }\r\n\r\n    this.runHandler('mousedown', event);\r\n  };\r\n\r\n  /* Mousemove */\r\n\r\n  handleMousemove = (event: any) => {\r\n    //event.preventDefault();\r\n\r\n    if (!this.isMousedown) {\r\n      return;\r\n    }\r\n\r\n    // Pan\r\n    this.runHandler('pan', event);\r\n\r\n    // Linear swipe\r\n    switch (this.detectLinearSwipe(event)) {\r\n      case 'horizontal-swipe':\r\n        event.swipeType = 'horizontal-swipe';\r\n        this.runHandler('horizontal-swipe', event);\r\n        break;\r\n      case 'vertical-swipe':\r\n        event.swipeType = 'vertical-swipe';\r\n        this.runHandler('vertical-swipe', event);\r\n        break;\r\n    }\r\n\r\n    // Linear swipe\r\n    if (\r\n      this.detectLinearSwipe(event) ||\r\n      this.eventType === 'horizontal-swipe' ||\r\n      this.eventType === 'vertical-swipe'\r\n    ) {\r\n      this.handleLinearSwipe(event);\r\n    }\r\n  };\r\n\r\n  /* Mouseup */\r\n\r\n  handleMouseup = (event: any) => {\r\n    // Tap\r\n    this.detectTap();\r\n\r\n    this.isMousedown = false;\r\n    this.runHandler('mouseup', event);\r\n    this.eventType = undefined;\r\n    this.i = 0;\r\n  };\r\n\r\n  /* Wheel */\r\n\r\n  handleWheel = (event: any) => {\r\n    this.runHandler('wheel', event);\r\n  };\r\n\r\n  /* Resize */\r\n\r\n  handleResize = (event: any) => {\r\n    this.runHandler('resize', event);\r\n  };\r\n\r\n  runHandler(eventName: any, response: any) {\r\n    if (this.handlers[eventName]) {\r\n      this.handlers[eventName](response);\r\n    }\r\n  }\r\n\r\n  /*\r\n   * Detection\r\n   */\r\n\r\n  detectPan(touches: any) {\r\n    return (\r\n      (touches.length === 1 && !this.eventType) || this.eventType === 'pan'\r\n    );\r\n  }\r\n\r\n  detectDoubleTap() {\r\n    if (this.eventType != undefined) {\r\n      return;\r\n    }\r\n\r\n    const currentTime = new Date().getTime();\r\n    const tapLength = currentTime - this.lastTap;\r\n\r\n    clearTimeout(this.doubleTapTimeout);\r\n\r\n    if (tapLength < this.doubleTapMinTimeout && tapLength > 0) {\r\n      return true;\r\n    } else {\r\n      this.doubleTapTimeout = setTimeout(() => {\r\n        clearTimeout(this.doubleTapTimeout);\r\n      }, this.doubleTapMinTimeout);\r\n    }\r\n    this.lastTap = currentTime;\r\n\r\n    return undefined;\r\n  }\r\n\r\n  detectTap(): void {\r\n    if (this.eventType != undefined) {\r\n      return;\r\n    }\r\n\r\n    const currentTime = new Date().getTime();\r\n    const tapLength = currentTime - this.touchstartTime;\r\n\r\n    if (tapLength > 0) {\r\n      if (tapLength < this.tapMinTimeout) {\r\n        this.runHandler('tap', event);\r\n      } else {\r\n        this.runHandler('longtap', event);\r\n      }\r\n    }\r\n  }\r\n\r\n  detectPinch(event: any) {\r\n    const touches = event.touches;\r\n    return (\r\n      (touches.length === 2 && this.eventType === undefined) ||\r\n      this.eventType === 'pinch'\r\n    );\r\n  }\r\n\r\n  detectLinearSwipe(event: any) {\r\n    const touches = event.touches;\r\n\r\n    if (touches) {\r\n      if (\r\n        (touches.length === 1 && !this.eventType) ||\r\n        this.eventType === 'horizontal-swipe' ||\r\n        this.eventType === 'vertical-swipe'\r\n      ) {\r\n        return this.getLinearSwipeType(event);\r\n      }\r\n    } else {\r\n      if (\r\n        !this.eventType ||\r\n        this.eventType === 'horizontal-swipe' ||\r\n        this.eventType === 'vertical-swipe'\r\n      ) {\r\n        return this.getLinearSwipeType(event);\r\n      }\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n\r\n  getLinearSwipeType(event: any) {\r\n    if (\r\n      this.eventType !== 'horizontal-swipe' &&\r\n      this.eventType !== 'vertical-swipe'\r\n    ) {\r\n      const movementX = Math.abs(this.moveLeft(0, event) - this.startX);\r\n      const movementY = Math.abs(this.moveTop(0, event) - this.startY);\r\n\r\n      if (movementY * 3 > movementX) {\r\n        return 'vertical-swipe';\r\n      } else {\r\n        return 'horizontal-swipe';\r\n      }\r\n    } else {\r\n      return this.eventType;\r\n    }\r\n  }\r\n\r\n  getElementPosition() {\r\n    return this.element.getBoundingClientRect();\r\n  }\r\n\r\n  getTouchstartPosition(event: any) {\r\n    this.startX = event.touches[0].clientX - this.elementPosition.left;\r\n    this.startY = event.touches[0].clientY - this.elementPosition.top;\r\n  }\r\n\r\n  getMousedownPosition(event: any) {\r\n    this.startX = event.clientX - this.elementPosition.left;\r\n    this.startY = event.clientY - this.elementPosition.top;\r\n  }\r\n\r\n  moveLeft(index: any, event: any) {\r\n    const touches = event.touches;\r\n\r\n    if (touches) {\r\n      return touches[index].clientX - this.elementPosition.left;\r\n    } else {\r\n      return event.clientX - this.elementPosition.left;\r\n    }\r\n  }\r\n\r\n  moveTop(index: any, event: any) {\r\n    const touches = event.touches;\r\n\r\n    if (touches) {\r\n      return touches[index].clientY - this.elementPosition.top;\r\n    } else {\r\n      return event.clientY - this.elementPosition.top;\r\n    }\r\n  }\r\n\r\n  detectTouchScreen() {\r\n    var prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\r\n    var mq = function (query: any) {\r\n      return window.matchMedia(query).matches;\r\n    };\r\n\r\n    if ('ontouchstart' in window) {\r\n      return true;\r\n    }\r\n\r\n    // include the 'heartz' as a way to have a non matching MQ to help terminate the join\r\n    // https://git.io/vznFH\r\n    var query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join(\r\n      ''\r\n    );\r\n    return mq(query);\r\n  }\r\n\r\n  /* Public properties and methods */\r\n  on(event: EventType, handler: Function) {\r\n    if (event) {\r\n      this.handlers[event] = handler;\r\n    }\r\n  }\r\n}\r\n","import { Properties as CarouselProperties } from './interfaces';\r\n\r\nexport class Utils {\r\n  get images() {\r\n    return this.carouselProperties.images;\r\n  }\r\n\r\n  get margin() {\r\n    return this.carouselProperties.margin;\r\n  }\r\n\r\n  get overflowCellsLimit() {\r\n    if (this.images && this.isImagesLessCellLimit) {\r\n      let overflowCellsLimit = Math.floor(\r\n        (this.images.length - this.numberOfVisibleCells) / 2\r\n      );\r\n\r\n      if (overflowCellsLimit < 0) {\r\n        overflowCellsLimit = 0;\r\n      }\r\n\r\n      return overflowCellsLimit;\r\n    } else {\r\n      return this.carouselProperties.overflowCellsLimit;\r\n    }\r\n  }\r\n\r\n  get isImagesLessCellLimit() {\r\n    return (\r\n      this.carouselProperties.overflowCellsLimit * 2 +\r\n        this.numberOfVisibleCells >\r\n      this.images.length\r\n    );\r\n  }\r\n\r\n  get numberOfVisibleCells() {\r\n    return Math.ceil(this.visibleWidth / this.fullCellWidth);\r\n  }\r\n\r\n  get visibleCellsOverflowContainer() {\r\n    return (\r\n      this.numberOfVisibleCells * this.fullCellWidth - this.margin >\r\n      this.visibleWidth\r\n    );\r\n  }\r\n\r\n  get fullCellWidth() {\r\n    return this.carouselProperties.cellWidth + this.carouselProperties.margin;\r\n  }\r\n\r\n  get visibleWidth() {\r\n    return (\r\n      this.carouselProperties.visibleWidth ||\r\n      this.carouselProperties!.cellsElement!.parentElement!.clientWidth\r\n    );\r\n  }\r\n\r\n  constructor(private carouselProperties: CarouselProperties) {}\r\n\r\n  updateProperties(carouselProperties: CarouselProperties) {\r\n    this.carouselProperties = carouselProperties;\r\n  }\r\n\r\n  getStartX(event: any) {\r\n    const touches = event.touches;\r\n    const carouselElementPosition = this.getCarouselElementPosition()['left'];\r\n    let startX;\r\n\r\n    if (touches) {\r\n      startX = touches[0].clientX - carouselElementPosition;\r\n    } else {\r\n      startX = event.clientX - carouselElementPosition;\r\n    }\r\n\r\n    return startX;\r\n  }\r\n\r\n  getMoveX(event: any) {\r\n    const touches = event.touches;\r\n    const carouselElementPositionX = this.getCarouselElementPosition()['left'];\r\n\r\n    if (touches) {\r\n      return touches[0].clientX - carouselElementPositionX;\r\n    } else {\r\n      return event.clientX - carouselElementPositionX;\r\n    }\r\n  }\r\n\r\n  getCarouselElementPosition() {\r\n    return this.carouselProperties.hostElement.getBoundingClientRect();\r\n  }\r\n}\r\n","import { Component, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'student-confirm-dialog',\r\n  templateUrl: './confirm-dialog.component.html',\r\n  styleUrls: ['./confirm-dialog.component.scss'],\r\n})\r\nclass ConfirmDialogComponent {\r\n  constructor(\r\n    public dialogRef: MatDialogRef<ConfirmDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: ConfirmDialogModel\r\n  ) {\r\n    // Update view with given values\r\n    this.title = data.title;\r\n    this.message = data.message;\r\n  }\r\n\r\n  title: string;\r\n  message: string;\r\n\r\n  onConfirm(): void {\r\n    // Close the dialog, return true\r\n    this.dialogRef.close(true);\r\n  }\r\n\r\n  onDismiss(): void {\r\n    // Close the dialog, return false\r\n    this.dialogRef.close(false);\r\n  }\r\n}\r\n\r\n/**\r\n * Class to represent confirm dialog model.\r\n *\r\n * It has been kept here to keep it as part of shared component.\r\n */\r\nclass ConfirmDialogModel {\r\n  constructor(public title: string, public message: string) { }\r\n}\r\n\r\nexport { ConfirmDialogComponent, ConfirmDialogModel };\r\n\r\n","<h1 mat-dialog-title>\r\n  {{ title }}\r\n</h1>\r\n\r\n<div mat-dialog-content>\r\n  <p>{{ message }}</p>\r\n</div>\r\n\r\n<div mat-dialog-actions class=\"flex\">\r\n  <button class=\"btn secondary\" (click)=\"onDismiss()\">Hủy</button>\r\n  <span class=\"flex-1\"></span>\r\n  <button class=\"btn primary\" (click)=\"onConfirm()\">Đồng ý</button>\r\n</div>\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'student-input-radio',\r\n  templateUrl: './input-radio.component.html',\r\n  styleUrls: ['./input-radio.component.scss'],\r\n})\r\nexport class InputRadioComponent {\r\n  @Input() name!: string;\r\n  @Input() value!: string;\r\n  @Input() label!: string;\r\n  @Input() disabled!: boolean;\r\n  @Input() checked!: boolean;\r\n  @Input() color!: string;\r\n}\r\n","<div class=\"flex items-center\">\r\n  <label class=\"radio flat\">\r\n    <input [id]=\"name + value\" type=\"radio\" [name]=\"name\" [disabled]=\"disabled\" [checked]=\"checked\" />\r\n    <span [innerHTML]=\"label\"></span>\r\n  </label>\r\n  <!-- <input [id]=\"name + value\" type=\"radio\" [name]=\"name\" class=\"hidden\" [disabled]=\"disabled\" [checked]=\"checked\" />\r\n  <label [for]=\"name + value\" class=\"flex cursor-pointer px-1\">\r\n    <span\r\n      class=\"w-5 h-5 inline-block mr-2 rounded-full cursor-pointer border border-blueGrey-400 flex-shrink-0 lg:mt-1\"\r\n      [ngClass]=\"{\r\n        '!bg-darkRed': color === 'red',\r\n        '!bg-darkEmerald': color === 'green',\r\n        '!bg-primaryBlue': color === 'blue'\r\n      }\"\r\n    ></span>\r\n    <p\r\n      class=\"mb-2\"\r\n      [ngClass]=\"{\r\n        '!text-darkRed': color === 'red',\r\n        '!text-darkEmerald': color === 'green',\r\n        '!text-primaryBlue': color === 'blue'\r\n      }\"\r\n      [innerHTML]=\"label\"\r\n    ></p>\r\n  </label> -->\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { AnimationOptions, LottieModule } from 'ngx-lottie';\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [LottieModule],\r\n  selector: 'student-loading',\r\n  templateUrl: './loading.component.html',\r\n  styleUrls: ['./loading.component.scss'],\r\n})\r\nexport class LoadingComponent {\r\n  options: AnimationOptions = {\r\n    \"path\": \"./assets/animations/loading.json\",\r\n    \"loop\": true,\r\n    \"autoplay\": true\r\n  };\r\n}\r\n","<div class=\"loading-wrapper\">\n  <div class=\"loading\">\n    <ng-lottie [options]=\"options\" width=\"200px\" height=\"200px\"></ng-lottie>\n  </div>\n</div>\n","import { Component, HostBinding } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'student-program-card',\r\n  templateUrl: './program-card.component.html',\r\n  styleUrls: ['./program-card.component.scss'],\r\n})\r\nexport class SubjectCardComponent {\r\n  @HostBinding('class') class = 'h-full';\r\n}\r\n","<div class=\"border border-r-2 bg-primaryBlue\">\r\n  <div class=\"w-200px\"><img src=\"\" alt=\"Hình\" /></div>\r\n  <div></div>\r\n</div>\r\n","import { Component, Input } from '@angular/core';\r\nimport { IProgress } from '@share-utils/event';\r\n\r\n@Component({\r\n  selector: 'student-questions-progress',\r\n  templateUrl: './questions-progress.component.html',\r\n  styleUrls: ['./questions-progress.component.scss'],\r\n})\r\nexport class QuestionsProgressComponent {\r\n  @Input() progress = new Progress();\r\n}\r\n\r\nexport class Progress implements IProgress {\r\n  value = 0;\r\n  label = '';\r\n  total = 1;\r\n\r\n  static from(value: number, total: number) {\r\n    const result = new Progress();\r\n    result.value = value;\r\n    let valueLength = value.toString().length;\r\n    let valuePrefix = '';\r\n    while (total.toString().length > valueLength) {\r\n      valuePrefix += '0';\r\n      valueLength++;\r\n    }\r\n\r\n    result.label = `${valuePrefix}${value}/${total}`;\r\n    result.total = total;\r\n    return result;\r\n  }\r\n\r\n  next() {\r\n    this.value++;\r\n    let valueLength = this.value.toString().length;\r\n    let valuePrefix = '';\r\n    while (this.total.toString().length > valueLength) {\r\n      valuePrefix += '0';\r\n      valueLength++;\r\n    }\r\n    this.label = `${valuePrefix}${this.value}/${this.total}`;\r\n  }\r\n}\r\n","<span>{{ progress.label }}&nbsp;</span>\r\n<div class=\"progress-container\">\r\n  <div class=\"progressing\" [ngStyle]=\"{width: (progress.value / progress.total) * 100 + '%'}\"></div>\r\n</div>\r\n","import { Component, HostBinding, Input } from '@angular/core';\r\nimport { TestResult } from '@share-utils/data';\r\n\r\n@Component({\r\n  selector: 'student-score-bar',\r\n  templateUrl: './score-bar.component.html',\r\n  styleUrls: ['./score-bar.component.scss'],\r\n})\r\nexport class ScoreBarComponent {\r\n  @HostBinding('class') class = 'w-full flex gap-2';\r\n\r\n  @Input() totalTiles = 5;\r\n  @Input() testResult!: TestResult;\r\n\r\n  getTotalColorTiles() {\r\n    // return Math.round(this.testResult.result.rightAnswers / this.testResult.result.totalQuestions * this.totalTiles);\r\n  }\r\n}\r\n","import { Component, EventEmitter, HostListener, Input, OnDestroy, OnInit, Output } from '@angular/core';\r\n// import { Submission } from '@infrastructure/test/submission';\r\n// import {\r\n//   answerPrefixes,\r\n//   TestContent\r\n// } from '@infrastructure/test/test-content';\r\nimport { Answer, Submission, TestContent, answerPrefixes } from '@share-utils/data';\r\nimport { Subscription } from 'rxjs';\r\nimport { Progress } from '../questions-progress/questions-progress.component';\r\n\r\n@Component({\r\n  selector: 'student-test-content',\r\n  templateUrl: './test-content.component.html',\r\n  styleUrls: ['./test-content.component.scss'],\r\n})\r\nexport class TestContentComponent implements OnInit, OnDestroy {\r\n  _addedList: number[] = [];\r\n  answerPrefixes!: string[];\r\n  conponentId = '';\r\n  subscription!: Subscription;\r\n\r\n  @Input() currentIndex!: number;\r\n  @Output() currentIndexEvent = new EventEmitter<number>();\r\n\r\n  progress = new Progress();\r\n  @Output() progressEvent = new EventEmitter<Progress>();\r\n\r\n  @Input() content!: TestContent;\r\n  @Output() contentEvent = new EventEmitter<TestContent>();\r\n\r\n  @Input() submission!: Submission;\r\n  @Output() submissionEvent = new EventEmitter<Submission>();\r\n\r\n  @Input() isActive!: boolean;\r\n\r\n  @Output() completeCallback = new EventEmitter<void>();\r\n\r\n  @HostListener('window:keyup', ['$event'])\r\n  keyEvent(e: KeyboardEvent) {\r\n    if (!this.isActive) return;\r\n\r\n    const question = this.content.questions[this.currentIndex];\r\n    const answers = question.answers;\r\n    const currentSubmitDataLength = Object.keys(this.submission.submitData).length;\r\n    if (['1', '2', '3', '4'].includes(e.key)) {\r\n      // this.submission.submitData[question.id] = answers[parseInt(e.key) - 1].id;\r\n      this.updateSubmitData(question.id, answers[parseInt(e.key) - 1]);\r\n\r\n      if (currentSubmitDataLength != Object.keys(this.submission.submitData).length) {\r\n        // this.progress.next();\r\n        this.updateProgress(this.progress.value + 1);\r\n      }\r\n    }\r\n    if (e.key == ' ') {\r\n      if (currentSubmitDataLength == this.content.questions.length) {\r\n        this.completeCallback.emit();\r\n      } else {\r\n        if (this.progress.value > this.currentIndex) {\r\n          this.currentIndex++;\r\n          this.currentIndexEvent.emit(this.currentIndex);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.answerPrefixes = answerPrefixes;\r\n    this.conponentId = new Date().getTime().toString();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscription != undefined) this.subscription.unsubscribe();\r\n  }\r\n\r\n  updateProgress(nextProgressValue: number) {\r\n    if (!this._addedList.includes(nextProgressValue)) {\r\n      this._addedList.push(nextProgressValue);\r\n      const newProgress = Progress.from(this.progress.value + 1, this.content.questions.length);\r\n      this.progress = newProgress;\r\n      this.progressEvent.emit(this.progress);\r\n    }\r\n  }\r\n\r\n  getNextProgress(index: number) {\r\n    // return Math.round(((index + 1) / this.content.questions.length) * 100);\r\n    return index + 1;\r\n  }\r\n\r\n  updateSubmitData(questionId: string, answer: Answer) {\r\n    this.submission.submitData[questionId] = answer;\r\n    this.submissionEvent.emit(this.submission);\r\n  }\r\n}\r\n","<div *ngIf=\"content\">\r\n  <div class=\"mt-2 relative\">\r\n    <div\r\n      *ngFor=\"let question of content.questions; let qi = index\"\r\n      class=\"mb-4 absolute\"\r\n      [ngClass]=\"{'block ': qi === currentIndex, 'hidden ': qi !== currentIndex}\"\r\n    >\r\n      <p><span [innerHTML]=\"question.content\"></span></p>\r\n      <div class=\"mt-2 flex flex-col gap-1\">\r\n        <student-input-radio\r\n          [style.display]=\"ai > 3 ? 'none' : 'block'\"\r\n          *ngFor=\"let answer of question.answers | orderBy : 'order'; let ai = index\"\r\n          (change)=\"updateProgress(getNextProgress(qi)); updateSubmitData(question.id, answer.id)\"\r\n          [value]=\"answer.id\"\r\n          [label]=\"answerPrefixes[ai] + answer.content\"\r\n          [name]=\"'q-' + question.id + '-' + conponentId\"\r\n          [checked]=\"submission.submitData[question.id] === answer.id\"\r\n        ></student-input-radio>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectionStrategy, Component, HostBinding, Input, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'student-test-review',\r\n  templateUrl: './test-review.component.html',\r\n  styleUrls: ['./test-review.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class TestReviewComponent implements OnInit {\r\n  @HostBinding('class') class = 'flex flex-col gap-4';\r\n\r\n  @Input() reviewRenderObject!: any[];\r\n\r\n  ngOnInit(): void {\r\n    this.reviewRenderObject = this.reviewRenderObject.map(review => {\r\n      review.isOpen = false;\r\n      return review;\r\n    });\r\n  }\r\n}\r\n","<h4>Kiến thức cần xem lại</h4>\r\n<div *ngFor=\"let review of reviewRenderObject\">\r\n  <div class=\"flex justify-between items-center cursor-pointer\" (click)=\"review.isOpen = !review.isOpen\">\r\n    <div>{{ review.topic }}</div>\r\n    <button\r\n      class=\"flex transition-transform text-orange\"\r\n      [style.transform]=\"review.isOpen ? 'rotateX(180deg)' : 'rotateX(0deg)'\"\r\n    >\r\n      <i class=\"icon-ArrowDown\"></i>\r\n    </button>\r\n  </div>\r\n  <mat-divider></mat-divider>\r\n  <div class=\"flex flex-col gap-4 transition-all overflow-hidden mt-2\" [style.height]=\"review.isOpen ? 'auto' : 0\">\r\n    <div class=\"flex flex-col gap-2\" *ngFor=\"let question of review.questions; let qi = index\">\r\n      <p class=\"h7\">Câu {{ qi + 1 }}</p>\r\n      <span [innerHTML]=\"question.content\"></span>\r\n      <div class=\"flex bg-red-1 rounded-lg p-2 gap-2\">\r\n        <i class=\"icon-Error text-red-0\"></i>\r\n        <span class=\"flex-1\">{{ question.selected }}</span>\r\n      </div>\r\n      <div class=\"flex bg-emerald-3 rounded-lg p-2 gap-2\">\r\n        <i class=\"icon-Check text-darkEmerald\"></i>\r\n        <span class=\"flex-1\">{{ question.right }}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, ElementRef, OnInit, Renderer2, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport { NotificationService } from '@infrastructure/notification/notification.service';\r\nimport { UserService } from '@infrastructure/user/user.service';\r\nimport { AppPaths } from '@presentation/routes';\r\nimport { filter } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'student-top-menu',\r\n  templateUrl: './top-menu.component.html',\r\n  styleUrls: ['./top-menu.component.scss'],\r\n})\r\nexport class TopMenuComponent implements OnInit {\r\n  showSubmenu = false;\r\n  paths: AppPaths;\r\n  show = true;\r\n  constructor(\r\n    private userService: UserService,\r\n    private renderer: Renderer2,\r\n    navService: NavigationService,\r\n    private route: ActivatedRoute,\r\n    router: Router,\r\n    private notificationService: NotificationService\r\n  ) {\r\n    /**\r\n     * This events get called by all clicks on the page\r\n     */\r\n    this.paths = navService.paths;\r\n    this.renderer.listen('window', 'click', (e: Event) => {\r\n      /**\r\n       * Only run when toggleButton is not clicked\r\n       * If we don't check this, all clicks (even on the toggle button) gets into this\r\n       * section which in the result we might never see the menu open!\r\n       * And the menu itself is checked here, and it's where we check just outside of\r\n       * the menu and button the condition abbove must close the menu\r\n       */\r\n      if (\r\n        this.toggleButton != undefined &&\r\n        e.target !== this.toggleButton.nativeElement &&\r\n        e.target !== this.menu.nativeElement\r\n      ) {\r\n        this.showSubmenu = false;\r\n      }\r\n    });\r\n\r\n    router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(event => {\r\n      if (\r\n        (event as NavigationEnd).urlAfterRedirects.indexOf('/sign-in') == 0 ||\r\n        (event as NavigationEnd).urlAfterRedirects.indexOf('/sign-up') == 0 ||\r\n        (event as NavigationEnd).urlAfterRedirects.indexOf('/share-mocktest') == 0\r\n      ) {\r\n        this.show = false;\r\n      } else {\r\n        this.show = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * This is the toogle button elemenbt, look at HTML and see its defination\r\n   */\r\n  @ViewChild('toggleButton') toggleButton!: ElementRef;\r\n  @ViewChild('menu') menu!: ElementRef;\r\n\r\n  username = '';\r\n\r\n  async ngOnInit(): Promise<void> {\r\n    this.username = await this.userService.getUsername();\r\n  }\r\n}\r\n","<div *ngIf=\"show\" class=\"flex h-14 text-base bg-white\">\r\n  <ul class=\"flex items-center px-11 gap-12\">\r\n    <li>\r\n      <a\r\n        class=\"menu-item\"\r\n        [routerLink]=\"'/'\"\r\n        routerLinkActive=\"active\"\r\n        [routerLinkActiveOptions]=\"{ exact: true }\"\r\n        (isActiveChange)=\"(this.ngOnInit)\"\r\n      >\r\n        <img src=\"/assets/images/Home.svg\" alt=\"\" />\r\n        <span>Trang chủ</span>\r\n      </a>\r\n    </li>\r\n    <!-- <li>\r\n      <a\r\n        [routerLink]=\"'/'\"\r\n        routerLinkActive=\"active\"\r\n        [routerLinkActiveOptions]=\"{exact: true}\"\r\n        class=\"flex gap-3 items-center font-extrabold text-blueGrey-400\"\r\n        (isActiveChange)=\"this.ngOnInit\"\r\n        ><span class=\"h-8\"\r\n          ><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\">\r\n            <path\r\n              d=\"M29.8001 1.33334H4.66675V30.6667H29.8001V1.33334Z\"\r\n              stroke=\"#94A3B8\"\r\n              stroke-width=\"2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n            <path\r\n              d=\"M25.2668 1.33334V30.6667\"\r\n              stroke=\"#94A3B8\"\r\n              stroke-width=\"2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n            <path\r\n              d=\"M20.2668 1.33334V30.6667\"\r\n              stroke=\"#94A3B8\"\r\n              stroke-width=\"2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n            <path\r\n              d=\"M2.66675 11.6534H6.66675\"\r\n              stroke=\"#94A3B8\"\r\n              stroke-width=\"2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n            <path\r\n              d=\"M2.66675 4.98666H6.66675\"\r\n              stroke=\"#94A3B8\"\r\n              stroke-width=\"2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n            <path\r\n              d=\"M2.66675 18.32H6.66675\"\r\n              stroke=\"#94A3B8\"\r\n              stroke-width=\"2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n            <path\r\n              d=\"M2.66675 24.9867H6.66675\"\r\n              stroke=\"#94A3B8\"\r\n              stroke-width=\"2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n          </svg>\r\n        </span>\r\n        Sổ tay</a\r\n      >\r\n    </li> -->\r\n    <!--\r\n        [routerLink]=\"'/make-test'\"\r\n        routerLinkActive=\"active\" -->\r\n    <!-- <li>\r\n      <a class=\"flex gap-3 items-center font-extrabold text-blueGrey-400\" (isActiveChange)=\"this.ngOnInit\"\r\n        ><span class=\"h-8\"\r\n          ><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\">\r\n            <path\r\n              d=\"M16.1664 26L12.8639 26.4487L13.3167 23.2692L27.8185 9.30768L30.6683 12.0384L16.1664 26Z\"\r\n              stroke=\"#94A3B8\"\r\n              stroke-width=\"2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n            <path\r\n              d=\"M5.51306 14.6923H16.1664\"\r\n              stroke=\"#94A3B8\"\r\n              stroke-width=\"2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n            <path\r\n              d=\"M5.61963 19.8205H9.97419\"\r\n              stroke=\"#94A3B8\"\r\n              stroke-width=\"2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n            <path\r\n              d=\"M24.8756 7.84614H18.2173V1.43588\"\r\n              stroke=\"#94A3B8\"\r\n              stroke-width=\"2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n            <path\r\n              d=\"M24.8889 12.141V7.84615L18.2172 1.28204H1.33167V30.7179H24.8889V18.1795\"\r\n              stroke=\"#94A3B8\"\r\n              stroke-width=\"2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n          </svg>\r\n        </span>\r\n        Bài kiểm tra thử\r\n      </a>\r\n    </li> -->\r\n  </ul>\r\n  <div class=\"flex-1\"></div>\r\n  <div *ngIf=\"showSubmenu\" class=\"fixed w-full h-full top-0 left-0 z-10\" (click)=\"showSubmenu = false\"></div>\r\n  <button #toggleButton (click)=\"showSubmenu = !showSubmenu\" class=\"font-bold z-20 flex items-center\">\r\n    Chào {{ username }}\r\n    <img\r\n      class=\"inline pointer-events-none transition-transform\"\r\n      [style.transform]=\"showSubmenu ? 'rotateX(180deg)' : 'rotateX(0deg)'\"\r\n      src=\"assets/icons/down.svg\"\r\n    />\r\n  </button>\r\n  <ul #menu class=\"flex items-center p-6 gap-6\">\r\n    <li class=\"flex items-center gap-5 cursor-pointer relative\">\r\n      <ul\r\n        [ngStyle]=\"{ display: showSubmenu ? 'flex' : 'none' }\"\r\n        class=\"shadow-0 rounded-lg origin-top-right absolute right-0 mt-2 w-56 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none items-stretch flex-col top-5 z-10\"\r\n      >\r\n        <li [routerLink]=\"paths.profile.path\" routerLinkActive=\"text-orange\" (isActiveChange)=\"(this.ngOnInit)\">\r\n          <span class=\"drop-menu-item\">Thông tin cá nhân</span>\r\n        </li>\r\n        <li [routerLink]=\"paths.account.path\" routerLinkActive=\"text-orange\" (isActiveChange)=\"(this.ngOnInit)\">\r\n          <span class=\"drop-menu-item\">Tài khoản của bạn</span>\r\n        </li>\r\n        <li class=\"border-t border-blueGrey-300\"></li>\r\n        <!-- <li [routerLink]=\"'/knowledge'\">\r\n          <a class=\"h-5 text-primaryBlue\">Cây kiến thức</a>\r\n        </li>\r\n        <li class=\"border-t border-blueGrey-300\"></li> -->\r\n        <li [routerLink]=\"paths.signOut.path\">\r\n          <span class=\"drop-menu-item\">Thoát</span>\r\n        </li>\r\n      </ul>\r\n    </li>\r\n    <!-- <li>\r\n      <div class=\"relative\">\r\n        <img src=\"assets/icons/clarity_notification-line.svg\" class=\"cursor-pointer\" />\r\n        <span class=\"top-menu-notification\"></span>\r\n      </div>\r\n    </li> -->\r\n  </ul>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { ChangeDetectionStrategy, Component, HostListener, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { TrackingService } from '@infrastructure/tracking/tracking.service';\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  selector: 'student-tracking-lesson',\r\n  template: `<ng-container></ng-container>`,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class TrackingLessonComponent implements OnInit, OnDestroy {\r\n  _isMouseActive = false;\r\n  _mouseInactiveTimeout: any;\r\n  _trackingInterval: any;\r\n\r\n  constructor(private service: TrackingService) {}\r\n\r\n  @Input() lessonId!: string;\r\n  @Input() trackingType!: string;\r\n\r\n  @HostListener('document:mousemove', ['$event'])\r\n  onMouseMove() {\r\n    if (window.localStorage.getItem('dev') === 'true') return;\r\n    if (!this._isMouseActive) {\r\n      // this.service.resetTrackingOnLesson(this.lessonId, this.trackingType);\r\n      this._isMouseActive = true;\r\n      clearInterval(this._trackingInterval);\r\n      this._trackingInterval = setInterval(() => {\r\n        if (this._isMouseActive) this.service.updateTrackOnLesson(this.lessonId, this.trackingType);\r\n      }, this.service.trackingThreshold);\r\n    }\r\n    clearTimeout(this._mouseInactiveTimeout);\r\n    this._mouseInactiveTimeout = setTimeout(() => {\r\n      clearInterval(this._trackingInterval);\r\n      this._isMouseActive = false;\r\n    }, this.service.trackingThreshold);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (window.localStorage.getItem('dev') === 'true') return;\r\n    this._isMouseActive = false;\r\n    this._trackingInterval = setInterval(() => {\r\n      if (this._isMouseActive) this.service.updateTrackOnLesson(this.lessonId, this.trackingType);\r\n    }, this.service.trackingThreshold);\r\n    this._mouseInactiveTimeout = setTimeout(() => {\r\n      clearInterval(this._trackingInterval);\r\n      this._isMouseActive = false;\r\n    }, this.service.trackingThreshold);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (window.localStorage.getItem('dev') === 'true') return;\r\n    clearInterval(this._trackingInterval);\r\n    clearTimeout(this._mouseInactiveTimeout);\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, HostListener, OnDestroy, OnInit } from '@angular/core';\r\nimport { TrackingService } from '@infrastructure/tracking/tracking.service';\r\n\r\n@Component({\r\n  selector: 'student-tracking',\r\n  template: `<ng-container></ng-container>`,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class TrackingComponent implements OnInit, OnDestroy {\r\n  _isMouseActive = false;\r\n  _mouseInactiveTimeout: any;\r\n  _trackingInterval: any;\r\n\r\n  constructor(private service: TrackingService) {}\r\n\r\n  @HostListener('document:mousemove', ['$event'])\r\n  onMouseMove() {\r\n    if (window.localStorage.getItem('dev') === 'true') return;\r\n    const isLocalhost = window.location.hostname == 'localhost' || window.location.hostname == '127.0.0.1/';\r\n    if (isLocalhost) return;\r\n    if (!this._isMouseActive) {\r\n      // this.service.resetTrackingOnApp();\r\n      this._isMouseActive = true;\r\n      clearInterval(this._trackingInterval);\r\n      this._trackingInterval = setInterval(() => {\r\n        if (this._isMouseActive) this.service.updateTrackOnApp();\r\n      }, this.service.trackingThreshold);\r\n    }\r\n    clearTimeout(this._mouseInactiveTimeout);\r\n    this._mouseInactiveTimeout = setTimeout(() => {\r\n      clearInterval(this._trackingInterval);\r\n      this._isMouseActive = false;\r\n    }, this.service.trackingThreshold);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (window.localStorage.getItem('dev') === 'true') return;\r\n    const isLocalhost = window.location.hostname == 'localhost' || window.location.hostname == '127.0.0.1/';\r\n    if (isLocalhost) return;\r\n    this._isMouseActive = false;\r\n    this._trackingInterval = setInterval(() => {\r\n      if (this._isMouseActive) this.service.updateTrackOnApp();\r\n    }, this.service.trackingThreshold);\r\n    this._mouseInactiveTimeout = setTimeout(() => {\r\n      clearInterval(this._trackingInterval);\r\n      this._isMouseActive = false;\r\n    }, this.service.trackingThreshold);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (window.localStorage.getItem('dev') === 'true') return;\r\n    clearInterval(this._trackingInterval);\r\n    clearTimeout(this._mouseInactiveTimeout);\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, ElementRef, OnInit, ViewChild, inject } from '@angular/core';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\r\nimport { KnowledgeService } from '@infrastructure/knowledge/knowledge.service';\r\nimport { LearningGoal } from '@infrastructure/knowledge/learning-goal';\r\nimport { Lesson } from '@infrastructure/knowledge/lesson';\r\nimport { LessonService } from '@infrastructure/knowledge/lesson.service';\r\nimport { LoadingOverlayService } from '@infrastructure/loading-overlay.service';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport { TestService } from '@infrastructure/test/test.service';\r\nimport { TutorialService } from '@infrastructure/tutorials/tutorial-service';\r\nimport { TrackingLessonComponent } from '@presentation/share-components/tracking/tracking-lesson.component';\r\nimport {\r\n  ExerciseContentComponent,\r\n  InputRadioComponent,\r\n  QuestionsProgressComponent,\r\n  TestContentComponent,\r\n  TutorialComponent,\r\n} from '@share-components';\r\nimport { OrderBySAPipe, SafeHtmlPipe } from '@share-pipes';\r\nimport {\r\n  Answer,\r\n  Exercise,\r\n  Progress,\r\n  Question,\r\n  QuestionReview,\r\n  Submission,\r\n  TestResult,\r\n  answerPrefixes,\r\n} from '@share-utils/data';\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    ExerciseContentComponent,\r\n    QuestionsProgressComponent,\r\n    MatTooltipModule,\r\n    SafeHtmlPipe,\r\n    TrackingLessonComponent,\r\n    TutorialComponent,\r\n    TestContentComponent,\r\n    InputRadioComponent,\r\n    OrderBySAPipe,\r\n  ],\r\n  templateUrl: './tutorial-lesson.component.html',\r\n  styleUrls: ['./tutorial-lesson.component.scss'],\r\n})\r\nexport class TutorialLessonComponent implements OnInit {\r\n  paths = inject(NavigationService).paths;\r\n  knowledgeService = inject(KnowledgeService);\r\n  lessonService = inject(LessonService);\r\n  route = inject(ActivatedRoute);\r\n  router = inject(Router);\r\n  testService = inject(TestService);\r\n  loading = inject(LoadingOverlayService);\r\n  tutorialService = inject(TutorialService);\r\n\r\n  exercise = Exercise.empty();\r\n  submission = new Submission();\r\n  showIncomplete = false;\r\n  ignoreIncomplete = false;\r\n  lessonId = '';\r\n  question = Question.empty();\r\n  questionReview: QuestionReview | null = null;\r\n  progress = Progress.from(0, 100);\r\n  progressStr = '';\r\n  showHint = false;\r\n  lesson: Lesson = Lesson.empty();\r\n  showComplete = false;\r\n  isSubmitting = false;\r\n  currentForm!: HTMLFormElement;\r\n  isCompleted = false;\r\n  showTutorial = false;\r\n  learningGoal!: LearningGoal;\r\n  tutorialPart = 0;\r\n  showResult = false;\r\n  result!: TestResult;\r\n  currentTestIndex = 0;\r\n  answerPrefixes = answerPrefixes;\r\n  questionElm!: HTMLElement;\r\n\r\n  @ViewChild('exerciseElm') exerciseElm!: ElementRef;\r\n  @ViewChild('scrollTopElm') scrollTopElm!: ElementRef;\r\n  // @ViewChild('questionElm') questionElm!: ElementRef;\r\n\r\n  ngOnInit(): void {\r\n    this.loading.show();\r\n    this.lessonId = this.route.snapshot.params['id'];\r\n    // if (this.lessonId == 'tutorial') {\r\n    this.lesson = this.tutorialService.getDetail().lessonCategories[0].lessons[0];\r\n    this.exercise = this.tutorialService.getExercise();\r\n    this._initSubmission();\r\n    this.learningGoal = this.tutorialService.getSelectedLearningGoal();\r\n    const answerId = this.exercise.questions[0].answers[1].id;\r\n    setTimeout(() => {\r\n      this.questionElm = document.getElementById(`atutorial-${answerId}`) as HTMLElement;\r\n      this.questionElm.setAttribute('data-tooltip-content', 'Nhấp vào đây để chọn đáp án');\r\n      this.showTutorial = true;\r\n      this.loading.hide();\r\n    }, 200);\r\n    return;\r\n    // } else {\r\n    // this.learningGoal = this.knowledgeService.getSelectedLearningGoal();\r\n    // this.lessonService.getDetail(this.lessonId).subscribe({\r\n    //   next: result => {\r\n    //     this.lesson = result.lessonCategories[0].lessons[0];\r\n    //   },\r\n    // });\r\n    // this._getQuestion();\r\n    // }\r\n  }\r\n\r\n  testComplete = () => {\r\n    this.tutorialPart++;\r\n    const result: any = this.tutorialService.submitExercise();\r\n    this.progress.value = result['lesson_percentage'];\r\n    this.progressStr = (result['lesson_percentage'] as number).toFixed(2);\r\n    this.questionReview = QuestionReview.fromJson(result['result'][0]);\r\n    this.showResult = true;\r\n    setTimeout(() => {\r\n      this.tutorialPart++;\r\n    }, 1000);\r\n  };\r\n\r\n  _initSubmission() {\r\n    this.question = this.exercise.questions[0];\r\n    this.progress.value = this.exercise.progress ?? 0;\r\n    this.progressStr = (this.exercise.progress ?? 0).toFixed(2);\r\n    this.loading.hide();\r\n    setTimeout(() => {\r\n      this.scrollTopElm.nativeElement.scrollTop = 0;\r\n      this.scrollTopElm.nativeElement.scrollLeft = 0;\r\n      this.isSubmitting = false;\r\n    }, 2000);\r\n  }\r\n\r\n  nextQuestion() {\r\n    if (this.isCompleted) {\r\n      this.showComplete = true;\r\n      return;\r\n    }\r\n    this.currentForm.querySelectorAll('input[type=\"radio\"]').forEach(input => {\r\n      input.removeAttribute('disabled');\r\n    });\r\n    this.currentForm.reset();\r\n  }\r\n\r\n  submitIncomplete() {\r\n    this.showIncomplete = false;\r\n  }\r\n\r\n  updateSubmitData(questionId: string, answer: Answer) {\r\n    this.submission.submitData[questionId] = answer;\r\n  }\r\n\r\n  empty = () => {\r\n    //\r\n  };\r\n\r\n  next = () => {\r\n    this.tutorialPart++;\r\n    if (this.tutorialPart == 2) {\r\n      this.submission.submitData[this.question.id] = this.question.answers[1];\r\n    }\r\n    if (this.tutorialPart == 5) {\r\n      this.showComplete = true;\r\n    }\r\n  };\r\n\r\n  skip() {\r\n    window.document.body.removeAttribute('style');\r\n    this.showTutorial = false;\r\n    this.router.navigate([this.paths.home.path], { replaceUrl: true });\r\n  }\r\n}\r\n","<div class=\"w-full h-screen bg-blueGrey-100 flex justify-center\">\r\n  <div class=\"w-full max-w-[894px] col gap-4 p-6 h-screen\">\r\n    <button [routerLink]=\"paths.learningPath.path\" class=\"icon-btn self-end md:hidden\">\r\n      <i class=\"icon-Close\"></i>\r\n    </button>\r\n    <div class=\"flex items-center justify-between w-full\">\r\n      <div class=\"flex gap-4 items-center\">\r\n        <button\r\n          [routerLink]=\"paths.learningPath.path\"\r\n          class=\"no-underline gap-2 items-center text-orange hidden md:flex\"\r\n        >\r\n          <i class=\"icon-ArrowLeft\"></i>\r\n          <span>Về lộ trình học</span>\r\n        </button>\r\n        <h4>{{ learningGoal.name }}</h4>\r\n      </div>\r\n      <!-- <div class=\"flex gap-2\">\r\n        <a [routerLink]=\"paths.home.path\" class=\"menu-item\">\r\n      <img src=\"/assets/images/Home.svg\" alt=\"\" />\r\n      <span>Trang chủ</span>\r\n    </a>\r\n    <a [routerLink]=\"paths.account.path\" class=\"menu-item\">\r\n      <img src=\"/assets/images/Profile.svg\" alt=\"\" />\r\n      <span>Tài khoản</span>\r\n    </a>\r\n      </div> -->\r\n    </div>\r\n    <div\r\n      #exerciseElm\r\n      class=\"col rounded-lg bg-white p-4 gap-4 overflow-y-auto md:overflow-hidden md:flex-1 h-[calc(100vh_-_200px)] relative\"\r\n    >\r\n      <div class=\"flex w-full items-end justify-center gap-6\">\r\n        <div class=\"col gap-1 w-full\">\r\n          <h6 class=\"hidden md:block\">{{ progressStr }}%</h6>\r\n          <span class=\"h8 md:hidden\">{{ progressStr }}%</span>\r\n          <kyonsvn-questions-progress\r\n            [progress]=\"progress\"\r\n            class=\"w-full\"\r\n            [hideLabel]=\"true\"\r\n          ></kyonsvn-questions-progress>\r\n        </div>\r\n        <div class=\"flex gap-2\">\r\n          <a class=\"btn-rounded btn-icon\" href=\"https://forms.gle/b36mTdMWNRY1qkZh7\" target=\"_blank\"\r\n            ><i class=\"icon-Error\"></i\r\n          ></a>\r\n          <button\r\n            #hint\r\n            data-tooltip-content=\"Bạn hãy bấm vào đây để xem gợi ý từ Kyons nhé!\"\r\n            data-tooltip-position=\"bottom\"\r\n            [disabled]=\"questionReview\"\r\n            class=\"btn btn-icon\"\r\n            (click)=\"showHint = true\"\r\n          >\r\n            <i class=\"icon-Lightbulb text-white\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div #scrollTopElm class=\"col gap-2 flex-1 overflow-auto\">\r\n        <h6 *ngIf=\"questionReview\">\r\n          <span *ngIf=\"!questionReview.isCorrectAnswer\" class=\"text-red-0\">Chưa phải đáp án đúng!</span\r\n          ><span *ngIf=\"questionReview.isCorrectAnswer\" class=\"text-darkEmerald\">Đáp án chính xác!</span>\r\n        </h6>\r\n        <p><span [innerHTML]=\"question.content | safeHtml\"></span></p>\r\n        <div class=\"mt-2 flex flex-col gap-1\"></div>\r\n        <div class=\"col flex-1\" *ngIf=\"!questionReview\">\r\n          <kyonsvn-input-radio\r\n            [style.display]=\"ai > 3 ? 'none' : 'block'\"\r\n            *ngFor=\"let answer of question.answers | orderBySA : 'order'; let ai = index\"\r\n            (change)=\"updateSubmitData(question.id, answer.id)\"\r\n            [value]=\"answer.id\"\r\n            [label]=\"answerPrefixes[ai] + answer.content\"\r\n            [name]=\"'q-' + question.id\"\r\n            [checked]=\"submission.submitData[question.id] === answer.id\"\r\n          ></kyonsvn-input-radio>\r\n        </div>\r\n        <div *ngIf=\"questionReview\" class=\"col gap-2\">\r\n          <span [innerHTML]=\"questionReview.explanation | safeHtml\"></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"justify-between hidden md:flex flex-col gap-3\">\r\n        <!-- <div class=\"hidden md:flex flex-1 gap-2\">\r\n          <strong class=\"uppercase\">Phím tắt:</strong>\r\n          <span>Bấm 1,2,3,4 chọn đáp án, bấm space sẽ làm tiếp hoặc nộp bài</span>\r\n        </div> -->\r\n        <div class=\"flex gap-4 items-center justify-between w-full\">\r\n          <!-- <button (click)=\"scrollLeft()\" [disabled]=\"currentTestIndex === 0\" class=\"btn\">Câu trước</button>\r\n          <div class=\"flex-1 flex gap-1 w-full overflow-hidden\">\r\n            <button class=\"btn-rounded btn-icon\" (click)=\"previousPage()\"><i class=\"icon-ArrowLeft\"></i></button>\r\n            <div #scrollElm class=\"w-[calc(100%_-_92px)] overflow-x-auto flex gap-1 hide-scrollbar\">\r\n              <button\r\n                class=\"btn-rounded btn-icon\"\r\n                *ngFor=\"let question of testContent.questions; index as i\"\r\n                [ngClass]=\"{\r\n                  'fill-blue': i === currentTestIndex,\r\n                  'outline-blue': i !== currentTestIndex,\r\n                  'fill-black': testSubmission.hasAnswer(question.id)\r\n                }\"\r\n                (click)=\"currentTestIndex = i\"\r\n              >\r\n                {{ i + 1 }}\r\n              </button>\r\n            </div>\r\n            <button class=\"btn-icon btn-rounded\" (click)=\"nextPage()\"><i class=\"icon-ArrowRight\"></i></button>\r\n          </div>\r\n          <button *ngIf=\"currentTestIndex !== testContent.questions.length - 1\" (click)=\"scrollRight()\" class=\"btn\">\r\n            Câu kế tiếp\r\n          </button> -->\r\n          <button [disabled]=\"progress.value === 0\" [routerLink]=\"['review']\" class=\"btn secondary\">\r\n            Xem lại các dạng bài\r\n          </button>\r\n          <button\r\n            #submit\r\n            data-tooltip-content=\"Bấm vào đây để nộp bài và xem đáp án bài tập\"\r\n            [ngClass]=\"{ hidden: questionReview }\"\r\n            [disabled]=\"isSubmitting\"\r\n            (click)=\"testComplete()\"\r\n            class=\"btn\"\r\n          >\r\n            Nộp bài\r\n          </button>\r\n          <button\r\n            #nextBtn\r\n            data-tooltip-content=\"Bấm vào đây để tiếp tục\"\r\n            [ngClass]=\"{ hidden: !questionReview }\"\r\n            [disabled]=\"isSubmitting\"\r\n            (click)=\"nextQuestion()\"\r\n            class=\"btn\"\r\n          >\r\n            Câu kế tiếp\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"isSubmitting\" class=\"absolute top-0 left-0 w-full h-full z-50\"></div>\r\n    </div>\r\n    <!-- <div class=\"ads-md\">\r\n      <span class=\"text-white\">Muốn luyện tập với vô hạn câu hỏi được tạo ra bởi Trí tuệ nhân tạo (AI)?</span>\r\n      <button class=\"btn btn-large\" (click)=\"showWaitlistPopup = true\">Đăng ký Danh sách chờ của Kyons!</button>\r\n    </div> -->\r\n    <div class=\"md:hidden w-full flex items-center justify-between gap-2 mb-20\">\r\n      <div class=\"flex gap-2 items-center w-full justify-between\">\r\n        <button [disabled]=\"progress.value === 0\" [routerLink]=\"['review']\" class=\"btn btn-icon btn-large secondary\">\r\n          <i class=\"icon-Preview\"></i>\r\n        </button>\r\n        <!-- <button (click)=\"scrollLeft()\" [disabled]=\"currentTestIndex === 0\" class=\"btn btn-icon\">\r\n          <i class=\"icon-ArrowLeft\"></i>\r\n        </button> -->\r\n        <!-- <a\r\n          class=\"btn-rounded btn-icon order-1 md:order-1\"\r\n          href=\"https://forms.gle/b36mTdMWNRY1qkZh7\"\r\n          target=\"_blank\"\r\n          #tooltip=\"matTooltip\"\r\n          matTooltip=\"Nội dung “có vấn đề”? Thông báo cho Kyons liền tay!\"\r\n          matTooltipPosition=\"above\"\r\n          matTooltipHideDelay=\"5000\"\r\n          matTooltipClass=\"above\"\r\n          aria-label=\"Button that displays a tooltip that hides when scrolled out of the container\"\r\n          ><i class=\"icon-Error\"></i\r\n        ></a> -->\r\n        <!-- <div #scrollXsElm class=\"max-w-[calc(100%_-_92px)] overflow-x-auto flex gap-[4px] hide-scrollbar\">\r\n          <button\r\n            class=\"btn-rounded btn-icon\"\r\n            *ngFor=\"let question of testContent.questions; index as i\"\r\n            [ngClass]=\"{\r\n              'fill-blue': i === currentTestIndex,\r\n              'outline-blue': i !== currentTestIndex,\r\n              'fill-black': testSubmission.hasAnswer(question.id)\r\n            }\"\r\n            (click)=\"currentTestIndex = i\"\r\n          >\r\n            {{ i + 1 }}\r\n          </button>\r\n        </div> -->\r\n        <button\r\n          #nextBtnXs\r\n          data-tooltip-content=\"Bấm vào đây để tiếp tục\"\r\n          [ngClass]=\"{ hidden: !questionReview }\"\r\n          (click)=\"nextQuestion()\"\r\n          [disabled]=\"isSubmitting\"\r\n          class=\"btn btn-icon btn-large\"\r\n        >\r\n          <i class=\"icon-ArrowRight\"></i>\r\n        </button>\r\n        <button\r\n          #submitXs\r\n          data-tooltip-content=\"Bấm vào đây để nộp bài và xem đáp án bài tập\"\r\n          [ngClass]=\"{ hidden: questionReview }\"\r\n          [disabled]=\"isSubmitting\"\r\n          (click)=\"testComplete()\"\r\n          class=\"btn btn-icon btn-large\"\r\n        >\r\n          <i class=\"icon-ArrowRight\"></i>\r\n        </button>\r\n        <!-- <button\r\n          *ngIf=\"currentTestIndex !== testContent.questions.length - 1\"\r\n          (click)=\"scrollRight()\"\r\n          [disabled]=\"currentTestIndex === testContent.questions.length - 1\"\r\n          class=\"btn btn-icon\"\r\n        >\r\n          <i class=\"icon-ArrowRight\"></i>\r\n        </button> -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"showIncomplete\"\r\n  class=\"absolute top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 w-full md:w-[700px] items-center\">\r\n    <img src=\"/assets/images/warning.webp\" alt=\"\" />\r\n    <div class=\"col w-full gap-6\">\r\n      <h5>Bạn chưa chọn đáp án!</h5>\r\n      <button (click)=\"showIncomplete = false\" class=\"btn w-full\">Để mình làm tiếp</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"showHint\"\r\n  class=\"absolute top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 w-full md:w-[700px] items-center\">\r\n    <div class=\"col w-full gap-6\">\r\n      <h5>Gợi ý từ Kyons</h5>\r\n      <p [innerHTML]=\"question.hint | safeHtml\"></p>\r\n      <button (click)=\"showHint = false\" class=\"btn w-full\">Đã hiểu</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"showComplete\"\r\n  class=\"absolute top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 w-full md:w-[700px] items-center\">\r\n    <div class=\"col w-full gap-6 justify-center items-stretch\">\r\n      <img class=\"w-[150px] self-center\" src=\"/assets/images/lesson-success.webp\" alt=\"\" />\r\n      <h5 class=\"w-full\">Xin chúc mừng, bạn vừa hoàn thành xuất sắc {{ lesson.name }} rồi đó!</h5>\r\n      <button [routerLink]=\"paths.learningPath.path\" [queryParams]=\"{ tutorial: 2 }\" class=\"btn w-full\">\r\n        Quay lại Lộ trình học\r\n      </button>\r\n      <button class=\"btn-rounded w-full\">Xem lại các bài tập đã làm</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<student-tracking-lesson trackingType=\"practice\" [lessonId]=\"lessonId\"></student-tracking-lesson>\r\n<kyonsvn-tutorial\r\n  *ngIf=\"showTutorial && tutorialPart < 3\"\r\n  [scriptElements]=\"[hint, questionElm, submit, nextBtn]\"\r\n  [scriptEvents]=\"[\r\n    ['click', next],\r\n    ['click', next],\r\n    ['click', testComplete],\r\n    ['click', next]\r\n  ]\"\r\n  (skipCallback)=\"skip()\"\r\n  class=\"hidden md:block\"\r\n></kyonsvn-tutorial>\r\n<kyonsvn-tutorial\r\n  *ngIf=\"showTutorial && tutorialPart < 3\"\r\n  [scriptElements]=\"[hint, questionElm, submitXs, nextBtnXs]\"\r\n  [scriptEvents]=\"[\r\n    ['click', next],\r\n    ['click', next],\r\n    ['click', testComplete],\r\n    ['click', next]\r\n  ]\"\r\n  (skipCallback)=\"skip()\"\r\n  class=\"md:hidden\"\r\n></kyonsvn-tutorial>\r\n<kyonsvn-tutorial\r\n  *ngIf=\"showTutorial && tutorialPart === 4\"\r\n  [scriptElements]=\"[nextBtn]\"\r\n  [scriptEvents]=\"[['click', next]]\"\r\n  (skipCallback)=\"skip()\"\r\n  class=\"hidden md:block\"\r\n></kyonsvn-tutorial>\r\n<kyonsvn-tutorial\r\n  *ngIf=\"showTutorial && tutorialPart === 4\"\r\n  [scriptElements]=\"[nextBtnXs]\"\r\n  [scriptEvents]=\"[['click', next]]\"\r\n  (skipCallback)=\"skip()\"\r\n  class=\"md:hidden\"\r\n></kyonsvn-tutorial>\r\n","import { Clipboard } from '@angular/cdk/clipboard';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Component, ElementRef, OnInit, ViewChild, inject } from '@angular/core';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\r\nimport { KnowledgeService } from '@infrastructure/knowledge/knowledge.service';\r\nimport { LearningGoal, StudentLearningGoal } from '@infrastructure/knowledge/learning-goal';\r\nimport { LessonGroup } from '@infrastructure/knowledge/lesson';\r\nimport { LoadingOverlayService } from '@infrastructure/loading-overlay.service';\r\nimport { NavigationService } from '@infrastructure/navigation/navigation.service';\r\nimport { TutorialService } from '@infrastructure/tutorials/tutorial-service';\r\nimport { LoadingComponent } from '@presentation/share-components/loading/loading.component';\r\n// import { Progress } from '@presentation/share-components/questions-progress/questions-progress.component';\r\nimport {\r\n  AnswerTutorialScript,\r\n  QuestionTutorialScript,\r\n  QuestionsProgressComponent,\r\n  TestContentComponent,\r\n  TutorialComponent,\r\n} from '@share-components';\r\nimport { MockTestResult, Progress, Submission, TestContent } from '@share-utils/data';\r\nimport { Observable, fromEvent } from 'rxjs';\r\n\r\nconst TEST_DURATION = 90 * 60 * 1000;\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [\r\n    TestContentComponent,\r\n    CommonModule,\r\n    QuestionsProgressComponent,\r\n    MatTooltipModule,\r\n    RouterModule,\r\n    LoadingComponent,\r\n    TutorialComponent,\r\n  ],\r\n\r\n  templateUrl: './tutorial-test.component.html',\r\n  styleUrls: ['./tutorial-test.component.scss'],\r\n})\r\nexport class TutorialTestComponent implements OnInit {\r\n  paths = inject(NavigationService).paths;\r\n  // selectedProgram;\r\n  source!: Observable<KeyboardEvent>;\r\n  elm = inject(ElementRef);\r\n  route = inject(ActivatedRoute);\r\n  router = inject(Router);\r\n  testService = inject(TutorialService);\r\n  loading = inject(LoadingOverlayService);\r\n  knowledgeService = inject(KnowledgeService);\r\n  clipboard = inject(Clipboard);\r\n  tutorialService = inject(TutorialService);\r\n\r\n  learningGoal = LearningGoal.empty();\r\n  studentLearningGoal = StudentLearningGoal.empty();\r\n  testProgress = new Progress();\r\n  isTitleHidden = false;\r\n  testContent = TestContent.empty();\r\n  testSubmission = new Submission();\r\n  isTest = false;\r\n  testResult: MockTestResult | undefined;\r\n  reviewRenderObject: any[] = [];\r\n  resultRenderObject: any[] = [];\r\n  lessonGroup!: LessonGroup;\r\n  userType = '';\r\n  isSubmitting = false;\r\n  currentTestIndex = 0;\r\n  progressString = '';\r\n  hasError = '';\r\n  complete = false;\r\n  testReviewRenderObject: any[] = [];\r\n  testResultRenderObject: any[] = [];\r\n  isSharing = false;\r\n  shareLink = '';\r\n  isCopied = false;\r\n  isPending = true;\r\n  counter = 0;\r\n  counterTime = new Date(this.counter);\r\n  Math = Math;\r\n  showIncomplete = false;\r\n  showHavingTime = false;\r\n  ignoreIncomplete = false;\r\n  ignoreHavingTime = false;\r\n  mockTestId!: string;\r\n  showResult = false;\r\n  tutorialScript!: QuestionTutorialScript;\r\n  tutorialPart = 0;\r\n\r\n  @ViewChild('testContentElm') testContentElm!: ElementRef;\r\n  @ViewChild('scrollElm') scrollElm!: ElementRef;\r\n  @ViewChild('scrollXsElm') scrollXsElm!: ElementRef;\r\n\r\n  ngOnInit(): void {\r\n    // this.selectedProgram = this.knowledgeService.getSelectedProgram();\r\n    this.source = fromEvent<KeyboardEvent>(document, 'keyup');\r\n    this.route.queryParams.subscribe(params => {\r\n      this.isTest = params['test'] ? params['test'] === 'true' : false;\r\n    });\r\n    this.mockTestId = this.route.snapshot.paramMap.get('id') ?? '';\r\n    this.learningGoal = this.tutorialService.getSelectedLearningGoal();\r\n    this.getMockTest();\r\n  }\r\n\r\n  // ngAfterViewInit(): void {\r\n  //   if (!this.testContentElm) return;\r\n  // }\r\n\r\n  skipCallback() {\r\n    this.router.navigate([this.paths.home.path], { replaceUrl: true });\r\n  }\r\n\r\n  startTime = () => {\r\n    setInterval(() => {\r\n      this.counter -= 1000;\r\n      this.counterTime = new Date(this.counter);\r\n      if (this.counter < 0) {\r\n        this.ignoreHavingTime = true;\r\n        this.ignoreIncomplete = true;\r\n        this.testComplete();\r\n      }\r\n    }, 1000);\r\n    this.tutorialPart = 1;\r\n  };\r\n\r\n  getMockTest() {\r\n    this.testContent = this.testService.getMockTest();\r\n    this.testProgress = Progress.from(0, this.testContent.questions.length);\r\n    this.counter = TEST_DURATION;\r\n    this.tutorialScript = new QuestionTutorialScript(\r\n      null,\r\n      [\r\n        new AnswerTutorialScript({\r\n          value: '2',\r\n          tooltipContent: 'Bấm vào đây để chọn câu trả lời',\r\n          event: [\r\n            'click',\r\n            () => {\r\n              this.testSubmission.submitData[this.testContent.questions[this.currentTestIndex].id] =\r\n                this.testContent.questions[this.currentTestIndex].answers[3];\r\n              this.tutorialPart++;\r\n            },\r\n          ],\r\n        }),\r\n        new AnswerTutorialScript({\r\n          value: '2',\r\n          tooltipContent: 'Làm tiếp câu tiếp theo',\r\n          event: [\r\n            'click',\r\n            () => {\r\n              this.testSubmission.submitData[this.testContent.questions[this.currentTestIndex].id] =\r\n                this.testContent.questions[this.currentTestIndex].answers[2];\r\n              this.tutorialPart++;\r\n            },\r\n          ],\r\n        }),\r\n      ],\r\n      this.skipCallback,\r\n      0\r\n    );\r\n    this.isPending = false;\r\n  }\r\n\r\n  preTutorial = () => {\r\n    if ([3].includes(this.tutorialPart)) this.currentTestIndex--;\r\n    if (this.tutorialPart == 5) {\r\n      this.currentTestIndex = 1;\r\n      this._centerCurrentIndexXs();\r\n      this._centerCurrentIndex();\r\n    }\r\n    this.tutorialPart--;\r\n  };\r\n\r\n  nextTutorial = () => {\r\n    if ([2].includes(this.tutorialPart)) this.currentTestIndex++;\r\n    this.tutorialPart++;\r\n    if (this.tutorialPart == 5) {\r\n      this.currentTestIndex = this.testContent.questions.length - 1;\r\n      this._centerCurrentIndexXs();\r\n      this._centerCurrentIndex();\r\n    }\r\n    if (this.tutorialPart == 7) {\r\n      this.router.navigate([this.paths.mockTestResult.path.replace(':id', 'tutorial1')]);\r\n    }\r\n  };\r\n\r\n  updateProgress(nextProgress: Progress) {\r\n    this.testProgress = nextProgress;\r\n  }\r\n\r\n  updateSubmission(nextSubmission: Submission) {\r\n    this.testSubmission.submitData = nextSubmission.submitData;\r\n  }\r\n\r\n  round(value: number) {\r\n    return Math.round(value);\r\n  }\r\n\r\n  testComplete() {\r\n    if (this.isSubmitting) return;\r\n    // for (const input of a) {\r\n    //   console.log(input.checked);\r\n    //   input.\r\n    // }\r\n    // a.map((input) => {});\r\n    // const groupsOfFour = Array.from(records, record => {\r\n    //   const group = [];\r\n    //   for (let i = 0; i < 4; i++) {\r\n    //     if (record) {\r\n    //       group.push(record);\r\n    //       // record = record.nextSibling;\r\n    //     }\r\n    //   }\r\n    //   return group;\r\n    // });\r\n\r\n    // Print each group of 4 records\r\n    // for (const group of groupsOfFour as any[]) {\r\n    //   console.log(group);\r\n    // }\r\n    if (\r\n      !this.ignoreIncomplete &&\r\n      Object.keys(this.testSubmission.submitData).length < this.testContent.questions.length\r\n    ) {\r\n      this.showIncomplete = true;\r\n      return;\r\n    }\r\n    if (!this.ignoreHavingTime && this.counter > 5 * 60 * 1000) {\r\n      this.showHavingTime = true;\r\n      return;\r\n    }\r\n    if (this.isSubmitting) return;\r\n    this.isSubmitting = true;\r\n    this.loading.show();\r\n    this.testSubmission.end = new Date();\r\n  }\r\n\r\n  copy() {\r\n    this.clipboard.copy(this.shareLink);\r\n    this.isCopied = true;\r\n    setTimeout(() => {\r\n      this.isCopied = false;\r\n    }, 1000);\r\n  }\r\n\r\n  previousPage() {\r\n    this.scrollElm.nativeElement.scrollLeft -= 400;\r\n  }\r\n  nextPage() {\r\n    this.scrollElm.nativeElement.scrollLeft += 400;\r\n  }\r\n\r\n  scrollLeft() {\r\n    this.currentTestIndex--;\r\n    this._centerCurrentIndexXs();\r\n  }\r\n  scrollRight() {\r\n    this.currentTestIndex++;\r\n    this._centerCurrentIndexXs();\r\n    this._centerCurrentIndex();\r\n  }\r\n\r\n  _centerCurrentIndex() {\r\n    const currentElm = this.scrollElm.nativeElement.querySelectorAll('button')[this.currentTestIndex];\r\n    const currentElmLeft = currentElm.offsetLeft - this.scrollElm.nativeElement.offsetLeft;\r\n    const currentElmWidth = currentElm.offsetWidth;\r\n    const currentElmCenter = currentElmLeft + currentElmWidth / 2;\r\n    const scrollElmWidth = this.scrollElm.nativeElement.offsetWidth;\r\n    this.scrollElm.nativeElement.scrollLeft = currentElmCenter - scrollElmWidth / 2;\r\n  }\r\n\r\n  _centerCurrentIndexXs() {\r\n    const currentElm = this.scrollXsElm.nativeElement.querySelectorAll('button')[this.currentTestIndex];\r\n    const currentElmLeft = currentElm.offsetLeft - this.scrollXsElm.nativeElement.offsetLeft;\r\n    const currentElmWidth = currentElm.offsetWidth;\r\n    const currentElmCenter = currentElmLeft + currentElmWidth / 2;\r\n    const scrollElmWidth = this.scrollXsElm.nativeElement.offsetWidth;\r\n    this.scrollXsElm.nativeElement.scrollLeft = currentElmCenter - scrollElmWidth / 2;\r\n  }\r\n\r\n  submitIncomplete() {\r\n    if (!this.ignoreHavingTime && this.counter > 5 * 60 * 1000) {\r\n      this.showHavingTime = true;\r\n    } else {\r\n      this.testComplete();\r\n    }\r\n    this.showIncomplete = false;\r\n  }\r\n\r\n  submitHavingTime() {\r\n    if (\r\n      !this.ignoreIncomplete &&\r\n      Object.keys(this.testSubmission.submitData).length < this.testContent.questions.length\r\n    ) {\r\n      this.showIncomplete = true;\r\n    } else {\r\n      this.testComplete();\r\n    }\r\n    this.showHavingTime = false;\r\n  }\r\n\r\n  goToResult() {\r\n    this.router.navigate([this.paths.mockTestReview.path.replace(':id', this.mockTestId)]);\r\n  }\r\n\r\n  goToReview() {\r\n    this.router.navigate([this.paths.mockTestReview.path.replace(':id', this.mockTestId)]);\r\n  }\r\n\r\n  skip() {\r\n    window.document.body.removeAttribute('style');\r\n    this.router.navigate([this.paths.home.path], { replaceUrl: true });\r\n  }\r\n\r\n  _getTopicNameFromId(topicId: string) {\r\n    return this.lessonGroup.lessonCategories.filter(lC => lC.topic.id == topicId)[0].topic.name;\r\n  }\r\n\r\n  _getQuestionsFromIds(questionIds: string[]) {\r\n    return this.testContent.questions.filter(q => questionIds.includes(q.id));\r\n  }\r\n\r\n  _getTestQuestionsFromIds(questionIds: string[]) {\r\n    return this.testContent.questions.filter(q => questionIds.includes(q.id));\r\n  }\r\n}\r\n","<div class=\"w-full h-screen bg-blueGrey-100 flex justify-center\">\r\n  <div class=\"w-full max-w-[894px] col gap-4 p-6\">\r\n    <div class=\"flex gap-2 justify-between\">\r\n      <h4 class=\"hidden md:block\">Mục tiêu của bạn: {{ learningGoal.name }}</h4>\r\n      <div class=\"h8 md:hidden\">Mục tiêu của bạn: {{ learningGoal.name }}</div>\r\n      <strong\r\n        #timeElm\r\n        data-tooltip-position=\"bottom\"\r\n        data-tooltip-content=\"Bắt đầu tình giờ\"\r\n        class=\"text-lightBlue-1 w-[45px] flex justify-between items-center bg-blueGrey-100\"\r\n      >\r\n        <span>{{ Math.floor(counter / (60 * 1000)) }}:</span>\r\n        <span>{{\r\n          counterTime.getSeconds() < 10 ? '0' + counterTime.getSeconds() : counterTime.getSeconds()\r\n        }}</span></strong\r\n      >\r\n    </div>\r\n    <!-- <kyonsvn-questions-progress class=\"w-full\" [progress]=\"testProgress\"></kyonsvn-questions-progress> -->\r\n    <div\r\n      #testContentElm\r\n      class=\"col rounded-lg bg-white p-4 overflow-y-auto md:overflow-hidden md:flex-1 max-h-[calc(100vh_-_200px)] md:max-h-fit\"\r\n    >\r\n      <div class=\"flex w-full justify-end gap-2\">\r\n        <button\r\n          #submitNow\r\n          data-tooltip-content=\"Bạn có thể ấn vào nút này để nộp bài ngay dù chưa hoàn tất bài kiểm tra\"\r\n          data-tooltip-position=\"bottom\"\r\n          class=\"btn-rounded btn-icon\"\r\n          (click)=\"testComplete()\"\r\n        >\r\n          <i class=\"icon-Submit\"></i>\r\n        </button>\r\n        <a\r\n          #report\r\n          data-tooltip-content=\"Nếu thấy câu hỏi bị sai hoặc làm bạn khó hiểu, hãy báo cho Kyons!\"\r\n          data-tooltip-position=\"bottom\"\r\n          class=\"btn-rounded btn-icon\"\r\n          href=\"https://forms.gle/b36mTdMWNRY1qkZh7\"\r\n          target=\"_blank\"\r\n          ><i class=\"icon-Error\"></i\r\n        ></a>\r\n      </div>\r\n      <kyonsvn-test-content\r\n        *ngIf=\"!isPending\"\r\n        [content]=\"testContent\"\r\n        [submission]=\"testSubmission\"\r\n        (progressEvent)=\"updateProgress($event)\"\r\n        (submissionEvent)=\"updateSubmission($event)\"\r\n        [currentIndex]=\"currentTestIndex\"\r\n        (currentIndexEvent)=\"currentTestIndex = $event\"\r\n        [isActive]=\"true\"\r\n        (completeCallback)=\"testComplete()\"\r\n        [showResult]=\"showResult\"\r\n        (showResultEvent)=\"showResult = $event\"\r\n        class=\"flex md:flex-1\"\r\n        [showTutorial]=\"tutorialPart === 1 || tutorialPart === 3 || tutorialPart === 5\"\r\n        [tutorialScript]=\"tutorialScript\"\r\n        [backTutorial]=\"preTutorial\"\r\n      ></kyonsvn-test-content>\r\n      <div class=\"justify-between hidden md:flex flex-col gap-3\">\r\n        <!-- <div class=\"hidden md:flex flex-1 gap-2\">\r\n          <strong class=\"uppercase\">Phím tắt:</strong>\r\n          <span>Bấm 1,2,3,4 chọn đáp án, bấm space sẽ làm tiếp hoặc nộp bài</span>\r\n        </div> -->\r\n        <div class=\"flex gap-4 items-center w-full overflow-hidden\">\r\n          <button (click)=\"scrollLeft()\" [disabled]=\"currentTestIndex === 0\" class=\"btn\">Câu trước</button>\r\n          <div\r\n            class=\"flex-1 flex gap-1 w-full overflow-hidden\"\r\n            #navigation\r\n            data-tooltip-content=\"Bạn cũng có thể chuyển đến câu hỏi mong muốn bằng cách nhấn vào số của câu hỏi\"\r\n          >\r\n            <button class=\"btn-rounded btn-icon\" (click)=\"previousPage()\"><i class=\"icon-ArrowLeft\"></i></button>\r\n            <div #scrollElm class=\"w-[calc(100%_-_92px)] overflow-x-auto flex gap-1 hide-scrollbar\">\r\n              <button\r\n                class=\"btn-rounded btn-icon\"\r\n                *ngFor=\"let question of testContent.questions; index as i\"\r\n                [ngClass]=\"{\r\n                  'fill-blue': i === currentTestIndex,\r\n                  'outline-blue': i !== currentTestIndex,\r\n                  'fill-black': testSubmission.hasAnswer(question.id)\r\n                }\"\r\n                (click)=\"currentTestIndex = i\"\r\n              >\r\n                {{ i + 1 }}\r\n              </button>\r\n            </div>\r\n            <button class=\"btn-icon btn-rounded\" (click)=\"nextPage()\"><i class=\"icon-ArrowRight\"></i></button>\r\n          </div>\r\n          <button\r\n            [ngClass]=\"{ hidden: currentTestIndex === testContent.questions.length - 1 }\"\r\n            (click)=\"scrollRight()\"\r\n            class=\"btn\"\r\n            #nextElm\r\n            data-tooltip-content=\"Bấm chọn nút này để chuyển sang câu hỏi tiếp theo nhé!\"\r\n          >\r\n            Câu kế tiếp\r\n          </button>\r\n          <button\r\n            [ngClass]=\"{ hidden: currentTestIndex !== testContent.questions.length - 1 }\"\r\n            #submit\r\n            data-tooltip-content=\"Bấm chọn nút này nộp bài bạn nhé!\"\r\n            (click)=\"testComplete()\"\r\n            class=\"btn\"\r\n          >\r\n            Nộp bài\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- <div class=\"ads-md\">\r\n      <span class=\"text-white\">Muốn luyện tập với vô hạn câu hỏi được tạo ra bởi Trí tuệ nhân tạo (AI)?</span>\r\n      <button class=\"btn btn-large\" (click)=\"showWaitlistPopup = true\">Đăng ký Danh sách chờ của Kyons!</button>\r\n    </div> -->\r\n    <div class=\"md:hidden w-full flex items-center justify-between gap-2 mb-20\">\r\n      <div\r\n        #navigationXs\r\n        data-tooltip-content=\"Bạn cũng có thể chuyển đến câu hỏi mong muốn bằng cách nhấn vào số của câu hỏi\"\r\n        class=\"flex gap-2 items-center w-full\"\r\n      >\r\n        <button (click)=\"scrollLeft()\" [disabled]=\"currentTestIndex === 0\" class=\"btn btn-icon\">\r\n          <i class=\"icon-ArrowLeft\"></i>\r\n        </button>\r\n        <!-- <a\r\n          class=\"btn-rounded btn-icon order-1 md:order-1\"\r\n          href=\"https://forms.gle/b36mTdMWNRY1qkZh7\"\r\n          target=\"_blank\"\r\n          #tooltip=\"matTooltip\"\r\n          matTooltip=\"Nội dung “có vấn đề”? Thông báo cho Kyons liền tay!\"\r\n          matTooltipPosition=\"above\"\r\n          matTooltipHideDelay=\"5000\"\r\n          matTooltipClass=\"above\"\r\n          aria-label=\"Button that displays a tooltip that hides when scrolled out of the container\"\r\n          ><i class=\"icon-Error\"></i\r\n        ></a> -->\r\n        <div #scrollXsElm class=\"max-w-[calc(100%_-_92px)] overflow-x-auto flex gap-[4px] hide-scrollbar\">\r\n          <button\r\n            class=\"btn-rounded btn-icon\"\r\n            *ngFor=\"let question of testContent.questions; index as i\"\r\n            [ngClass]=\"{\r\n              'fill-blue': i === currentTestIndex,\r\n              'outline-blue': i !== currentTestIndex,\r\n              'fill-black': testSubmission.hasAnswer(question.id)\r\n            }\"\r\n            (click)=\"currentTestIndex = i\"\r\n          >\r\n            {{ i + 1 }}\r\n          </button>\r\n        </div>\r\n        <button\r\n          [ngClass]=\"{ hidden: currentTestIndex !== testContent.questions.length - 1 }\"\r\n          #submitXs\r\n          data-tooltip-content=\"Bấm chọn nút này nộp bài bạn nhé!\"\r\n          (click)=\"testComplete()\"\r\n          class=\"btn btn-icon\"\r\n        >\r\n          <i class=\"icon-Submit\"></i>\r\n        </button>\r\n        <button\r\n          [ngClass]=\"{ hidden: currentTestIndex === testContent.questions.length - 1 }\"\r\n          (click)=\"scrollRight()\"\r\n          [disabled]=\"currentTestIndex === testContent.questions.length - 1\"\r\n          class=\"btn btn-icon\"\r\n          #nextElmXs\r\n          data-tooltip-content=\"Bấm chọn nút này để chuyển sang câu hỏi tiếp theo nhé!\"\r\n        >\r\n          <i class=\"icon-ArrowRight\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<student-loading *ngIf=\"isPending\"></student-loading>\r\n<kyonsvn-tutorial\r\n  *ngIf=\"tutorialPart === 0\"\r\n  [scriptElements]=\"[timeElm]\"\r\n  [scriptEvents]=\"[['click', startTime], null]\"\r\n  (skipCallback)=\"skip()\"\r\n></kyonsvn-tutorial>\r\n<kyonsvn-tutorial\r\n  *ngIf=\"tutorialPart === 2\"\r\n  [scriptElements]=\"[nextElm]\"\r\n  [scriptEvents]=\"[['click', nextTutorial], null]\"\r\n  [back]=\"preTutorial\"\r\n  class=\"hidden md:block\"\r\n  (skipCallback)=\"skip()\"\r\n></kyonsvn-tutorial>\r\n<kyonsvn-tutorial\r\n  *ngIf=\"tutorialPart === 2\"\r\n  [scriptElements]=\"[nextElmXs]\"\r\n  [scriptEvents]=\"[['click', nextTutorial], null]\"\r\n  [back]=\"preTutorial\"\r\n  class=\"md:hidden\"\r\n  (skipCallback)=\"skip()\"\r\n></kyonsvn-tutorial>\r\n<kyonsvn-tutorial\r\n  *ngIf=\"tutorialPart === 4\"\r\n  [scriptElements]=\"[navigation]\"\r\n  [scriptEvents]=\"[['click', nextTutorial], null]\"\r\n  [back]=\"preTutorial\"\r\n  class=\"hidden md:block\"\r\n  (skipCallback)=\"skip()\"\r\n></kyonsvn-tutorial>\r\n<kyonsvn-tutorial\r\n  *ngIf=\"tutorialPart === 4\"\r\n  [scriptElements]=\"[navigationXs]\"\r\n  [scriptEvents]=\"[['click', nextTutorial], null]\"\r\n  [back]=\"preTutorial\"\r\n  class=\"md:hidden\"\r\n  (skipCallback)=\"skip()\"\r\n></kyonsvn-tutorial>\r\n<kyonsvn-tutorial\r\n  *ngIf=\"tutorialPart === 5\"\r\n  [scriptElements]=\"[report]\"\r\n  [scriptEvents]=\"[['click', nextTutorial], null]\"\r\n  [back]=\"preTutorial\"\r\n  (skipCallback)=\"skip()\"\r\n></kyonsvn-tutorial>\r\n<kyonsvn-tutorial\r\n  *ngIf=\"tutorialPart === 6\"\r\n  [scriptElements]=\"[submit]\"\r\n  [scriptEvents]=\"[['click', nextTutorial], null]\"\r\n  [back]=\"preTutorial\"\r\n  class=\"hidden md:block\"\r\n  (skipCallback)=\"skip()\"\r\n></kyonsvn-tutorial>\r\n<kyonsvn-tutorial\r\n  *ngIf=\"tutorialPart === 6\"\r\n  [scriptElements]=\"[submitXs]\"\r\n  [scriptEvents]=\"[['click', nextTutorial], null]\"\r\n  [back]=\"preTutorial\"\r\n  class=\"md:hidden\"\r\n  (skipCallback)=\"skip()\"\r\n></kyonsvn-tutorial>\r\n<kyonsvn-tutorial\r\n  *ngIf=\"tutorialPart === 6\"\r\n  [scriptElements]=\"[submitNow]\"\r\n  [scriptEvents]=\"[['click', nextTutorial], null]\"\r\n  [back]=\"preTutorial\"\r\n  [isOverlap]=\"true\"\r\n  (skipCallback)=\"skip()\"\r\n></kyonsvn-tutorial>\r\n<div\r\n  *ngIf=\"showHavingTime\"\r\n  class=\"absolute top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 w-full md:w-[700px] items-center\">\r\n    <img src=\"/assets/images/testsubmit.webp\" alt=\"\" />\r\n    <div class=\"col w-full gap-6\">\r\n      <h5>Vẫn còn thời gian kiểm tra, bạn muốn nộp bài luôn?</h5>\r\n      <span\r\n        >Hãy xem bài kiểm tra thử này giống như kỳ thi thiệt mà làm bài thật nghiêm túc và tránh bị sai nhảm nha bạn ơi.\r\n        Càng cẩn thận, lộ trình học của Kyons tạo ra sẽ càng phù hợp với khả năng của bạn đó!</span\r\n      >\r\n      <button (click)=\"ignoreHavingTime = true; submitHavingTime()\" class=\"btn w-full\">Nộp bài luôn</button>\r\n      <button (click)=\"showHavingTime = false; ignoreIncomplete = false\" class=\"btn-rounded w-full\">\r\n        Cho mình kiểm tra lại\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"showIncomplete\"\r\n  class=\"absolute top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 w-full md:w-[700px] items-center\">\r\n    <img src=\"/assets/images/warning.webp\" alt=\"\" />\r\n    <div class=\"col w-full gap-6\">\r\n      <h5>Bạn vừa bỏ sót vài câu kìa!</h5>\r\n      <p>\r\n        Bạn đã bỏ sót vài câu kìa! Nếu bạn vẫn chọn nộp bài thì những câu đó sẽ tính là sai và ảnh hưởng đến lộ trình\r\n        học tập của bạn đó.\r\n      </p>\r\n      <p>Chắc chắn muốn nộp bài chứ?</p>\r\n      <button (click)=\"showIncomplete = false; ignoreHavingTime = false\" class=\"btn w-full\">Để mình làm tiếp</button>\r\n      <button (click)=\"ignoreIncomplete = true; submitIncomplete()\" class=\"btn-rounded w-full\">Nộp bài luôn</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  *ngIf=\"hasError === 'SubmittedMockTest'\"\r\n  class=\"absolute top-0 left-0 w-full h-screen bg-black bg-opacity-80 flex items-center justify-center\"\r\n>\r\n  <div class=\"col rounded-2xl bg-white gap-6 p-6 w-full md:w-[500px] items-center\">\r\n    <div class=\"col w-full gap-6\">\r\n      <h5 class=\"w-full text-center\">Bài kiểm tra đã hoàn thành</h5>\r\n      <p></p>\r\n      <button (click)=\"goToResult()\" class=\"btn w-full\">Xem kết quả</button>\r\n      <button (click)=\"goToReview()\" class=\"btn w-full\">Xem đáp án</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { formatCurrency, formatDate } from '@angular/common';\r\n\r\nfunction formattedPrice(price: number) {\r\n  return formatCurrency(price, 'vi', 'VND', undefined, '1.0-2');\r\n}\r\n\r\nfunction formattedDate(date: Date) {\r\n  return formatDate(date, 'dd/MM/yyyy HH:mm', 'vi');\r\n}\r\n\r\nexport { formattedPrice, formattedDate };\r\n","export const environment = {\r\n  production: false,\r\n  name: 'STUDENT',\r\n  isPromotionEnable: false,\r\n  serverApi: 'https://student-api-dev.kyons.vn',\r\n  origin: 'https://student-dev.kyons.vn',\r\n  firebase: {\r\n    apiKey: 'AIzaSyD1kg_RXC6PACtLW0GbHnECUtsfQd2gMt0',\r\n    authDomain: 'kyonsvn.firebaseapp.com',\r\n    projectId: 'kyonsvn',\r\n    storageBucket: 'kyonsvn.appspot.com',\r\n    messagingSenderId: '830127784291',\r\n    appId: '1:830127784291:web:0bc7e49b17cc5b981b5356',\r\n  },\r\n  vapidKey: 'BP-BjvXQUjaznK89An_nvZWRmP6PCQxIGQ9OexTGstwXGbTgdPy5jkFtr9SIBJpUXZOMzHnQ_1-PTq2_jVP4ylI',\r\n};\r\n","import { DEFAULT_CURRENCY_CODE, enableProdMode, LOCALE_ID } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nfunction bootstrap() {\r\n  // if (window.screen.width <= 768) {\r\n  //   const xhr = new XMLHttpRequest();\r\n  //   xhr.open('GET', '/assets/mobile-iframe.html');\r\n  //   xhr.onload = function () {\r\n  //     const pattern = /<body[^>]*>((.|[\\n\\r])*)<\\/body>/im;\r\n  //     const html = pattern.exec(xhr.responseText);\r\n  //     if (html) {\r\n  //       window.document.body.innerHTML = html[1];\r\n  //     }\r\n  //   };\r\n  //   xhr.send();\r\n  //   return;\r\n  // if (window.location.host == 'kyonsvn.web.app') window.location = 'https://kyonsvn.web.app/m';\r\n  // if (window.location.host == 'student.kyons.vn') window.location = 'https://kyonsvn.web.app/student';\r\n  // }\r\n  platformBrowserDynamic()\r\n    .bootstrapModule(AppModule, {\r\n      providers: [\r\n        { provide: LOCALE_ID, useValue: 'vi-VN' },\r\n        { provide: DEFAULT_CURRENCY_CODE, useValue: 'VND' },\r\n      ],\r\n    })\r\n    .catch(err => console.error(err));\r\n}\r\n\r\nif (document.readyState === 'complete') {\r\n  bootstrap();\r\n} else {\r\n  document.addEventListener('DOMContentLoaded', bootstrap);\r\n}\r\n","export * from './lib/exercise-content/exercise-content.component';\r\nexport * from './lib/input-radio/input-radio.component';\r\nexport * from './lib/questions-progress/questions-progress.component';\r\nexport * from './lib/test-content/test-content.component';\r\nexport * from './lib/test-review/test-review.component';\r\nexport * from './lib/tutorial/tutorial.component';\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, EventEmitter, HostListener, Input, OnDestroy, OnInit, Output } from '@angular/core';\r\nimport { OrderBySAPipe, SafeHtmlPipe } from '@share-pipes';\r\nimport { Answer, Progress, Question, Submission, answerPrefixes } from '@share-utils/data';\r\nimport { Subscription } from 'rxjs';\r\nimport { InputRadioComponent } from '../input-radio/input-radio.component';\r\n// import {\r\n//   answerPrefixes,\r\n//   TestContent\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [CommonModule, SafeHtmlPipe, InputRadioComponent, OrderBySAPipe],\r\n  selector: 'kyonsvn-exercise-content',\r\n  templateUrl: './exercise-content.component.html',\r\n  styleUrls: ['./exercise-content.component.scss'],\r\n})\r\nexport class ExerciseContentComponent implements OnInit, OnDestroy {\r\n  _addedList: number[] = [];\r\n  answerPrefixes!: string[];\r\n  conponentId = '';\r\n  subscription!: Subscription;\r\n\r\n  @Input() showResult = false;\r\n\r\n  @Input() progress!: Progress;\r\n  @Input() question!: Question;\r\n  @Output() contentEvent = new EventEmitter<Question[]>();\r\n\r\n  @Input() submission!: Submission;\r\n  @Output() submissionEvent = new EventEmitter<Submission>();\r\n\r\n  @Input() isActive!: boolean;\r\n\r\n  @Output() completeCallback = new EventEmitter<void>();\r\n\r\n  @HostListener('window:keyup', ['$event'])\r\n  keyEvent(e: KeyboardEvent) {\r\n    if (!this.isActive) return;\r\n\r\n    const currentSubmitDataLength = Object.keys(this.submission.submitData).length;\r\n    if (['1', '2', '3', '4'].includes(e.key)) {\r\n      // this.submission.submitData[question.id] = answers[parseInt(e.key) - 1].id;\r\n      // this.updateSubmitData(question.id, answers[parseInt(e.key) - 1].id)\r\n      // if (currentSubmitDataLength != Object.keys(this.submission.submitData).length) {\r\n      // this.progress.next();\r\n      // this.updateProgress(this.progress.value + 1);\r\n      // }\r\n    }\r\n    if (e.key == ' ') {\r\n      this.completeCallback.emit();\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.answerPrefixes = answerPrefixes;\r\n    this.conponentId = new Date().getTime().toString();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscription != undefined) this.subscription.unsubscribe();\r\n  }\r\n\r\n  // updateProgress(nextProgressValue: number) {\r\n  //   if (!this._addedList.includes(nextProgressValue)) {\r\n  //     this._addedList.push(nextProgressValue);\r\n  //     const newProgress = Progress.from(this.progress.value + 1, this.questions.length);\r\n  //     this.progress = newProgress;\r\n  //     this.progressEvent.emit(this.progress);\r\n  //   }\r\n  // }\r\n\r\n  getNextProgress(index: number) {\r\n    // return Math.round(((index + 1) / this.content.questions.length) * 100);\r\n    return index + 1;\r\n  }\r\n\r\n  updateSubmitData(questionId: string, answer: Answer) {\r\n    this.submission.submitData[questionId] = answer;\r\n    this.submissionEvent.emit(this.submission);\r\n  }\r\n}\r\n","<div *ngIf=\"question\" class=\"w-full\">\r\n  <p [id]=\"'qtutorial-' + question.id\" class=\"bg-white\"><span [innerHTML]=\"question.content | safeHtml\"></span></p>\r\n  <div *ngIf=\"!showResult; else elseBlock\" class=\"mt-2 flex flex-col gap-1\">\r\n    <kyonsvn-input-radio\r\n      [style.display]=\"ai > 3 ? 'none' : 'block'\"\r\n      *ngFor=\"let answer of question.answers | orderBySA : 'order'; let ai = index\"\r\n      (change)=\"updateSubmitData(question.id, answer)\"\r\n      [value]=\"answer\"\r\n      [label]=\"answerPrefixes[ai] + answer.content\"\r\n      [name]=\"'q-' + question.id + '-' + conponentId\"\r\n      [checked]=\"submission.submitData[question.id] === answer\"\r\n    ></kyonsvn-input-radio>\r\n  </div>\r\n  <ng-template #elseBlock class=\"\">\r\n    <div class=\"mt-2 flex flex-col gap-1\" *ngFor=\"let answer of question.answers; let ai = index\">\r\n      <div\r\n        *ngIf=\"submission.submitData[question.id] === answer || answer.isCorrect\"\r\n        class=\"flex gap-2 p-2 rounded-lg\"\r\n        [ngClass]=\"{\r\n          'bg-red-1 ': submission.submitData[question.id] === answer && !answer.isCorrect,\r\n          'bg-emerald-3 ': answer.isCorrect\r\n        }\"\r\n      >\r\n        <i *ngIf=\"submission.submitData[question.id] === answer && !answer.isCorrect\" class=\"icon-Error text-red-0\"></i>\r\n        <i *ngIf=\"answer.isCorrect\" class=\"icon-Check text-darkEmerald\"></i>\r\n        <div class=\"col flex-1\">\r\n          <span [innerHTML]=\"answer.content | safeHtml\"></span>\r\n          <span [innerHTML]=\"answer.explanation | safeHtml\"></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, Input } from '@angular/core';\r\nimport { SafeHtmlPipe } from '@share-pipes';\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [CommonModule, SafeHtmlPipe],\r\n  selector: 'kyonsvn-input-radio',\r\n  templateUrl: './input-radio.component.html',\r\n  styleUrls: ['./input-radio.component.scss'],\r\n})\r\nexport class InputRadioComponent {\r\n  @Input() name!: string;\r\n  @Input() value!: string;\r\n  @Input() label!: string;\r\n  @Input() disabled!: boolean;\r\n  @Input() checked!: boolean;\r\n  @Input() color!: string;\r\n  // el: HTMLElement;\r\n  // constructor(ref: ElementRef<HTMLElement>) {\r\n  //   this.el = ref.nativeElement;\r\n  // }\r\n}\r\n","<div class=\"flex items-center\">\r\n  <label class=\"radio flat\" [id]=\"'atutorial-' + value\">\r\n    <input [id]=\"name + value\" type=\"radio\" [name]=\"name\" [disabled]=\"disabled\" [checked]=\"checked\" />\r\n    <span [innerHTML]=\"label | safeHtml\"></span>\r\n  </label>\r\n  <!-- <input [id]=\"name + value\" type=\"radio\" [name]=\"name\" class=\"hidden\" [disabled]=\"disabled\" [checked]=\"checked\" />\r\n  <label [for]=\"name + value\" class=\"flex cursor-pointer px-1\">\r\n    <span\r\n      class=\"w-5 h-5 inline-block mr-2 rounded-full cursor-pointer border border-blueGrey-400 flex-shrink-0 lg:mt-1\"\r\n      [ngClass]=\"{\r\n        '!bg-darkRed': color === 'red',\r\n        '!bg-darkEmerald': color === 'green',\r\n        '!bg-primaryBlue': color === 'blue'\r\n      }\"\r\n    ></span>\r\n    <p\r\n      class=\"mb-2\"\r\n      [ngClass]=\"{\r\n        '!text-darkRed': color === 'red',\r\n        '!text-darkEmerald': color === 'green',\r\n        '!text-primaryBlue': color === 'blue'\r\n      }\"\r\n      [innerHTML]=\"label\"\r\n    ></p>\r\n  </label> -->\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, Input } from '@angular/core';\r\nimport { Progress } from '@share-utils/data';\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  selector: 'kyonsvn-questions-progress',\r\n  templateUrl: './questions-progress.component.html',\r\n  styleUrls: ['./questions-progress.component.scss'],\r\n})\r\nexport class QuestionsProgressComponent {\r\n  @Input() progress = Progress.from(0, 3);\r\n  @Input() hideLabel = false;\r\n}\r\n","<div class=\"progress-wrapper\">\r\n  <div class=\"progress-container\">\r\n    <div class=\"progressing\" [ngStyle]=\"{ width: (progress.value / progress.total) * 100 + '%' }\"></div>\r\n  </div>\r\n  <span *ngIf=\"!hideLabel\" class=\"label\">{{ progress.label }}&nbsp;</span>\r\n</div>\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostListener,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  ViewChild,\r\n} from '@angular/core';\r\n// import { Submission } from '@infrastructure/test/submission';\r\n// import {\r\n//   answerPrefixes,\r\n//   TestContent\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { OrderBySAPipe, SafeHtmlPipe } from '@share-pipes';\r\nimport { Answer, Progress, Submission, TestContent, answerPrefixes } from '@share-utils/data';\r\nimport { Subscription } from 'rxjs';\r\nimport { InputRadioComponent } from '../input-radio/input-radio.component';\r\nimport { TutorialComponent } from '../tutorial/tutorial.component';\r\n\r\nexport class AnswerTutorialScript {\r\n  value: string;\r\n  tooltipContent: string;\r\n  tooltipPosition: 'top' | 'bottom';\r\n  event: [string, () => void] | null;\r\n  constructor({\r\n    value,\r\n    tooltipContent,\r\n    tooltipPosition,\r\n    event,\r\n  }: {\r\n    value: string;\r\n    tooltipContent: string;\r\n    tooltipPosition?: 'top' | 'bottom';\r\n    event?: [string, () => void];\r\n  }) {\r\n    this.value = value;\r\n    this.tooltipContent = tooltipContent;\r\n    this.tooltipPosition = tooltipPosition ?? 'top';\r\n    this.event = event ?? null;\r\n  }\r\n}\r\n\r\nexport class QuestionTutorialScript {\r\n  tooltipContent: string;\r\n  scripts: AnswerTutorialScript[];\r\n  delay: number;\r\n  skipCallback: () => void;\r\n  constructor(\r\n    tooltipContent: string | null,\r\n    scripts: AnswerTutorialScript[],\r\n    skipCallback: () => void,\r\n    delay?: number\r\n  ) {\r\n    this.tooltipContent = tooltipContent ?? 'Đọc câu hỏi và chọn đáp án phù hợp';\r\n    this.scripts = scripts;\r\n    this.skipCallback = skipCallback;\r\n    this.delay = delay ?? 0;\r\n  }\r\n}\r\n\r\n@Component({\r\n  standalone: true,\r\n  imports: [CommonModule, InputRadioComponent, OrderBySAPipe, SafeHtmlPipe, TutorialComponent, FormsModule],\r\n  selector: 'kyonsvn-test-content',\r\n  templateUrl: './test-content.component.html',\r\n  styleUrls: ['./test-content.component.scss'],\r\n})\r\nexport class TestContentComponent implements OnInit, OnDestroy, OnChanges {\r\n  _addedList: number[] = [];\r\n  answerPrefixes!: string[];\r\n  conponentId = '';\r\n  subscription!: Subscription;\r\n  showTutorialWithDelay = false;\r\n  showGoTo = false;\r\n  goTo = 0;\r\n\r\n  @Input() showTutorial = false;\r\n  @Input() tutorialScript!: QuestionTutorialScript;\r\n  scriptElements!: HTMLElement[];\r\n  scriptEvents!: ([string, () => void] | null)[];\r\n\r\n  @Input() showResult = false;\r\n  @Output() showResultEvent = new EventEmitter<boolean>();\r\n\r\n  @Input() currentIndex!: number;\r\n  @Output() currentIndexEvent = new EventEmitter<number>();\r\n\r\n  progress = new Progress();\r\n  @Output() progressEvent = new EventEmitter<Progress>();\r\n\r\n  @Input() content!: TestContent;\r\n  @Output() contentEvent = new EventEmitter<TestContent>();\r\n\r\n  @Input() submission!: Submission;\r\n  @Output() submissionEvent = new EventEmitter<Submission>();\r\n\r\n  @Input() isActive!: boolean;\r\n\r\n  @Output() nextCallback = new EventEmitter<void>();\r\n  @Output() previousCallback = new EventEmitter<void>();\r\n\r\n  @Input() backTutorial?: () => void;\r\n\r\n  @ViewChild('goToElm') goToElm!: ElementRef;\r\n\r\n  @HostListener('window:keyup', ['$event'])\r\n  keyEvent(e: KeyboardEvent) {\r\n    if (!this.isActive) return;\r\n\r\n    const question = this.content.questions[this.currentIndex];\r\n    const answers = question.answers;\r\n    const currentSubmitDataLength = Object.keys(this.submission.submitData).length;\r\n    if (['1', '2', '3', '4'].includes(e.key)) {\r\n      if (this.showResult) {\r\n        return;\r\n      }\r\n      // this.submission.submitData[question.id] = answers[parseInt(e.key) - 1].id;\r\n      this.updateSubmitData(question.id, answers[parseInt(e.key) - 1]);\r\n\r\n      if (currentSubmitDataLength != Object.keys(this.submission.submitData).length) {\r\n        // this.progress.next();\r\n        this.updateProgress(this.progress.value + 1);\r\n      }\r\n    }\r\n    if (e.key == ' ') {\r\n      // if (!this.showResult) {\r\n      //   this.showResult = true;\r\n      //   this.showResultEvent.emit(this.showResult);\r\n      //   return;\r\n      // } else {\r\n      //   this.showResult = false;\r\n      //   this.showResultEvent.emit(this.showResult);\r\n      // }\r\n      // if (currentSubmitDataLength == this.content.questions.length) {\r\n      if (e.shiftKey) {\r\n        if (this.currentIndex > 0) {\r\n          this.currentIndex--;\r\n        }\r\n      } else {\r\n        if (this.currentIndex < this.content.questions.length - 1) {\r\n          this.currentIndex++;\r\n        }\r\n      }\r\n\r\n      // } else {\r\n      //   if (this.progress.value > this.currentIndex) {\r\n      //     this.currentIndex++;\r\n      //   }\r\n      // }\r\n    }\r\n    if (e.key == 'g') {\r\n      this.goTo = this.currentIndex + 1;\r\n      this.showGoTo = true;\r\n      setTimeout(() => {\r\n        this.goToElm.nativeElement.focus();\r\n      }, 100);\r\n    }\r\n    if (e.key == 'Escape') {\r\n      if (this.showGoTo) this.showGoTo = false;\r\n      if (document.activeElement != null) (document.activeElement as HTMLElement).blur();\r\n    }\r\n    if (e.key == 'ArrowLeft') {\r\n      if (this.currentIndex > 0) {\r\n        this.currentIndex--;\r\n      }\r\n    }\r\n    if (e.key == 'ArrowRight') {\r\n      if (this.currentIndex < this.content.questions.length - 1) {\r\n        this.currentIndex++;\r\n      }\r\n    }\r\n    this.currentIndexEvent.emit(this.currentIndex);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.answerPrefixes = answerPrefixes;\r\n    this.conponentId = new Date().getTime().toString();\r\n    // if (this.showTutorial) {\r\n    //   setTimeout(() => {\r\n    //     this.content.questions.map((question, index) => {\r\n    //       question.answers.map(answer => {\r\n    //         if (this.tutorialScript.scripts[index].value == answer.value) {\r\n    //           const elm = new ElementRef(document.getElementById(`${this.conponentId}-${question.id}-${answer.id}`));\r\n    //           if (elm.nativeElement == null) return;\r\n    //           elm.nativeElement?.setAttribute(\r\n    //             'data-tooltip-content',\r\n    //             this.tutorialScript.scripts[index].tooltipContent\r\n    //           );\r\n    //           this.scriptElements.push(elm.nativeElement);\r\n    //           this.scriptEvents.push(this.tutorialScript.scripts[index].event ?? null);\r\n    //         }\r\n    //       });\r\n    //     });\r\n    //   }, this.tutorialScript.delay);\r\n    // }\r\n    this.goTo = this.currentIndex + 1;\r\n  }\r\n\r\n  goToIndex() {\r\n    this.currentIndex = this.goTo - 1;\r\n    this.currentIndexEvent.emit(this.currentIndex);\r\n    this.showGoTo = false;\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['showTutorial'] && changes['showTutorial'].currentValue) {\r\n      // setTimeout(() => {\r\n      // this.showTutorialWithDelay = true;\r\n      const scriptElements: HTMLElement[] = [];\r\n      const scriptEvents: ([string, () => void] | null)[] = [];\r\n      this.content.questions.map((question, index) => {\r\n        question.answers.map(answer => {\r\n          if (!this.tutorialScript.scripts[index]) return;\r\n          if (this.currentIndex !== index) return;\r\n          if (this.tutorialScript.scripts[index].value == answer.value) {\r\n            // const questionElm = new ElementRef(document.getElementById(`qtutorial-${question.id}`));\r\n            const answerElm = new ElementRef(document.getElementById(`atutorial-${answer.id}`));\r\n            if (answerElm.nativeElement == null) return;\r\n            // if (questionElm.nativeElement == null) return;\r\n            // questionElm.nativeElement?.setAttribute('data-tooltip-content', this.tutorialScript.tooltipContent);\r\n            answerElm.nativeElement?.setAttribute(\r\n              'data-tooltip-content',\r\n              this.tutorialScript.scripts[index].tooltipContent\r\n            );\r\n            // scriptElements.push(questionElm.nativeElement);\r\n            scriptElements.push(answerElm.nativeElement);\r\n            scriptEvents.push(this.tutorialScript.scripts[index].event);\r\n          }\r\n        });\r\n      });\r\n      this.scriptElements = scriptElements;\r\n      scriptEvents.push(null);\r\n      this.scriptEvents = scriptEvents;\r\n      // }, 1000);\r\n    } else if (changes['showTutorial'] && !changes['showTutorial'].currentValue) {\r\n      this.showTutorialWithDelay = false;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscription != undefined) this.subscription.unsubscribe();\r\n  }\r\n\r\n  updateProgress(nextProgressValue: number) {\r\n    if (!this._addedList.includes(nextProgressValue)) {\r\n      this._addedList.push(nextProgressValue);\r\n      const newProgress = Progress.from(this.progress.value + 1, this.content.questions.length);\r\n      this.progress = newProgress;\r\n      this.progressEvent.emit(this.progress);\r\n    }\r\n  }\r\n\r\n  getNextProgress(index: number) {\r\n    // return Math.round(((index + 1) / this.content.questions.length) * 100);\r\n    return index + 1;\r\n  }\r\n\r\n  updateSubmitData(questionId: string, answer: Answer) {\r\n    this.submission.submitData[questionId] = answer;\r\n    this.submissionEvent.emit(this.submission);\r\n  }\r\n}\r\n","<div *ngIf=\"content\" class=\"w-full col\">\r\n  <div\r\n    *ngFor=\"let question of content.questions; let qi = index\"\r\n    class=\"mb-4\"\r\n    [ngClass]=\"{ 'block ': qi === currentIndex, 'hidden ': qi !== currentIndex }\"\r\n  >\r\n    <p [id]=\"'qtutorial-' + question.id\" class=\"bg-white\"><span [innerHTML]=\"question.content | safeHtml\"></span></p>\r\n    <div *ngIf=\"!showResult; else elseBlock\" class=\"mt-2 flex flex-col gap-1\">\r\n      <kyonsvn-input-radio\r\n        [style.display]=\"ai > 3 ? 'none' : 'block'\"\r\n        *ngFor=\"let answer of question.answers | orderBySA : 'order'; let ai = index\"\r\n        (change)=\"updateProgress(getNextProgress(qi)); updateSubmitData(question.id, answer)\"\r\n        [value]=\"answer\"\r\n        [label]=\"answerPrefixes[ai] + answer.content\"\r\n        [name]=\"'q-' + question.id + '-' + conponentId\"\r\n        [checked]=\"submission.submitData[question.id] === answer\"\r\n      ></kyonsvn-input-radio>\r\n    </div>\r\n    <ng-template #elseBlock class=\"\">\r\n      <div class=\"mt-2 flex flex-col gap-1\" *ngFor=\"let answer of question.answers; let ai = index\">\r\n        <div\r\n          *ngIf=\"submission.submitData[question.id] === answer || answer.isCorrect\"\r\n          class=\"flex gap-2 p-2 rounded-lg\"\r\n          [ngClass]=\"{\r\n            'bg-red-1 ': submission.submitData[question.id] === answer && !answer.isCorrect,\r\n            'bg-emerald-3 ': answer.isCorrect\r\n          }\"\r\n        >\r\n          <i\r\n            *ngIf=\"submission.submitData[question.id] === answer && !answer.isCorrect\"\r\n            class=\"icon-Error text-red-0\"\r\n          ></i>\r\n          <i *ngIf=\"answer.isCorrect\" class=\"icon-Check text-darkEmerald\"></i>\r\n          <div class=\"col flex-1\">\r\n            <span [innerHTML]=\"answer.content | safeHtml\"></span>\r\n            <span [innerHTML]=\"answer.explanation | safeHtml\"></span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ng-template>\r\n  </div>\r\n  <kyonsvn-tutorial\r\n    *ngIf=\"showTutorial\"\r\n    ()=\"tutorialScript!.skipCallback()\"\r\n    [scriptElements]=\"scriptElements\"\r\n    [scriptEvents]=\"scriptEvents\"\r\n    [back]=\"backTutorial\"\r\n  ></kyonsvn-tutorial>\r\n</div>\r\n<div *ngIf=\"showGoTo\" class=\"fixed top-0 left-0 w-full h-full flex items-center justify-center\">\r\n  <div\r\n    class=\"absolute top-0 left-0 w-full h-full flex items-center justify-center z-10\"\r\n    (click)=\"showGoTo = false\"\r\n  ></div>\r\n  <div class=\"bg-white rounded-sm z-20\">\r\n    <form #f=\"ngForm\">\r\n      <div class=\"flex items-center gap-2\">\r\n        <b>Đến câu:</b\r\n        ><input\r\n          class=\"w-20\"\r\n          type=\"number\"\r\n          [(ngModel)]=\"goTo\"\r\n          #goToElm\r\n          name=\"goTo\"\r\n          [max]=\"content.questions.length\"\r\n          min=\"1\"\r\n        /><button type=\"submit\" class=\"btn\" (click)=\"goToIndex()\">Go</button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectionStrategy, Component, HostBinding, Input, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'kyonsvn-test-review',\r\n  templateUrl: './test-review.component.html',\r\n  styleUrls: ['./test-review.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class TestReviewHtmlComponent implements OnInit {\r\n  @HostBinding('class') class = 'flex flex-col gap-4';\r\n\r\n  @Input() reviewRenderObject!: any[];\r\n\r\n  ngOnInit(): void {\r\n    this.reviewRenderObject = this.reviewRenderObject.map(review => {\r\n      review.isOpen = false;\r\n      return review;\r\n    });\r\n  }\r\n}\r\n","<h4>Kiến thức cần xem lại</h4>\r\n<div *ngFor=\"let review of reviewRenderObject\">\r\n  <div class=\"flex justify-between items-center cursor-pointer\" (click)=\"review.isOpen = !review.isOpen\">\r\n    <div>{{ review.topic }}</div>\r\n    <button\r\n      class=\"flex transition-transform text-orange\"\r\n      [style.transform]=\"review.isOpen ? 'rotateX(180deg)' : 'rotateX(0deg)'\"\r\n    >\r\n      <i class=\"icon-ArrowDown\"></i>\r\n    </button>\r\n  </div>\r\n  <!-- <mat-divider></mat-divider> -->\r\n  <div class=\"flex flex-col gap-4 transition-all overflow-hidden mt-2\" [style.height]=\"review.isOpen ? 'auto' : 0\">\r\n    <div class=\"flex flex-col gap-2\" *ngFor=\"let question of review.questions; let qi = index\">\r\n      <p class=\"h7\">Câu {{ qi + 1 }}</p>\r\n      <span [innerHTML]=\"question.content\"></span>\r\n      <div class=\"flex bg-red-1 rounded-lg p-2 gap-2\">\r\n        <i class=\"icon-Error text-red-0\"></i>\r\n        <span class=\"flex-1\">{{ question.selected }}</span>\r\n      </div>\r\n      <div class=\"flex bg-emerald-3 rounded-lg p-2 gap-2\">\r\n        <i class=\"icon-Check text-darkEmerald\"></i>\r\n        <span class=\"flex-1\">{{ question.right }}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { AfterViewInit, Component, ElementRef, EventEmitter, Input, OnDestroy, Output, ViewChild } from '@angular/core';\r\nimport { Observable, Subscription, fromEvent } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'kyonsvn-tutorial',\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  template: `<div\r\n    #homeTutorialWrapper\r\n    class=\"fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 z-[100]\"\r\n    [ngStyle]=\"{ height: isOverlap ? 0 : undefined }\"\r\n  >\r\n    <div #homeTutorial class=\"tooltip-wrapper absolute\" style=\"top:50%;left:50%\">\r\n      <div\r\n        #tutorialContainer\r\n        class=\"tooltip-container p-2 bg-lightBlue-1 rounded-lg text-white col gap-2 w-[225px]\"\r\n        [ngClass]=\"{\r\n          'caret-down': tooltipPosition === 'top',\r\n          'caret-up': tooltipPosition === 'bottom'\r\n        }\"\r\n      >\r\n        <span>{{ tooltipContent }}</span>\r\n        <div class=\"flex items-center justify-between\">\r\n          <div class=\"flex gap-2\" *ngIf=\"scriptElements\">\r\n            <button (click)=\"pre()\" [disabled]=\"step === 0 && back === undefined\" class=\"btn-icon\">\r\n              <i class=\"icon-ArrowLeft\"></i>\r\n            </button>\r\n            <button (click)=\"next()\" [disabled]=\"step === scriptEvents.length - 1\" class=\"btn-icon\">\r\n              <i class=\"icon-ArrowRight\"></i>\r\n            </button>\r\n          </div>\r\n          <button *ngIf=\"forceComplete === false\" (click)=\"skip()\" replaceUrl=\"true\">Bỏ qua</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>`,\r\n  styles: [\r\n    `\r\n      .tooltip-wrapper {\r\n        transition: all 500ms ease 0s;\r\n        opacity: 0;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class TutorialComponent implements AfterViewInit, OnDestroy {\r\n  @ViewChild('homeTutorialWrapper') homeTutorialWrapperElm!: ElementRef;\r\n  @ViewChild('homeTutorial') tooltipElm!: ElementRef;\r\n  @Input() scriptElements!: HTMLElement[];\r\n  @Input() scriptEvents!: ([string, () => void] | null)[];\r\n  @Input() back?: () => void;\r\n  @Input() isOverlap?: boolean = false;\r\n  @Input() forceComplete?: boolean = false;\r\n  @Output() skipCallback = new EventEmitter<void>();\r\n\r\n  resizeObservable$!: Observable<Event>;\r\n  resizeSubscription$!: Subscription;\r\n  scriptElement!: HTMLElement;\r\n  tooltipContent = 'Tooltip content';\r\n  tooltipPosition = 'top';\r\n  step = 0;\r\n  hasListener = false;\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.forceComplete == undefined) {\r\n      this.forceComplete = window.localStorage.getItem('forceCompleteTutorial') == 'true';\r\n    }\r\n    if (!this.scriptElements || this.scriptElements.length == 0) return;\r\n    window.document.body.style.overflow = 'hidden';\r\n    this._render();\r\n\r\n    this.resizeObservable$ = fromEvent(window, 'resize');\r\n    this.resizeSubscription$ = this.resizeObservable$.subscribe(evt => {\r\n      this._rearrangeElement();\r\n    });\r\n  }\r\n\r\n  // ngOnChanges(changes: SimpleChanges): void {\r\n  //   if (changes['scriptElements'].currentValue) {\r\n  //     window.document.body.style.overflow = 'hidden';\r\n  //     this._render();\r\n\r\n  //     this.resizeObservable$ = fromEvent(window, 'resize');\r\n  //     this.resizeSubscription$ = this.resizeObservable$.subscribe(evt => {\r\n  //       this._rearrangeElement();\r\n  //     });\r\n  //   }\r\n  // }\r\n\r\n  _getOffsetParent(element: HTMLElement): HTMLElement {\r\n    return element.offsetParent as HTMLElement;\r\n  }\r\n\r\n  _rearrangeElement() {\r\n    const scriptElement: HTMLElement = this.scriptElements[this.step];\r\n    const scriptEvent = this.scriptEvents[this.step];\r\n    scriptElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n    // window.scrollTo({\r\n    //   top: scriptElement.offsetTop,\r\n    //   left: scriptElement.offsetLeft,\r\n    //   behavior: 'instant',\r\n    // });\r\n    setTimeout(() => {\r\n      if (this.scriptElement != undefined) {\r\n        // this.scriptElement.removeEventListener('onclick', () => scriptEvent);\r\n        this.scriptElement.remove();\r\n        // this.scriptElement.clear;\r\n      }\r\n      this.scriptElement = scriptElement.cloneNode(true) as HTMLElement;\r\n      // this.scriptElement = document.createElement('TUTORIAL-PLACEHOLDER');\r\n      // this.scriptElement.innerHTML = scriptElement.innerHTML;\r\n      this.scriptElement.style.position = 'absolute';\r\n      this.scriptElement.id = 'scriptElement' + this.scriptElement.id;\r\n      this.scriptElement.style.width = scriptElement.offsetWidth + 1 + 'px';\r\n      this.scriptElement.style.height = scriptElement.offsetHeight + 'px';\r\n      const offsetParents = [];\r\n      let temp: HTMLElement = scriptElement;\r\n      while (this._getOffsetParent(temp) != undefined) {\r\n        temp = this._getOffsetParent(temp);\r\n        offsetParents.push(temp);\r\n      }\r\n      const left = offsetParents.reduce((acc, cur) => acc + cur.offsetLeft, scriptElement.offsetLeft);\r\n      const top = offsetParents.reduce((acc, cur) => acc + cur.offsetTop, scriptElement.offsetTop);\r\n      this.scriptElement.style.top = (top - window.scrollY).toString() + 'px';\r\n      this.scriptElement.style.left = left + 'px';\r\n      this.scriptElement.querySelector('input')?.removeAttribute('name');\r\n      this.scriptElement.querySelector('input')?.removeAttribute('id');\r\n      this.scriptElement.removeAttribute('href');\r\n\r\n      if (scriptEvent && scriptEvent[0] == 'click') {\r\n        // Hard code for click event fire only 1\r\n        let isClicked = false;\r\n        this.scriptElement.onclick = () => {\r\n          if (isClicked) return;\r\n          isClicked = true;\r\n          scriptEvent[1]();\r\n          if (this.step < this.scriptEvents.length - 1) {\r\n            this.step++;\r\n            if (this.step < this.scriptElements.length) this._render();\r\n          } else {\r\n            window.document.body.removeAttribute('style');\r\n          }\r\n        };\r\n      } else if (scriptEvent && scriptEvent[0] == 'change') {\r\n        this.scriptElement.onchange = () => {\r\n          console.log('changed');\r\n          scriptEvent[1]();\r\n          if (this.step < this.scriptEvents.length - 1) {\r\n            this.step++;\r\n            this._render();\r\n          }\r\n        };\r\n      } else {\r\n        // console.log('scriptElement', this.scriptElement);\r\n        // if (this.scriptElement.tagName == 'TUTORIAL-PLACEHOLDER' && scriptEvent && this.scriptElement.onclick == null) {\r\n        //   // Hard code for click event fire only 1\r\n        //   let isClicked = false;\r\n        //   this.scriptElement.onclick = () => {\r\n        //     if (isClicked) return;\r\n        //     isClicked = true;\r\n        //     scriptEvent();\r\n        //     if (this.step < this.scriptEvents.length - 1) {\r\n        //       this.step++;\r\n        //       this._render();\r\n        //     }\r\n        //   };\r\n        // }\r\n      }\r\n      if ((this.homeTutorialWrapperElm.nativeElement as HTMLElement).children.length === 1)\r\n        this.homeTutorialWrapperElm.nativeElement.appendChild(this.scriptElement);\r\n\r\n      const tooltipElm = this.tooltipElm.nativeElement;\r\n      if (this.tooltipPosition == 'bottom') {\r\n        tooltipElm.style.top = (top + scriptElement.offsetHeight + 20 - window.scrollY).toString() + 'px';\r\n      } else {\r\n        tooltipElm.style.top = (top - tooltipElm.clientHeight - 20 - window.scrollY).toString() + 'px';\r\n      }\r\n      // this.scriptElement.style.top = scriptElement.offsetTop - window.scrollY + 'px';\r\n      // this.scriptElement.style.left = scriptElement.offsetLeft + 'px';\r\n\r\n      const tooltipLeft = left - tooltipElm.offsetWidth / 2 + scriptElement.offsetWidth / 2;\r\n      tooltipElm.style.setProperty('--caret-left', '50%');\r\n      tooltipElm.style.setProperty('--caret-right', '50%');\r\n\r\n      if (window.innerWidth < tooltipLeft + tooltipElm.offsetWidth) {\r\n        const newTooltipLeft = window.innerWidth - tooltipElm.offsetWidth;\r\n        tooltipElm.style.left = newTooltipLeft + 'px';\r\n        // tooltipElm.querySelector('.caret-up::after').style.left = 0 + 'px';\r\n        const caretLeft = left - newTooltipLeft + scriptElement.offsetWidth / 2;\r\n        tooltipElm.style.setProperty('--caret-left', caretLeft + 'px');\r\n        tooltipElm.style.setProperty(\r\n          '--caret-right',\r\n          window.innerWidth - tooltipLeft - tooltipElm.offsetWidth / 2 + 'px'\r\n        );\r\n      } else if (tooltipLeft < 0) {\r\n        tooltipElm.style.left = '0px';\r\n        tooltipElm.style.setProperty(\r\n          '--caret-right',\r\n          tooltipElm.offsetWidth - left - scriptElement.offsetWidth / 2 + 'px'\r\n        );\r\n        tooltipElm.style.setProperty('--caret-left', left + scriptElement.offsetWidth / 2 + 'px');\r\n      } else {\r\n        tooltipElm.style.left = tooltipLeft + 'px';\r\n      }\r\n      tooltipElm.style.opacity = '1';\r\n    }, 400);\r\n  }\r\n\r\n  skip() {\r\n    window.document.body.removeAttribute('style');\r\n    this.skipCallback.emit();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.resizeSubscription$) this.resizeSubscription$.unsubscribe();\r\n  }\r\n\r\n  pre() {\r\n    if (this.step == 0) {\r\n      if (this.back != undefined) this.back();\r\n      return;\r\n    }\r\n    // this._trigger();\r\n    this.step--;\r\n    this._render();\r\n  }\r\n\r\n  next() {\r\n    this._trigger();\r\n    if (this.step == this.scriptElements.length - 1) return;\r\n    this.step++;\r\n    this._render();\r\n  }\r\n\r\n  _render() {\r\n    setTimeout(() => {\r\n      this.tooltipContent = this.scriptElements[this.step].getAttribute('data-tooltip-content') ?? 'Tooltip content';\r\n      this.tooltipPosition = this.scriptElements[this.step].getAttribute('data-tooltip-position') ?? 'top';\r\n      this._rearrangeElement();\r\n    }, 200);\r\n  }\r\n\r\n  _trigger() {\r\n    const event = this.scriptEvents[this.step];\r\n    if (event != null) {\r\n      {\r\n        event[1]();\r\n      }\r\n    }\r\n  }\r\n}\r\n","export * from './lib/filter.pipe';\r\nexport * from './lib/keys.pipe';\r\nexport * from './lib/order-by-sa.pipe';\r\nexport * from './lib/order-by.pipe';\r\nexport * from './lib/safe-html.pipe';\r\nexport * from './lib/share-pipes.module';\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'filter',\r\n  standalone: true\r\n})\r\nexport class FilterPipe implements PipeTransform {\r\n\r\n  transform(items: any[], callback: (item: any) => boolean): any {\r\n    if (!items || !callback) {\r\n      return items;\r\n    }\r\n    return items.filter(item => callback(item));\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\n\r\n@Pipe({ name: 'keys' })\r\nexport class KeysPipe implements PipeTransform {\r\n  transform(value: { [x: string]: any; }): any {\r\n    const keys = [];\r\n    for (const key in value) {\r\n      keys.push({ key: key, value: value[key] });\r\n    }\r\n    return keys;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { orderBy, sortBy } from 'lodash-es';\r\n\r\n@Pipe({\r\n  standalone: true,\r\n  name: 'orderBySA',\r\n  pure: false,\r\n})\r\nexport class OrderBySAPipe implements PipeTransform {\r\n\r\n  transform(value: any[], order = '', column: string = ''): any[] {\r\n    if (!value || order === '' || !order) { return value; } // no array\r\n    if (!column || column === '') { return sortBy(value); } // sort 1d array\r\n    if (value.length <= 1) { return value; } // array with only one item\r\n    return orderBy(value, [column], [order === '' ?? 'asc']);\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { orderBy, sortBy } from 'lodash-es';\r\n\r\n@Pipe({\r\n  name: 'orderBy',\r\n})\r\nexport class OrderByPipe implements PipeTransform {\r\n\r\n  transform(value: any[], order = '', column: string = ''): any[] {\r\n    if (!value || order === '' || !order) { return value; } // no array\r\n    if (!column || column === '') { return sortBy(value); } // sort 1d array\r\n    if (value.length <= 1) { return value; } // array with only one item\r\n    return orderBy(value, [column], [order === '' ?? 'asc']);\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({ standalone: true, name: 'safeHtml' })\r\nexport class SafeHtmlPipe implements PipeTransform {\r\n  constructor(private sanitized: DomSanitizer) { }\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  transform(value: any) {\r\n    return this.sanitized.bypassSecurityTrustHtml(value);\r\n  }\r\n}","import { NgModule } from '@angular/core';\r\nimport { KeysPipe } from './keys.pipe';\r\nimport { OrderBySAPipe } from './order-by-sa.pipe';\r\nimport { OrderByPipe } from './order-by.pipe';\r\n\r\n@NgModule({\r\n  imports: [OrderBySAPipe],\r\n  declarations: [OrderByPipe, KeysPipe],\r\n  exports: [OrderByPipe, KeysPipe, OrderBySAPipe],\r\n})\r\nexport class SharePipesModule { }\r\n","export * from '../knowledge/data';\r\nexport * from '../test/data';\r\n\r\n","export * from '../knowledge/domain';\r\nexport * from '../test/domain';\r\n","// import { ICategory } from '../../domain/knowledge/i-category';\r\n\r\nimport { ICategory } from \"../domain/i-category\";\r\n\r\nexport class Category implements ICategory {\r\n  id: string;\r\n  name: string;\r\n\r\n  constructor({ id, name }: { id: string; name: string }) {\r\n    this.id = id;\r\n    this.name = name;\r\n  }\r\n\r\n  static empty(): Category {\r\n    return new Category({ id: '', name: '' });\r\n  }\r\n\r\n  static fromJson(json: any): Category {\r\n    return new Category({ 'id': json.id.toString(), 'name': json.name });\r\n  }\r\n}\r\n","export * from '../../test/data/submission';\r\nexport * from './category';\r\nexport * from './progress';\r\nexport * from './topic';\r\n","import { IProgress } from \"../../event\";\r\n\r\n\r\nexport class Progress implements IProgress {\r\n  value = 0;\r\n  label = '';\r\n  total = 1;\r\n\r\n  static from(value: number, total: number) {\r\n    const result = new Progress();\r\n    result.value = value;\r\n    let valueLength = value.toString().length;\r\n    let valuePrefix = '';\r\n    while (total.toString().length > valueLength) {\r\n      valuePrefix += '0';\r\n      valueLength++;\r\n    }\r\n\r\n    result.label = `${valuePrefix}${value}/${total}`;\r\n    result.total = total;\r\n    return result;\r\n  }\r\n\r\n  next() {\r\n    this.value++;\r\n    let valueLength = this.value.toString().length;\r\n    let valuePrefix = '';\r\n    while (this.total.toString().length > valueLength) {\r\n      valuePrefix += '0';\r\n      valueLength++;\r\n    }\r\n    this.label = `${valuePrefix}${this.value}/${this.total}`;\r\n  }\r\n\r\n  isComplete() {\r\n    return this.value == this.total;\r\n  }\r\n}","import { ITopic } from \"../domain\";\r\n\r\nexport class Topic implements ITopic {\r\n  id: string;\r\n  name: string;\r\n  checked = false;\r\n\r\n  constructor({ id, name }: { id: string; name: string }) {\r\n    this.id = id;\r\n    this.name = name;\r\n  }\r\n\r\n  static empty(): Topic {\r\n    return new Topic({ id: '', name: '' });\r\n  }\r\n\r\n  static fromJson(json: any): Topic {\r\n    return new Topic({ 'id': json.id.toString(), 'name': json.name });\r\n  }\r\n}\r\n","export * from './i-category';\r\nexport * from './i-submission';\r\nexport * from './i-topic';\r\n","import { formatDate } from '@angular/common';\r\nimport { ISubmission } from '../../knowledge/domain/i-submission';\r\nimport { Answer } from './test-content';\r\n\r\nexport class Submission implements ISubmission {\r\n  start: Date = new Date();\r\n  private _submitData: { [questionId: string]: Answer } = {};\r\n\r\n  private _end: Date = new Date();\r\n  private _testId = '';\r\n  public get testId(): string {\r\n    return this._testId;\r\n  }\r\n  public set testId(value: string) {\r\n    this._testId = value;\r\n  }\r\n  public get end(): Date {\r\n    return this._end;\r\n  }\r\n  public set end(value: Date) {\r\n    this._end = value;\r\n  }\r\n  public get submitData(): { [questionId: string]: Answer } {\r\n    return this._submitData;\r\n  }\r\n  public set submitData(value: { [questionId: string]: Answer }) {\r\n    this._submitData = value;\r\n  }\r\n  public hasAnswer(questionId: string): boolean {\r\n    return this.submitData[questionId] !== undefined;\r\n  }\r\n  reset() {\r\n    this._submitData = {};\r\n  }\r\n\r\n  public toJson(): any {\r\n    const result: any = {};\r\n    const submission = {\r\n      questions: Object.keys(this.submitData).map(questionId => {\r\n        return {\r\n          id: Number(questionId),\r\n          answer: {\r\n            id: this.submitData[questionId].id,\r\n            value: this.submitData[questionId].value,\r\n          },\r\n        };\r\n      }),\r\n    };\r\n    result.start_time = formatDate(this.start, 'yyyy-MM-dd H:m:s', 'en_US');\r\n    result.end_time = formatDate(this.end, 'yyyy-MM-dd H:m:s', 'en_US');\r\n    result.submission = submission;\r\n    return result;\r\n  }\r\n}\r\nexport class SubmissionHtml {\r\n  start: Date = new Date();\r\n  private _submitData: { [questionId: string]: string } = {};\r\n  // private _submitData: string[][] = [];\r\n\r\n  private _end: Date = new Date();\r\n  private _testId = '';\r\n  public get testId(): string {\r\n    return this._testId;\r\n  }\r\n  public set testId(value: string) {\r\n    this._testId = value;\r\n  }\r\n  public get end(): Date {\r\n    return this._end;\r\n  }\r\n  public set end(value: Date) {\r\n    this._end = value;\r\n  }\r\n  public get submitData(): { [questionId: string]: string } {\r\n    return this._submitData;\r\n  }\r\n  public set submitData(value: { [questionId: string]: string }) {\r\n    this._submitData = { ...this._submitData, ...value };\r\n  }\r\n  public hasAnswer(questionId: string): boolean {\r\n    return this.submitData[questionId] !== undefined;\r\n  }\r\n  reset() {\r\n    this._submitData = {};\r\n  }\r\n\r\n  public toJson(): any {\r\n    const result: any = {};\r\n    //   {\r\n    //     \"id\": 100,\r\n    //     \"user_response\": \"[[0]]\",\r\n    //     \"user_response_ui\": [[\"0\"]],\r\n    //     \"time_taken\": 100\r\n    // },\r\n    const submission = Object.keys(this.submitData).map(questionId => {\r\n      return {\r\n        id: Number(questionId),\r\n        question: Number(questionId),\r\n        user_response: `[[${this.submitData[questionId]}]]` as string,\r\n        user_response_ui: [[this.submitData[questionId]]] as string[][],\r\n        time_taken: Math.floor((this.end.getTime() - this.start.getTime()) / 1000),\r\n      };\r\n    });\r\n    result.id = Number(this.testId);\r\n    result.start_time = formatDate(this.start, 'yyyy-MM-dd H:m:s', 'en_US');\r\n    result.end_time = formatDate(this.end, 'yyyy-MM-dd H:m:s', 'en_US');\r\n    result.data = submission;\r\n    return result;\r\n  }\r\n}\r\n","// import { IMockTestItem, MockTestStatus } from '@domain/knowledge/i-mock-test';\r\n// // import { environment } from '@environments/environment';\r\nimport { pick } from 'lodash-es';\r\nimport { IAnswer, IAnswerResult, IAnswerReview, IQuestion, ITestContent, ITestResult, TestType } from '../domain';\r\nimport { MockTestStatus } from '../domain/i_test_content';\r\n// import {\r\n//   IAnswer,\r\n//   IAnswerResult,\r\n//   IAnswerReview,\r\n//   IQuestionHtml,\r\n//   ITestContent,\r\n//   ITestResultHtml,\r\n//   TestType\r\n// } from '../../domain/knowledge/i-test';\r\n// import { Category } from '../knowledge/category';\r\n// import { Topic } from '../knowledge/topic';\r\n\r\n// export enum MockTestStatus {\r\n//   new,\r\n//   pending,\r\n//   error,\r\n// }\r\n\r\nexport class TestContentHtml {\r\n  id: string;\r\n  questions: QuestionHtml[];\r\n  done: boolean;\r\n  status: MockTestStatus;\r\n  constructor({\r\n    id,\r\n    content,\r\n    done,\r\n    status,\r\n  }: {\r\n    id: string;\r\n    content: QuestionHtml[];\r\n    done: boolean;\r\n    status: MockTestStatus;\r\n  }) {\r\n    this.id = id;\r\n    this.questions = content;\r\n    this.done = done;\r\n    this.status = status;\r\n  }\r\n  static fromJson(dataObject: any): TestContentHtml {\r\n    const _ = pick(dataObject, ['id', 'content', 'done', 'status']);\r\n    _.id = dataObject['test_id'] ?? '';\r\n    _.content = [];\r\n    _.content =\r\n      dataObject['data'] !== undefined\r\n        ? (dataObject['data'] as any[]).map((questionObject: any) => QuestionHtml.fromJson(questionObject))\r\n        : [];\r\n    _.status = MockTestStatus[dataObject['status'] as keyof typeof MockTestStatus];\r\n\r\n    return new TestContentHtml(_);\r\n  }\r\n\r\n  static empty(): TestContentHtml {\r\n    return new TestContentHtml({ id: '', content: [], done: false, status: MockTestStatus.pending });\r\n  }\r\n}\r\n\r\nexport class ExerciseHtml {\r\n  progress?: number;\r\n  questions: QuestionHtml[];\r\n  constructor({ questions }: { questions: QuestionHtml[] }) {\r\n    this.questions = questions;\r\n  }\r\n  static fromJson(dataObject: any): ExerciseHtml {\r\n    const _ = pick(dataObject, ['questions']);\r\n    _.questions = (dataObject['questions'] as any[]).map((questionObject: any) =>\r\n      QuestionHtml.fromJson(questionObject)\r\n    );\r\n    return new ExerciseHtml(_);\r\n  }\r\n\r\n  static empty() {\r\n    return new ExerciseHtml({ questions: [] });\r\n  }\r\n}\r\n\r\nexport class QuestionHtml {\r\n  id: string;\r\n  content: string;\r\n  answers = ['0', '1', '2', '3'];\r\n  html: string;\r\n  form?: HTMLFormElement;\r\n  hint?: string;\r\n\r\n  constructor({ id, content, html, hint }: { id: string; content: string; html: string; hint?: string }) {\r\n    this.id = id;\r\n    this.content = content;\r\n    this.html = html;\r\n    this.hint = hint;\r\n  }\r\n\r\n  static fromJson(dataObject: any): QuestionHtml {\r\n    const _ = pick(dataObject, ['id', 'content', 'html', 'hint']);\r\n    _.id = (_.id as number).toString();\r\n    _.content = dataObject['question'] ?? '';\r\n    _.html = dataObject['answers'] ?? '';\r\n    _.hint = dataObject['hint'];\r\n    return new QuestionHtml(_);\r\n  }\r\n\r\n  static empty() {\r\n    return new QuestionHtml({ id: '', content: '', html: '' });\r\n  }\r\n}\r\n\r\n// class AnswerResult {\r\n//   categories: { [key: string]: number };\r\n//   topics: { [key: string]: number };\r\n//   score: number;\r\n//   maxScore: { [key: string]: number };\r\n//   topicWrongQuestionHtmls: { [key: string]: Array<string> };\r\n//   constructor({\r\n//     categories,\r\n//     topics,\r\n//     score,\r\n//     maxScore,\r\n//     topicWrongQuestionHtmls,\r\n//   }: {\r\n//     categories: { [key: string]: number };\r\n//     topics: { [key: string]: number };\r\n//     score: number;\r\n//     maxScore: { [key: string]: number };\r\n//     topicWrongQuestionHtmls: { [key: string]: Array<string> };\r\n//   }) {\r\n//     this.categories = categories;\r\n//     this.topics = topics;\r\n//     this.score = score;\r\n//     this.maxScore = maxScore;\r\n//     this.topicWrongQuestionHtmls = topicWrongQuestionHtmls;\r\n//   }\r\n// }\r\n\r\n// class AnswerReview implements IAnswerReview {\r\n//   selectedAnswers: string[];\r\n//   rightAnswers: string[];\r\n//   constructor({\r\n//     selectedAnswers,\r\n//     rightAnswers,\r\n//   }: {\r\n//     selectedAnswers: string[];\r\n//     rightAnswers: string[];\r\n//   }) {\r\n//     this.selectedAnswers = selectedAnswers;\r\n//     this.rightAnswers = rightAnswers;\r\n//   }\r\n// }\r\n\r\n// export enum MockTestStatus {\r\n//   new,\r\n//   mock_test_submitted,\r\n//   learning_path_activated,\r\n// }\r\n\r\nexport class MockTestResult {\r\n  id: string;\r\n  score: number;\r\n  status: MockTestStatus;\r\n  shareReferral?: string;\r\n  createdAt: Date;\r\n\r\n  constructor({\r\n    id,\r\n    score,\r\n    status,\r\n    createdAt,\r\n  }: {\r\n    id: string;\r\n    score: number;\r\n    status: MockTestStatus;\r\n    createdAt: Date;\r\n  }) {\r\n    this.id = id;\r\n    this.score = score;\r\n    this.status = status;\r\n    this.createdAt = createdAt;\r\n  }\r\n\r\n  static fromJson(dataObject: any): MockTestResult {\r\n    const _ = pick(dataObject, ['id', 'score', 'status', 'createdAt']);\r\n    _.id = dataObject['id'].toString();\r\n    _.score = dataObject['score'] ?? 0;\r\n    _.createdAt = new Date(dataObject['created_at']);\r\n    _.status = MockTestStatus[dataObject['status'] as keyof typeof MockTestStatus];\r\n    const shareReferral = dataObject['mocktest_referral'] ?? '';\r\n    const result = new MockTestResult(_);\r\n    if (shareReferral !== '') {\r\n      result.shareReferral = shareReferral;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  static empty(): MockTestResult {\r\n    return new MockTestResult({ id: '', score: 0, status: MockTestStatus.pending, createdAt: new Date() });\r\n  }\r\n}\r\n\r\n// class MockTestItem implements IMockTestItem {\r\n//   id: string;\r\n//   createdDate: Date;\r\n//   status: MockTestStatus;\r\n//   score?: number;\r\n//   index?: number;\r\n//   constructor({\r\n//     id,\r\n//     createdDate,\r\n//     status,\r\n//     score,\r\n//     index\r\n//   }: {\r\n//     id: string;\r\n//     createdDate: Date;\r\n//     status: MockTestStatus;\r\n//     score?: number;\r\n//     index?: number;\r\n//   }) {\r\n//     this.id = id;\r\n//     this.createdDate = createdDate;\r\n//     this.status = status;\r\n//     this.score = score;\r\n//     this.index = index;\r\n//   }\r\n//   static fromJson(dataObject: any, index?: number): MockTestItem {\r\n//     const _ = pick(dataObject, ['id', 'createdDate', 'status', 'score', 'index']);\r\n//     _.createdDate = new Date(dataObject['created_date']);\r\n//     _.status = MockTestStatus[dataObject['status'] as keyof typeof MockTestStatus];\r\n//     _.index = index;\r\n//     return new MockTestItem(_);\r\n//   }\r\n// }\r\n\r\n// const answerPrefixes = ['A. ', 'B. ', 'C. ', 'D. ', 'E. ', 'F. '];\r\n// export { TestContent, answerPrefixes, TestResultHtml, AnswerResult, MockTestItem };\r\n\r\nexport class TestReviewHtml {\r\n  data: Array<QuestionReview>;\r\n  constructor(data: Array<QuestionReview>) {\r\n    this.data = data;\r\n  }\r\n\r\n  static fromJson(dataObject: any): TestReviewHtml {\r\n    const data = (dataObject['data'] as any[]).map((questionObject: any) => QuestionReview.fromJson(questionObject));\r\n    return new TestReviewHtml(data);\r\n  }\r\n\r\n  static empty() {\r\n    return new TestReviewHtml([]);\r\n  }\r\n}\r\n\r\nexport class QuestionReview {\r\n  id: string;\r\n  content: string;\r\n  html: string;\r\n  explanation: string;\r\n  isCorrectAnswer: boolean;\r\n  constructor({\r\n    id,\r\n    question,\r\n    answers,\r\n    explanation,\r\n    isCorrect,\r\n  }: {\r\n    id: string;\r\n    question: string;\r\n    answers: string;\r\n    explanation: string;\r\n    isCorrect: boolean;\r\n  }) {\r\n    this.id = id;\r\n    this.content = question;\r\n    this.html = answers;\r\n    this.explanation = explanation;\r\n    this.isCorrectAnswer = isCorrect;\r\n  }\r\n\r\n  static fromJson(dataObject: any): QuestionReview {\r\n    const _ = pick(dataObject, ['id', 'question', 'answers', 'explanation', 'isCorrect', 'hint']);\r\n    _.id = dataObject['id'].toString();\r\n    _.question = dataObject['question'] ?? '';\r\n    _.answers = dataObject['answers'] ?? '';\r\n    _.explanation = dataObject['explanation'] ?? '';\r\n    _.isCorrect = dataObject['answer_status'] as boolean;\r\n    return new QuestionReview(_);\r\n  }\r\n\r\n  static empty(): QuestionReview {\r\n    return new QuestionReview({\r\n      id: '',\r\n      question: '',\r\n      answers: '',\r\n      explanation: '',\r\n      isCorrect: false,\r\n    });\r\n  }\r\n}\r\nclass TestContent implements ITestContent {\r\n  id: string;\r\n  topicName: string;\r\n  questions: Question[];\r\n  done: boolean;\r\n  status: MockTestStatus;\r\n  constructor({\r\n    id,\r\n    questions,\r\n    done,\r\n    topicName,\r\n    status,\r\n  }: {\r\n    id: string;\r\n    questions: Question[];\r\n    done: boolean;\r\n    topicName: string;\r\n    status: MockTestStatus;\r\n  }) {\r\n    this.id = id;\r\n    this.questions = questions;\r\n    this.done = done ?? false;\r\n    this.topicName = topicName;\r\n    this.status = status;\r\n  }\r\n  static fromJson(dataObject: any): TestContent {\r\n    const _ = pick(dataObject, [\r\n      'id',\r\n      'content',\r\n      'test_id',\r\n      'questions',\r\n      'done',\r\n      'learning_point_name',\r\n      'topicName',\r\n      'status',\r\n    ]);\r\n    _.id = _.test_id ?? '';\r\n    _.topicName = _.learning_point_name ?? '';\r\n    // _.content = [];\r\n    _.questions =\r\n      _.questions !== undefined ? _.questions.map((questionObject: any) => Question.fromJson(questionObject)) : [];\r\n\r\n    _.status = MockTestStatus[dataObject['status'] as keyof typeof MockTestStatus];\r\n\r\n    return new TestContent(_);\r\n  }\r\n\r\n  static empty(): TestContent {\r\n    return new TestContent({ id: '', questions: [], done: false, topicName: '', status: MockTestStatus.pending });\r\n  }\r\n}\r\n\r\nclass Exercise {\r\n  questions: Question[];\r\n  progress: number;\r\n  constructor({ questions, progress }: { questions: Question[]; progress: number }) {\r\n    this.progress = progress;\r\n    this.questions = questions;\r\n  }\r\n  static fromJson(dataObject: any): Exercise {\r\n    const _ = pick(dataObject, ['questions', 'progress', 'lesson_percentage']);\r\n    _.questions = dataObject['questions'].map((questionObject: any) => Question.fromJson(questionObject));\r\n    _.progress = _.lesson_percentage ?? 0;\r\n\r\n    return new Exercise(_);\r\n  }\r\n\r\n  static empty(): Exercise {\r\n    return new Exercise({ questions: [], progress: 0 });\r\n  }\r\n}\r\n\r\nenum DifficultyLevel {\r\n  easy,\r\n  medium,\r\n  hard,\r\n}\r\n\r\nclass Question implements IQuestion {\r\n  id: string;\r\n  content: string;\r\n  hint?: string;\r\n  difficulty?: DifficultyLevel;\r\n  // topic: Topic;\r\n  answers: Answer[];\r\n\r\n  constructor({\r\n    id,\r\n    content,\r\n    answers,\r\n    hint,\r\n    difficulty,\r\n  }: // category,\r\n  // topic,\r\n  {\r\n    id: string;\r\n    content: string;\r\n    answers: Answer[];\r\n    // category: Category;\r\n    // topic: Topic;\r\n    hint?: string;\r\n    difficulty?: DifficultyLevel;\r\n  }) {\r\n    this.id = id;\r\n    this.content = content;\r\n    this.answers = answers;\r\n    this.hint = hint;\r\n    this.difficulty = difficulty;\r\n    // this.topic = topic;\r\n  }\r\n\r\n  static fromJson(dataObject: any): Question {\r\n    const _ = pick(dataObject, [\r\n      'id',\r\n      'content',\r\n      'answers',\r\n      'hint',\r\n      'difficulty',\r\n      // 'category_id',\r\n      // 'topic_name',\r\n      // 'topic_id',\r\n      // 'category',\r\n      // 'topic',\r\n    ]);\r\n    // _.content = dataObject['question'] ?? '';\r\n    _.id = (_.id as number).toString();\r\n    // _.answers = [];\r\n    _.answers = dataObject['answers'].map((answerObject: any) => Answer.fromJson(answerObject));\r\n    // _.category = Category.fromJson({\r\n    //   id: _.category_id,\r\n    //   name: _.category_name,\r\n    // });\r\n    // _.topic = Topic.fromJson({ id: _.topic_id, name: _.topic_name });\r\n    // _.content = dataObject['question'];\r\n    _.difficulty = DifficultyLevel[dataObject['difficulty'] as keyof typeof DifficultyLevel];\r\n    return new Question(_);\r\n  }\r\n\r\n  static empty(): Question {\r\n    return new Question({ id: '', content: '', answers: [], hint: '', difficulty: DifficultyLevel.easy });\r\n  }\r\n}\r\n\r\nclass Answer implements IAnswer {\r\n  id: string;\r\n  order: number;\r\n  value: string;\r\n  content: string;\r\n  isCorrect: boolean;\r\n  explanation: string;\r\n  constructor({\r\n    id,\r\n    order,\r\n    value,\r\n    content,\r\n    isCorrect,\r\n    explanation,\r\n  }: {\r\n    id: string;\r\n    order: number;\r\n    value: string;\r\n    content: string;\r\n    isCorrect: boolean;\r\n    explanation: string;\r\n  }) {\r\n    this.id = id;\r\n    this.order = order;\r\n    this.value = value;\r\n    this.content = content;\r\n    this.isCorrect = isCorrect;\r\n    this.explanation = explanation;\r\n  }\r\n\r\n  static fromJson(dataObject: any): Answer {\r\n    const _ = pick(dataObject, ['id', 'order', 'value', 'content', 'is_correct', 'isCorrect', 'explanation']);\r\n    // _.id = dataObject['id'] ? dataObject['id'].toString() : '';\r\n    // _.value = (_.value as number).toString();\r\n    _.isCorrect = _.is_correct ?? false;\r\n    // TODO: Remove hardcode\r\n    // _.id = new Date().getTime().toString();\r\n    // _.content = '<b><u><i>Answer content</i></u></b>';\r\n    // _.value = _.id;\r\n    return new Answer(_);\r\n  }\r\n}\r\n\r\nclass AnswerResult implements IAnswerResult {\r\n  categories: { [key: string]: number };\r\n  topics: { [key: string]: number };\r\n  score: number;\r\n  maxScore: { [key: string]: number };\r\n  topicWrongQuestions: { [key: string]: Array<string> };\r\n  constructor({\r\n    categories,\r\n    topics,\r\n    score,\r\n    maxScore,\r\n    topicWrongQuestions,\r\n  }: {\r\n    categories: { [key: string]: number };\r\n    topics: { [key: string]: number };\r\n    score: number;\r\n    maxScore: { [key: string]: number };\r\n    topicWrongQuestions: { [key: string]: Array<string> };\r\n  }) {\r\n    this.categories = categories;\r\n    this.topics = topics;\r\n    this.score = score;\r\n    this.maxScore = maxScore;\r\n    this.topicWrongQuestions = topicWrongQuestions;\r\n  }\r\n}\r\n\r\nclass AnswerReview implements IAnswerReview {\r\n  selectedAnswers: string[];\r\n  rightAnswers: string[];\r\n  constructor({ selectedAnswers, rightAnswers }: { selectedAnswers: string[]; rightAnswers: string[] }) {\r\n    this.selectedAnswers = selectedAnswers;\r\n    this.rightAnswers = rightAnswers;\r\n  }\r\n}\r\n\r\nclass TestResult implements ITestResult {\r\n  score: number;\r\n  result: AnswerResult;\r\n  review: AnswerReview;\r\n  ordinalNumber: number;\r\n  type: TestType;\r\n  shareReferral?: string;\r\n\r\n  constructor({\r\n    score,\r\n    result,\r\n    review,\r\n    type,\r\n    ordinalNumber,\r\n  }: {\r\n    score: number;\r\n    result: AnswerResult;\r\n    review: AnswerReview;\r\n    type: TestType;\r\n    ordinalNumber: number;\r\n  }) {\r\n    this.score = score;\r\n    this.result = result;\r\n    this.review = review;\r\n    this.ordinalNumber = ordinalNumber;\r\n    this.type = type;\r\n  }\r\n\r\n  static fromJson({\r\n    total_score,\r\n    result,\r\n    review,\r\n    type,\r\n    order_number,\r\n    mocktest_referral,\r\n  }: {\r\n    total_score: number;\r\n    result: any[];\r\n    review: any;\r\n    type: string;\r\n    order_number: number;\r\n    mocktest_referral?: string;\r\n  }): TestResult {\r\n    const maxScore = result.reduce((pre: { [key: string]: number }, element: { [key: string]: any }) => {\r\n      pre[element['category_id'].toString()] = (pre[element['category_id'].toString()] ?? 0) + 1;\r\n      return pre;\r\n    }, {});\r\n    maxScore['total'] = result.length;\r\n    const categoryToScoreMap: { [key: string]: number } = result.reduce(\r\n      (pre: { [key: string]: number }, element: { [key: string]: any }) => {\r\n        pre[element['category_id'].toString()] = (pre[element['category_id'].toString()] ?? 0) + element['score'];\r\n        return pre;\r\n      },\r\n      {}\r\n    );\r\n    const topicToScoreMap: { [key: string]: number } = result\r\n      // .filter(r => r.score == 1)\r\n      .reduce((pre: { [key: string]: number }, element: { [key: string]: any }) => {\r\n        pre[element['topic_id'].toString()] = (pre[element['topic_id'].toString()] ?? 0) + element['score'];\r\n        return pre;\r\n      }, {});\r\n    const topicWrongQuestionMap: { [key: string]: string[] } = result.reduce(\r\n      (pre: { [key: string]: string[] }, element: { [key: string]: any }) => {\r\n        if (element['score'] == 0) {\r\n          pre[element['topic_id'].toString()] = pre[element['topic_id'].toString()] ?? [];\r\n          pre[element['topic_id'].toString()].push(element['question_id'].toString());\r\n        }\r\n        return pre;\r\n      },\r\n      {}\r\n    );\r\n    const resultScore = result.map(r => r['score']).reduce((pre, current) => pre + current);\r\n\r\n    const answerResult = new AnswerResult({\r\n      categories: categoryToScoreMap,\r\n      topics: topicToScoreMap,\r\n      maxScore: maxScore,\r\n      score: resultScore,\r\n      topicWrongQuestions: topicWrongQuestionMap,\r\n    });\r\n\r\n    const answerReview = new AnswerReview({\r\n      selectedAnswers: review['selected_answer'].map((e: number) => e.toString()),\r\n      rightAnswers: review['right_answer'].map((e: number) => e.toString()),\r\n    });\r\n\r\n    const testResult = new TestResult({\r\n      score: total_score,\r\n      result: answerResult,\r\n      review: answerReview,\r\n      type: <TestType>TestType[type as keyof typeof TestType],\r\n      ordinalNumber: order_number,\r\n    });\r\n\r\n    if (testResult.type == TestType.Mock) {\r\n      testResult.shareReferral = mocktest_referral ?? '';\r\n    }\r\n\r\n    return testResult;\r\n  }\r\n\r\n  isFirst() {\r\n    return this.ordinalNumber == 1;\r\n  }\r\n\r\n  canShare() {\r\n    return this.type == TestType.Mock && this.shareReferral != '';\r\n  }\r\n\r\n  getShareableMockTestLink() {\r\n    // const origin = window.location.hostname == 'localhost' ? 'http://localhost:4200' : environment.origin;\r\n    return this.type == TestType.Mock ? `/share-mocktest/${this.shareReferral}` : '';\r\n  }\r\n}\r\n\r\nconst answerPrefixes = ['Đáp án 1: ', 'Đáp án 2: ', 'Đáp án 3: ', 'Đáp án 4: ', 'Đáp án 5: ', 'Đáp án 6: '];\r\nexport { Answer, AnswerResult, Exercise, Question, TestContent, TestResult, answerPrefixes };\r\n","// import { ICategory } from '../../infrastructure/knowledge/category';\r\n// import { ITopic } from '../../infrastructure/knowledge/topic';\r\n\r\ninterface ITestContent {\r\n  id: string;\r\n  questions: IQuestion[];\r\n  done: boolean;\r\n}\r\n\r\ninterface IQA {\r\n  question: IQuestion;\r\n}\r\n\r\ninterface IQuestion {\r\n  id: string;\r\n  content: string;\r\n  answers: IAnswer[];\r\n  // category: ICategory;\r\n  // topic: ITopic;\r\n}\r\n\r\ninterface IAnswer {\r\n  id: string;\r\n  order: number;\r\n  value: string;\r\n  content: string;\r\n  isCorrect: boolean;\r\n  explanation: string;\r\n}\r\n\r\nenum TestType {\r\n  Mock,\r\n  Lesson,\r\n  Exercise,\r\n}\r\n\r\ninterface ITestResult {\r\n  score: number;\r\n  result: IAnswerResult;\r\n  review: IAnswerReview;\r\n  ordinalNumber: number;\r\n  type: TestType;\r\n  shareReferral?: string;\r\n\r\n  isFirst: () => boolean;\r\n  canShare: () => boolean;\r\n  getShareableMockTestLink?: () => string;\r\n}\r\n\r\ninterface IAnswerResult {\r\n  categories: { [key: string]: number };\r\n  topics: { [key: string]: number };\r\n  score: number;\r\n  maxScore: { [key: string]: number };\r\n  topicWrongQuestions: { [key: string]: Array<string> };\r\n}\r\n\r\ninterface IAnswerReview {\r\n  selectedAnswers: Array<string>;\r\n  rightAnswers: Array<string>;\r\n}\r\n\r\nexport { ITestContent, IQA, IQuestion, IAnswer, ITestResult, TestType, IAnswerResult, IAnswerReview };\r\n","export enum MockTestStatus {\r\n  new,\r\n  pending,\r\n  active,\r\n  mock_test_submitted,\r\n  learning_path_received,\r\n  learning_path_activated,\r\n  learning_path_deactivated,\r\n}\r\n","export * from './i-test';\r\nexport * from './i_test_content';\r\n"],"names":["RouterModule","routes","AppRoutingModule","_","_2","_3","forRoot","anchorScrolling","imports","i1","exports","NavigationEnd","Router","AuthService","AppComponent","constructor","authService","router","class","title","isAuthenticated","ngOnInit","getToken","events","subscribe","val","i0","ɵɵdirectiveInject","i2","selectors","hostVars","hostBindings","AppComponent_HostBindings","rf","ctx","ɵɵelement","HttpClientModule","LOCALE_ID","importProvidersFrom","VAPID_KEY","FormsModule","ReactiveFormsModule","BrowserModule","BrowserAnimationsModule","FilterPipe","SafeHtmlPipe","SharePipesModule","player","NgCircleProgressModule","LottieModule","DEFAULT_TIMEOUT","authInterceptorProviders","MaterialModule","SvgModule","AccountPageComponent","NewLessonPageComponent","PackagePageComponent","PageNotFoundComponent","TestComponent","AppInputComponent","IvyCarouselModule","ConfirmDialogComponent","InputRadioComponent","LoadingComponent","SubjectCardComponent","QuestionsProgressComponent","ScoreBarComponent","TestContentComponent","TestReviewComponent","TopMenuComponent","TrackingComponent","registerLocaleData","localeEN","localeVN","initializeApp","provideFirebaseApp","FIREBASE_OPTIONS","environment","notificationServiceProvider","LayoutFullComponent","SelectTopicComponent","NgChartsModule","LayoutDefaultComponent","AdaptiveTestComponent","NewUserComponent","playerFactory","AppModule","bootstrap","provide","useValue","vapidKey","firebase","withServerTransition","appId","radius","space","outerStrokeGradient","outerStrokeWidth","outerStrokeColor","innerStrokeColor","innerStrokeWidth","titleFontSize","subtitleFontSize","animateTitle","animationDuration","showUnits","showBackground","clockwise","startFromZero","lazy","declarations","i3","i4","RouterOutlet","sandboxAccounts","Gift","id","name","fromJson","json","pick","Promotion","isWon","claimCode","gifts","map","jsonGift","MockTestStatus","RedirectAfterLogin","Program","Subject","data","createdAt","Date","programs","User","email","firstName","lastName","phone","replace","HttpBackend","HttpClient","HttpHeaders","IAuthCredential","DBHelper","catchError","KnowledgeService","TrackingService","UserService","TOKEN_HEADER_KEY","serverApi","TOKEN_KEY","REFRESH_TOKEN_KEY","USER_ROLE","http","userService","trackingService","knowledgeService","backend","signIn","credential","includes","window","localStorage","setItem","removeItem","post","toJson","pipe","handleError","Error","error","message","setToken","setRefreshToken","updateCurrentUser","init","signOut","getItem","request","get","next","unsubscribe","removeToken","removeRefreshToken","removeCurrentUser","resetTracking","removeSelectedProgram","removeSelectedLearningGoal","getRefreshToken","refreshToken","contentType","options","headers","set","ɵɵinject","factory","ɵfac","providedIn","HTTP_INTERCEPTORS","HttpErrorResponse","HttpEvent","HttpHandler","HttpRequest","InjectionToken","lastValueFrom","of","throwError","timeout","NavigationService","AuthInterceptor","auth","navService","defaultTimeout","paths","intercept","req","authReq","token","clone","timeoutValue","timeoutValueNumeric","Number","handle","ErrorEvent","console","log","status","handleRefreshToken","operation","result","forceSignOut","setTimeout","navigate","path","redirectToHome","home","then","value","access_token","undefined","e","useClass","multi","inject","GiftService","getPromotion","event","Category","empty","toString","LearningGoal","StudentLearningGoal","SELECTED_PROGRAM_KEY","SELECTED_LEARNING_GOAL_KEY","SELECTED_STUDENT_LEARNING_GOAL_KEY","SELECTED_CATEGORY_ID","getLearningGoalList","collection","length","item","getSubjects","getPrograms","selectProgram","program","JSON","stringify","learningGoal","selectLearningGoal","getSelectedProgram","parse","getSelectedLearningGoal","selectStudentLearningGoal","getStudentLearningGoal","selectCategoryId","getSelectedCategoryId","getStudentLearningGoals","res","LessonItem","LearningGoalPath","progress","lessonCategories","dataObject","parseInt","lCJson","LearningGoalCategory","isEmpty","isCompleted","getCategories","l","category","getUncompletedLearningGoalCategories","filter","getLearningGoalCategoryById","categoryId","lGC","lessons","lessonCategoryObjectList","MockTestTemplate","maxTopic","minTopic","canSelectTopic","mockTestTemplates","totalQuestions","duration","checked","mockTestTemplateJson","programName","completePercentage","order","subjectId","HttpParams","MockTestItem","TestReviewHtml","LearningPoint","LessonGroup","LessonService","getLearningGoalMockTest","learningGoalId","i","getList","getDetail","submitExercise","lessonId","submission","getReviewHtml","getLearningPoint","params","createLesson","lPDIds","learning_point_difficulty_ids","program_id","activateLearningPath","mockTestId","Topic","isNew","waiting","complete","LearningPath","lessonList","completed","difficultyId","learningPoint","topic","lastScore","learning_point","difficulty_id","topic_id","topic_name","latest_score","dataObjects","LessonCategory","Lesson","content","learningPointId","difficultyLevel","learningPointDifficultyId","subject_id","isNotEmpty","Overlay","ComponentPortal","LoadingOverlayService","overlay","_isActive","overlayRef","create","show","spinnerOverlayPortal","attach","hide","detach","AppPaths","getRouteAfterLogin","redirectString","HomePage","learningPath","DiagnosticTest","classProgram","MockTest","mockTest","ReferralMockTest","mockTestTest","HomeAppTutorial","queryParams","tutorial","AngularFireMessaging","SERVICE_WORKER","NotificationService","messaging","messages","useFactory","navigator","serviceWorker","register","scope","formattedPrice","Balance","formatedValue","Inventory","subscription","mock_test","toTime","totalhours","days","Math","floor","hours","roundedHours","minutes","getTime","Package","Transaction","TransactionList","OrderService","getInventories","getBalance","balance","getTransaction","total","list","getPackages","orderPackage","packageId","quantity","getFreeTrial","description","discount","limit","items","price","salePrice","formatedSalePrice","Discount","itemObject","PackageItem","DiscountType","type","amount","PackageServiceType","service","String","PackageService","formattedDate","packageName","formatedTime","formatedAmount","createdDate","score","index","getFormattedDate","Exercise","MockTestResult","TestContent","TestResult","TestService","getDiagnosticTest","selectedProgram","getTest","getTestResult","skipTest","getExercise","submitTest","testId","getLearningGoal","collections","getTopicsOfLearningGoal","submitTopics","topicIds","mockTestTemplateId","master_id","topic_list","str","mock_test_template_id","getMockTest","getShareMockTestInfoFromRef","ref","given_name","total_score","learning_goal","fromUsername","getMockTestReviewHtml","getMockTestResult","getProbabilityIndex","toFixed","v4","uuidv4","DEVICE_ID_KEY","trackingThreshold","deviceId","_deviceId","generateDeviceId","updateTrackOnApp","getTracking","resetTrackingOnApp","setTrackingOnApp","on_total","updateTrackOnLesson","trackingType","lessonTracking","getTrackingLesson","Object","keys","resetTrackingOnLesson","setTrackingOnLesson","updateTracking","lesson_id","tracking","trackingLesson","getDeviceId","start","learningGoalPath","learningGoalPath2","mickTestItems","lessonDetail","exercises","resultHtml","studentLearningGoals","mockTestResult","probabilitiIndex","probabilitiIndex2","mockTestReview","TutorialService","completeTutorial","put","app_tour_completed","getLearningGoalLessons2","getProbabilityIndex2","getLearningGoalLessons","getMockTestReview","getLearningGoals","firstValueFrom","CURRENT_USER","uuid","_this","_asyncToGenerator","promise","Promise","resolve","reject","msg","getUsername","currentUser","first_name","getUserType","study_type","getUserId","getUserInfo","userId","setForceCompleteTutorial","forceComplete","ClipboardModule","CdkTableModule","CdkTreeModule","MatDividerModule","MAT_FORM_FIELD_DEFAULT_OPTIONS","MatPaginatorModule","MatSortModule","MatTableModule","MatTabsModule","MatTooltipModule","appearance","HomeSvgComponent","color","inputs","decls","vars","consts","template","HomeSvgComponent_Template","ɵɵnamespaceSVG","ɵɵelementStart","ɵɵelementEnd","ɵɵadvance","ɵɵattribute","CommonModule","TutorSvgComponent","ɵɵproperty","ctx_r0","ctx_r1","SvgComponent","SvgComponent_Template","ɵɵtemplate","SvgComponent_student_home_svg_0_Template","SvgComponent_student_tutor_svg_1_Template","styles","TutorSvgComponent_Template","ActivatedRouteSnapshot","RouterStateSnapshot","AuthGuard","authenticationService","canActivate","route","state","username","returnUrl","url","LayoutDefaultComponent_Template","LayoutFullComponent_Template","ɵɵtext","ɵɵtextInterpolate","ɵɵtextInterpolate1","inventory","package","AccountPageComponent_div_24_div_4_hr_1_Template","i_r5","tran_r4","AccountPageComponent_div_24_div_4_Template","transactions","orderService","activeTab","hasError","activities","err","getTransactions","getActivities","onSelectTab","newValue","AccountPageComponent_HostBindings","ɵɵlistener","AccountPageComponent_Template_li_click_7_listener","AccountPageComponent_Template_li_click_12_listener","AccountPageComponent_Template_select_ngModelChange_16_listener","$event","AccountPageComponent_div_23_Template","AccountPageComponent_div_24_Template","AccountPageComponent_div_25_Template","ɵɵpureFunction1","_c0","AdaptiveTestComponent_Template","ActivatedRoute","VerifyPage","EmailVerificationComponent","verifySuccess","snapshot","standalone","features","ɵɵStandaloneFeature","EmailVerificationComponent_Template","RouterLink","encapsulation","ElementRef","GiftComponent_div_21_Template_button_click_19_listener","ɵɵrestoreView","_r6","ctx_r5","ɵɵnextContext","ɵɵresetView","showGifts","GiftComponent_div_22_div_2_div_1_img_1_Template","GiftComponent_div_22_div_2_div_1_img_2_Template","ctx_r10","promotion","continue","ctx_r11","GiftComponent_div_22_div_2_div_1_Template","GiftComponent_div_22_div_2_ng_template_2_Template","ɵɵtemplateRefExtractor","ctx_r7","_r12","ctx_r8","GiftComponent_div_22_div_2_Template","GiftComponent_div_22_ng_template_3_Template","ctx_r4","_r9","GiftComponent","queryParamMap","giftService","loading","paramMap","startAngle","arc","PI","spinTime","spinTimeTotal","showResult","spinAngleStart","values","spinStart","_spin","ngAfterViewInit","spinBG","nativeElement","onload","_drawRouletteWheel","_reset","spinTimeout","random","_rotateWheel","canvas","outsideRadius","textRadius","insideRadius","getContext","clearRect","strokeStyle","lineWidth","font","angle","beginPath","stroke","save","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","fillStyle","translate","cos","sin","rotate","restore","_stopRotateWheel","spinAngle","_easeOut","style","transform","bind","clearTimeout","viewQuery","GiftComponent_Query","GiftComponent_Template_button_click_10_listener","GiftComponent_Template_div_click_19_listener","GiftComponent_span_20_Template","GiftComponent_div_21_Template","GiftComponent_div_22_Template","_c2","NgClass","NgIf","t","b","c","d","ts","tc","TutorialComponent","interval","HomeComponent_div_10_Template_div_click_0_listener","_r8","showSubmenu","HomeComponent_img_62_Template_img_mouseover_0_listener","restoredCtx","i_r10","over","HomeComponent_img_62_Template_img_mouseout_0_listener","ctx_r13","HomeComponent_img_62_Template_img_click_0_listener","ctx_r14","activeStat","o_r9","stats","statsBW","ɵɵsanitizeUrl","HomeComponent_div_67_ng_template_12_div_1_Template_div_click_0_listener","_r23","item_r21","$implicit","ctx_r22","HomeComponent_div_67_ng_template_12_div_1_Template","ctx_r17","learnings","HomeComponent_div_67_kyonsvn_tutorial_14_Template_kyonsvn_tutorial_skipCallback_0_listener","_r25","ctx_r24","skip","_c1","_r15","ctx_r19","script","HomeComponent_div_67_div_11_Template","HomeComponent_div_67_ng_template_12_Template","HomeComponent_div_67_kyonsvn_tutorial_14_Template","ctx_r2","_r18","showTutorial","HomeComponent_div_70_Template_i_click_6_listener","_r27","ctx_r26","HomeComponent_div_70_Template_button_click_29_listener","ctx_r28","goToLastestLearningGoal","_c3","profile","account","ɵɵpureFunction0","_c4","HomeComponent_div_71_Template_button_click_6_listener","_r30","ctx_r29","showWhatIsStats","HomeComponent","tutorialService","stat","Array","fill","isLoading","requestInterval","_getStudentLearningGoalsData","learningGoals","selectedLearningGoal","learning","ngOnDestroy","document","body","removeAttribute","replaceUrl","HomeComponent_HostBindings","HomeComponent_Template_button_click_8_listener","HomeComponent_div_10_Template","HomeComponent_Template_button_click_32_listener","HomeComponent_img_62_Template","HomeComponent_div_67_Template","HomeComponent_ng_template_68_Template","HomeComponent_div_70_Template","HomeComponent_div_71_Template","_r4","NgForOf","NgStyle","CircleProgressComponent","ChangeDetectorRef","MatPaginator","MatPaginatorIntl","MatSort","MatTableDataSource","BaseChartDirective","ctx_r39","i_r32","bi_r30","LearningPathComponent_div_37_div_1_div_1_div_4_ng_template_1_ng_template_0_button_1_Template_button_click_0_listener","_r43","ctx_r42","onLessonBlockClick","LearningPathComponent_div_37_div_1_div_1_div_4_ng_template_1_ng_template_0_button_1_span_3_Template","LearningPathComponent_div_37_div_1_div_1_div_4_ng_template_1_ng_template_0_button_1_circle_progress_5_Template","ctx_r37","ɵɵpureFunction2","LearningPathComponent_div_37_div_1_div_1_div_4_ng_template_1_ng_template_0_div_0_Template","LearningPathComponent_div_37_div_1_div_1_div_4_ng_template_1_ng_template_0_button_1_Template","ctx_r33","LearningPathComponent_div_37_div_1_div_1_div_4_ng_template_1_button_2_Template_button_click_0_listener","_r53","ctx_r52","onLastLessonBlockClick","LearningPathComponent_div_37_div_1_div_1_div_4_ng_template_1_button_2_span_1_Template","LearningPathComponent_div_37_div_1_div_1_div_4_ng_template_1_button_2_span_2_Template","ctx_r35","LearningPathComponent_div_37_div_1_div_1_div_4_ng_template_1_ng_template_0_Template","LearningPathComponent_div_37_div_1_div_1_div_4_ng_template_1_div_1_Template","LearningPathComponent_div_37_div_1_div_1_div_4_ng_template_1_button_2_Template","ctx_r31","LearningPathComponent_div_37_div_1_div_1_div_4_ng_template_1_Template","_c5","blockOf3","ctx_r66","i_r58","bi_r56","LearningPathComponent_div_37_div_1_div_1_div_7_ng_template_1_ng_template_0_button_1_div_4_circle_progress_1_Template","ctx_r65","LearningPathComponent_div_37_div_1_div_1_div_7_ng_template_1_ng_template_0_button_1_Template_button_click_0_listener","_r72","ctx_r71","LearningPathComponent_div_37_div_1_div_1_div_7_ng_template_1_ng_template_0_button_1_span_3_Template","LearningPathComponent_div_37_div_1_div_1_div_7_ng_template_1_ng_template_0_button_1_div_4_Template","ctx_r63","LearningPathComponent_div_37_div_1_div_1_div_7_ng_template_1_ng_template_0_div_0_Template","LearningPathComponent_div_37_div_1_div_1_div_7_ng_template_1_ng_template_0_button_1_Template","ctx_r59","LearningPathComponent_div_37_div_1_div_1_div_7_ng_template_1_button_2_Template_button_click_0_listener","_r83","ctx_r82","LearningPathComponent_div_37_div_1_div_1_div_7_ng_template_1_button_2_b_1_Template","LearningPathComponent_div_37_div_1_div_1_div_7_ng_template_1_button_2_b_2_Template","LearningPathComponent_div_37_div_1_div_1_div_7_ng_template_1_button_2_div_3_Template","_c6","ctx_r61","LearningPathComponent_div_37_div_1_div_1_div_7_ng_template_1_ng_template_0_Template","LearningPathComponent_div_37_div_1_div_1_div_7_ng_template_1_div_1_Template","LearningPathComponent_div_37_div_1_div_1_div_7_ng_template_1_button_2_Template","ctx_r57","LearningPathComponent_div_37_div_1_div_1_div_7_ng_template_1_Template","blockOf2","LearningPathComponent_div_37_div_1_div_1_div_4_Template","LearningPathComponent_div_37_div_1_div_1_div_7_Template","lessonBlockOf3OnMDScreen","lessonBlockOf2OnXSScreen","LearningPathComponent_div_37_div_1_div_2_Template_button_click_6_listener","_r86","ctx_r85","LearningPathComponent_div_37_div_1_div_1_Template","LearningPathComponent_div_37_div_1_div_2_Template","showActivateLearningPathBtn","LearningPathComponent_div_37_div_1_Template","LearningPathComponent_div_37_ng_template_2_Template","mockTests","_r21","ctx_r3","ctx_r6","probabilityIndex","LearningPathComponent_div_80_ng_container_7_div_1_Template_a_click_2_listener","_r92","item_r88","ctx_r90","goToMockTest","ɵɵelementContainerStart","LearningPathComponent_div_80_ng_container_7_div_1_Template","ɵɵelementContainerEnd","ctx_r87","active","LearningPathComponent_div_80_ng_container_7_Template","LearningPathComponent_mat_cell_85_div_1_Template_a_click_1_listener","_r99","row_r94","ctx_r97","LearningPathComponent_mat_cell_85_div_2_Template_a_click_1_listener","_r103","ctx_r101","LearningPathComponent_mat_cell_85_div_1_Template","LearningPathComponent_mat_cell_85_div_2_Template","ctx_r9","learning_path_activated","row_r105","LearningPathComponent_div_97_Template_button_click_25_listener","_r108","ctx_r107","showWhatIsProbabilityIndex","LearningPathComponent_div_98_Template_a_click_6_listener","_r110","ctx_r109","LearningPathComponent_div_98_Template_button_click_11_listener","ctx_r111","LearningPathComponent_div_99_Template_button_click_23_listener","_r113","ctx_r112","showWhatIsMockTest","LearningPathComponent_div_100_kyonsvn_tutorial_1_Template_kyonsvn_tutorial_skipCallback_0_listener","_r119","ctx_r118","ctx_r114","scriptElements","_c8","_c7","script1","LearningPathComponent_div_100_kyonsvn_tutorial_2_Template_kyonsvn_tutorial_skipCallback_0_listener","_r121","ctx_r120","ctx_r115","scriptXsElements","LearningPathComponent_div_100_kyonsvn_tutorial_3_Template_kyonsvn_tutorial_skipCallback_0_listener","_r123","ctx_r122","ctx_r116","script2","LearningPathComponent_div_100_kyonsvn_tutorial_4_Template_kyonsvn_tutorial_skipCallback_0_listener","_r125","ctx_r124","ctx_r117","LearningPathComponent_div_100_kyonsvn_tutorial_1_Template","LearningPathComponent_div_100_kyonsvn_tutorial_2_Template","LearningPathComponent_div_100_kyonsvn_tutorial_3_Template","LearningPathComponent_div_100_kyonsvn_tutorial_4_Template","ctx_r18","tutorialPart","LearningPathComponent","lessonService","userType","testService","learingPathError","scrollDistance","processing","categories","learningGoalCategory","nextStep","completeStep","subscriptionExpired","showSubscriptionExpired","isLoadingResults","isRateLimitReached","dataSource","hasNewMockTest","shouldScrollBottom","lineChartData","datasets","label","backgroundColor","borderColor","borderWidth","pointBackgroundColor","pointBorderColor","pointStyle","labels","lineChartOptions","elements","line","tension","scales","y","display","text","size","weight","position","grid","ticks","x","max","min","plugins","legend","showCompleteTutorial","sort","paginator","prototype","lessonPageTutorial","selectedStudentLearningGoal","_updateLessonsData","_updateMockTestData","lessonElm","getElementById","lessonXsElm","push","getElementsByClassName","setAttribute","_getLearningPathData","_intl","nextPageLabel","previousPageLabel","itemsPerPageLabel","getRangeLabel","page","pageSize","end","some","gradient","chartCanvas","createLinearGradient","addColorStop","chart","update","learning_path_received","totalLessonBlockOf3OnMDScreen","ceil","from","totalLessonBlockOf2OnXSScreen","scrollBottomElm","scrollTop","scrollHeight","scrollBottomXSElm","error_code","newUser","learning_goal_id","lesson","lessonPage","lessonReviewPage","learningPathComplete","filterCallback","willGoHome","open","LearningPathComponent_Query","LearningPathComponent_Template_div_click_4_listener","LearningPathComponent_Template_div_click_6_listener","LearningPathComponent_div_37_Template","LearningPathComponent_ng_template_38_Template","LearningPathComponent_Template_a_click_58_listener","LearningPathComponent_circle_progress_64_Template","LearningPathComponent_circle_progress_65_Template","LearningPathComponent_circle_progress_68_Template","LearningPathComponent_circle_progress_69_Template","LearningPathComponent_Template_a_click_76_listener","LearningPathComponent_div_80_Template","LearningPathComponent_mat_header_cell_84_Template","LearningPathComponent_mat_cell_85_Template","LearningPathComponent_mat_header_cell_87_Template","LearningPathComponent_mat_cell_88_Template","LearningPathComponent_mat_header_row_89_Template","LearningPathComponent_mat_row_90_Template","LearningPathComponent_div_97_Template","LearningPathComponent_div_98_Template","LearningPathComponent_div_99_Template","LearningPathComponent_div_100_Template","_c9","_c10","_r2","_c11","_c12","_c13","i5","MatSortHeader","i6","MatTable","MatHeaderCellDef","MatHeaderRowDef","MatColumnDef","MatCellDef","MatRowDef","MatHeaderCell","MatCell","MatHeaderRow","MatRow","i7","TrackingLessonComponent","ExerciseContentComponent","Progress","Question","QuestionReview","Submission","LessonPageComponent_h6_33_span_1_Template","LessonPageComponent_h6_33_span_2_Template","questionReview","isCorrectAnswer","ɵɵpipeBind1","explanation","ɵɵsanitizeHtml","LessonPageComponent_button_47_Template_button_click_0_listener","testComplete","isSubmitting","LessonPageComponent_button_48_Template_button_click_0_listener","_r20","nextQuestion","LessonPageComponent_button_54_Template_button_click_0_listener","_r22","ctx_r21","LessonPageComponent_button_55_Template_button_click_0_listener","_r24","ctx_r23","LessonPageComponent_div_56_Template_button_click_6_listener","_r26","ctx_r25","showIncomplete","LessonPageComponent_div_57_Template_button_click_7_listener","_r28","ctx_r27","showHint","question","hint","ctx_r12","LessonPageComponent","exercise","ignoreIncomplete","progressStr","showComplete","isOutOfSubscription","currentTestIndex","stars","_getQuestion","questions","difficulty","scrollTopElm","scrollLeft","updateSubmission","nextSubmission","submitData","records","exerciseElm","querySelectorAll","FormData","hasAnswer","answer_status","submitIncomplete","LessonPageComponent_Query","LessonPageComponent_div_22_Template","LessonPageComponent_Template_button_click_29_listener","LessonPageComponent_h6_33_Template","LessonPageComponent_Template_kyonsvn_exercise_content_submissionEvent_36_listener","LessonPageComponent_div_37_Template","LessonPageComponent_button_47_Template","LessonPageComponent_button_48_Template","LessonPageComponent_div_49_Template","LessonPageComponent_button_54_Template","LessonPageComponent_button_55_Template","LessonPageComponent_div_56_Template","LessonPageComponent_div_57_Template","LessonPageComponent_div_58_Template","LessonPageComponent_div_59_Template","Location","currentQuestionIndex","LessonReviewPageComponent_button_34_Template_button_click_0_listener","_r7","LessonReviewPageComponent","location","currentQuestion","previousPage","scrollElm","nextPage","_centerCurrentIndex","scrollRight","currentElm","currentElmLeft","offsetLeft","currentElmWidth","offsetWidth","currentElmCenter","scrollElmWidth","LessonReviewPageComponent_Query","LessonReviewPageComponent_student_loading_0_Template","LessonReviewPageComponent_div_22_Template","LessonReviewPageComponent_Template_button_click_25_listener","LessonReviewPageComponent_Template_button_click_27_listener","LessonReviewPageComponent_Template_button_click_30_listener","LessonReviewPageComponent_button_34_Template","LessonReviewPageComponent_Template_button_click_35_listener","LessonReviewPageComponent_Template_button_click_37_listener","LessonReviewPageComponent_Template_button_click_39_listener","MockTestResultComponent_div_0_img_57_Template_img_mouseover_0_listener","_r10","i_r8","MockTestResultComponent_div_0_img_57_Template_img_mouseout_0_listener","MockTestResultComponent_div_0_img_57_Template_img_click_0_listener","o_r7","MockTestResultComponent_div_0_div_77_kyonsvn_tutorial_1_Template_kyonsvn_tutorial_skipCallback_0_listener","_r16","ctx_r15","_r3","nextTutorial1","MockTestResultComponent_div_0_div_77_kyonsvn_tutorial_2_Template_kyonsvn_tutorial_skipCallback_0_listener","nextTutorial2","MockTestResultComponent_div_0_div_77_kyonsvn_tutorial_1_Template","MockTestResultComponent_div_0_div_77_kyonsvn_tutorial_2_Template","MockTestResultComponent_div_0_circle_progress_30_Template","MockTestResultComponent_div_0_circle_progress_31_Template","MockTestResultComponent_div_0_Template_button_click_44_listener","review","MockTestResultComponent_div_0_Template_button_click_47_listener","MockTestResultComponent_div_0_img_57_Template","MockTestResultComponent_div_0_div_77_Template","testResult","MockTestResultComponent","_getMockTest","mock_test_submitted","share","mockTestShare","shareReferral","MockTestResultComponent_Template","MockTestResultComponent_div_0_Template","MockTestReviewComponent_div_23_span_4_Template","MockTestReviewComponent_div_23_span_5_Template","MockTestReviewComponent_div_23_span_8_Template","MockTestReviewComponent_div_23_span_9_Template","ɵɵtextInterpolate2","MockTestReviewComponent_button_35_Template_button_click_0_listener","_r14","i_r12","ɵɵpureFunction4","question_r11","_r1","emptyFunc","nextTutorial","MockTestReviewComponent_kyonsvn_tutorial_53_Template_kyonsvn_tutorial_skipCallback_0_listener","_r0","MockTestReviewComponent","backToResult","goBack","back","MockTestReviewComponent_Query","MockTestReviewComponent_Template_button_click_2_listener","MockTestReviewComponent_Template_button_click_7_listener","MockTestReviewComponent_div_23_Template","MockTestReviewComponent_Template_button_click_26_listener","MockTestReviewComponent_Template_button_click_28_listener","MockTestReviewComponent_Template_button_click_31_listener","MockTestReviewComponent_button_35_Template","MockTestReviewComponent_Template_button_click_36_listener","MockTestReviewComponent_Template_button_click_38_listener","MockTestReviewComponent_Template_button_click_40_listener","MockTestReviewComponent_Template_button_click_50_listener","MockTestReviewComponent_kyonsvn_tutorial_52_Template","MockTestReviewComponent_kyonsvn_tutorial_53_Template","subject_r14","program_r15","learningGoal_r16","MockTestSelectProgramComponent_div_4_kyonsvn_tutorial_27_Template_kyonsvn_tutorial_skipCallback_0_listener","ɵɵpureFunction6","script3","script4","script5","script6","MockTestSelectProgramComponent_div_4_Template_select_ngModelChange_7_listener","selectedSubject","changeSubject","MockTestSelectProgramComponent_div_4_option_11_Template","MockTestSelectProgramComponent_div_4_Template_select_ngModelChange_12_listener","changeProgram","MockTestSelectProgramComponent_div_4_option_16_Template","MockTestSelectProgramComponent_div_4_Template_select_ngModelChange_17_listener","changeLearningGoal","MockTestSelectProgramComponent_div_4_ng_container_21_Template","MockTestSelectProgramComponent_div_4_Template_button_click_22_listener","MockTestSelectProgramComponent_div_4_kyonsvn_tutorial_27_Template","subjects","emptyProgram","emptyLearningGoal","MockTestSelectProgramComponent_div_5_Template_button_click_8_listener","learningGoal_r29","SubmitType","emptyProgramObject","emptyLearningGoalObject","emptyMockTestTemplateObject","MockTestSelectProgramComponent","selectedMockTestTemplate","emptyMockTestTemplate","showMockTestTemplate","mockTestTestTutorial","submit","mockTestSelect","MockTestSelectProgramComponent_HostBindings","MockTestSelectProgramComponent_Template_a_click_2_listener","MockTestSelectProgramComponent_div_4_Template","MockTestSelectProgramComponent_div_5_Template","MockTestSelectProgramComponent_Template_select_ngModelChange_27_listener","MockTestSelectProgramComponent_ng_container_31_Template","MockTestSelectProgramComponent_Template_button_click_33_listener","MockTestSelectProgramComponent_Template_button_click_35_listener","MockTestSelectProgramComponent_div_39_Template","NgSelectOption","ɵNgSelectMultipleOption","SelectControlValueAccessor","NgControlStatus","NgModel","SelectTopicComponent_label_8_Template_input_ngModelChange_1_listener","topic_r1","SelectTopicComponent_label_8_Template_input_change_1_listener","updateCount","topics","checkedCount","isDoneEditing","lG","SelectTopicComponent_HostBindings","SelectTopicComponent_label_8_Template","SelectTopicComponent_Template_button_click_11_listener","tmp_0_0","tmp_3_0","MockTestShareComponent_div_1_div_2_Template_button_click_24_listener","acceptChalenge","MockTestShareComponent_div_1_div_2_Template_button_click_26_listener","createNewLearningGoal","MockTestShareComponent_div_1_div_2_Template","MockTestShareComponent_div_2_Template_button_click_7_listener","showForLoggedInUser","MockTestShareComponent","signUp","mocktest","MockTestShareComponent_HostBindings","MockTestShareComponent_div_1_Template","MockTestShareComponent_div_2_Template","Clipboard","fromEvent","MockTestTestComponent_button_29_Template_button_click_0_listener","i_r13","ɵɵpureFunction3","testSubmission","question_r12","MockTestTestComponent_button_32_Template_button_click_0_listener","_r17","ctx_r16","MockTestTestComponent_button_33_Template_button_click_0_listener","_r19","MockTestTestComponent_button_40_Template_button_click_0_listener","i_r21","question_r20","MockTestTestComponent_button_41_Template_button_click_0_listener","MockTestTestComponent_button_42_Template_button_click_0_listener","testContent","MockTestTestComponent_div_43_Template_button_click_8_listener","_r29","ignoreHavingTime","submitHavingTime","MockTestTestComponent_div_43_Template_button_click_10_listener","ctx_r30","showHavingTime","MockTestTestComponent_div_44_Template_button_click_10_listener","_r32","MockTestTestComponent_div_44_Template_button_click_12_listener","MockTestTestComponent_div_45_Template_button_click_6_listener","_r35","ctx_r34","goToResult","MockTestTestComponent_div_45_Template_button_click_8_listener","ctx_r36","goToReview","TEST_DURATION","MockTestTestComponent","elm","clipboard","studentLearningGoal","testProgress","isTitleHidden","isTest","reviewRenderObject","resultRenderObject","progressString","testReviewRenderObject","testResultRenderObject","isSharing","shareLink","isCopied","isPending","counter","counterStart","counterTime","source","pending","done","setInterval","now","alert","updateProgress","nextProgress","round","have_promotion","gift","copy","_centerCurrentIndexXs","goTo","scrollXsElm","_getTopicNameFromId","topicId","lessonGroup","lC","_getQuestionsFromIds","questionIds","q","_getTestQuestionsFromIds","MockTestTestComponent_Query","MockTestTestComponent_Template_button_click_15_listener","MockTestTestComponent_Template_kyonsvn_test_content_progressEvent_19_listener","MockTestTestComponent_Template_kyonsvn_test_content_submissionEvent_19_listener","MockTestTestComponent_Template_kyonsvn_test_content_currentIndexEvent_19_listener","MockTestTestComponent_Template_button_click_22_listener","MockTestTestComponent_Template_button_click_25_listener","MockTestTestComponent_button_29_Template","MockTestTestComponent_Template_button_click_30_listener","MockTestTestComponent_button_32_Template","MockTestTestComponent_button_33_Template","MockTestTestComponent_Template_button_click_36_listener","MockTestTestComponent_button_40_Template","MockTestTestComponent_button_41_Template","MockTestTestComponent_button_42_Template","MockTestTestComponent_div_43_Template","MockTestTestComponent_div_44_Template","MockTestTestComponent_div_45_Template","getSeconds","uniq","NewLessonPageComponent_div_12_Template_div_click_0_listener","_r5","lP_r2","selectedLearningPointIds","select","ɵɵstyleProp","ɵɵpureFunction5","NewLessonPageComponent_div_14_Template_div_click_0_listener","lP_r6","deselect","learningPoints","splice","indexOf","NewLessonPageComponent_Template","NewLessonPageComponent_div_12_Template","NewLessonPageComponent_div_14_Template","NewLessonPageComponent_Template_button_click_19_listener","NewUserComponent_HostBindings","NewUserComponent_Template_button_click_14_listener","p_r4","PackagePageComponent_tr_55_span_5_Template","PackagePageComponent_tr_55_Template_button_click_11_listener","buyPackage","selectedPackage","PackagePageComponent_div_56_Template_input_ngModelChange_8_listener","PackagePageComponent_div_56_span_9_Template","PackagePageComponent_div_56_span_10_Template","PackagePageComponent_div_56_Template_button_click_18_listener","close","PackagePageComponent_div_56_Template_button_click_20_listener","ɵɵpipeBindV","PackagePageComponent_div_57_Template_button_click_7_listener","PackagePageComponent_div_58_Template_button_click_7_listener","errorMessage","packages","step","pack","PackagePageComponent_HostBindings","PackagePageComponent_tr_55_Template","PackagePageComponent_div_56_Template","PackagePageComponent_div_57_Template","PackagePageComponent_div_58_Template","PageNotFoundComponent_HostBindings","FormBuilder","FormControl","Validators","ProfileComponent","fb","profileForm","group","passwordForm","required","birthDay","oldPass","newPass","confirmNewPass","addControl","user","setValue","changeAvatar","ProfileComponent_HostBindings","ɵNgNoValidate","DefaultValueAccessor","NgControlStatusGroup","FormGroupDirective","FormControlName","TestComponent_HostBindings","TutorialLessonComponent","TutorialTestComponent","test","pageNotfound","resetPassword","termsOfService","component","children","loadComponent","m","LearningPathCompleteComponent","SignInComponent","SignOutComponent","ResetPasswordComponent","SignUpComponent","UnverifiedAccountComponent","ResendVerifiedComponent","nonexistentAccount","expiredLink","TermsOfServiceComponent","FlashcardComponent","placeholder","AppInputComponent_Template","EventEmitter","SimpleChanges","Carousel","Cells","Container","Slide","Touches","Utils","objectFit","getImage","i_r6","CarouselComponent_ng_template_5_div_0_img_1_Template","getCellWidth","borderRadius","CarouselComponent_ng_template_5_div_0_Template","cellLimit","ɵɵclassProp","activeDotIndex","CarouselComponent_div_6_div_1_Template","dotsArr","CarouselComponent_div_7_Template_span_click_1_listener","prev","CarouselComponent_div_7_Template_span_click_3_listener","arrowsOutside","arrowsTheme","isPrevArrowDisabled","isNextArrowDisabled","CarouselComponent","isContainerLocked","carousel","slideCounter","lapCounter","isLandscape","innerWidth","innerHeight","isSafari","ua","userAgent","toLowerCase","loop","cellLength","counterSeparator","cellsElement","elementRef","querySelector","isArrows","arrows","freeScroll","isCounter","_isCounter","carouselWidth","clientWidth","images","_images","cellWidth","_cellWidth","_loop","lightDOM","_lightDOM","onWindowResize","utils","visibleWidth","savedCarouselWidth","resize","onMousemove","autoplay","pauseOnHover","stopAutoplay","onMouseleave","minTimeout","isVideoPlaying","isMoving","isNgContent","height","autoplayInterval","dots","margin","minSwipeDistance","transitionDuration","transitionTimingFunction","overflowCellsLimit","listeners","cellsToScroll","hostClassCarousel","handleTouchstart","touches","addEventListeners","handleHorizontalSwipe","preventDefault","handleTouchend","removeEventListeners","handleTap","outboundEvent","nodes","slice","call","cellElement","srcElement","closest","cellIndex","element","mouseListeners","mousedown","mouseup","on","setDimensions","initCarousel","getCellLength","detectChanges","lineUpCells","detectDomChanges","ngOnChanges","changes","destroy","carouselProperties","hostElement","width","videoProperties","eventHandler","cells","container","slide","landscapeMode","updateProperties","observer","MutationObserver","mutations","onDomChanges","config","attributes","childList","characterData","observe","hostStyleHeight","hostStyleWidth","handleTransitionendCellContainer","target","handleTransitionend","elementWidth","cellsToShow","totalMargin","CarouselComponent_HostBindings","ɵɵresolveWindow","CarouselComponent_mousemove_HostBindingHandler","CarouselComponent_mouseleave_HostBindingHandler","CarouselComponent_div_0_Template","CarouselComponent_Template_div_transitionend_2_listener","ɵɵprojection","CarouselComponent_ng_template_5_Template","CarouselComponent_div_6_Template","CarouselComponent_div_7_Template","cellLengthInLightDOMMode","numberOfVisibleCells","lastCellIndex","isLightDOM","properties","fullCellWidth","isSlideLengthLimited","isContentImages","isLazyLoad","alignCells","initialContainerPosition","containerPullLimit","parentElement","clearInterval","autoplayId","lineUp","ImageUtils","cellStack","getImages","cell","img","imageUtils","positionX","getCellPositionInContainer","ifSequenceOfCellsIsChanged","cellIndexInDOMTree","positionIndex","getCellIndexInContainer","imageIndex","getImageIndex","file","image","cellLimitOverflow","setCounter","tooFewCells","disabled","newPositionIndex","isPositionCorrection","initialPositionX","initialElementPositionX","isLocked","pullLimit","startTime","startX","moveX","isSwipeInProgress","setWidth","getStartX","getInitialElementPositionX","getMoveX","move","simpleProcessing","finishMoving","clearInitialValues","getMovePositionX","isPulled","detectPulled","direction","getDirection","edge","slowdownOnPull","transformPositionX","overflowX","distance","getDistance","currentPositionX","getCurrentPositionX","abs","getEndPosition","_positionX","endPosition","decelerationRatio","rubberPositionX","containerWidth","getWidth","newPositionX","getInertia","getAlignedPositionOnPull","setInitialPosition","currentTime","tapLength","inertia","parentPosition","getBoundingClientRect","left","imagesInContainer","transition","totalImageWidth","getElementPosition","carouselElementPosition","getCarouselElementPosition","sign","visibleCellsOverflowContainer","fixedContainerPosition","slideLength","isSlideInProgress","_counter","distanceAbs","isNotClickOnArrow","setVisibleWidth","handleSlide","alignContainerFast","customSlideLength","isUsingButton","limitSlideLength","getSlideLength","getPreliminaryCounter","isSlidesEnd","getPositionByIndex","newCounter","getPositionCorrection","correction","isLastSlide","cellsWidth","getDistanceAbs","imageLength","isLightDOMMode","ifLeftDOMModeAtEnd","initialPosition","getPositionWithoutCorrection","counterDifference","provideSafePosition","remainder","ifLeftDOMModeToBeginning","containerPositionX","flag","remainderOfCells","touchListeners","_touchListeners","_mouseListeners","otherListeners","_otherListeners","eventType","handlers","startY","lastTap","doubleTapMinTimeout","tapMinTimeout","touchstartTime","isMousedown","touchstart","touchmove","touchend","mousemove","wheel","elementPosition","getTouchstartPosition","runHandler","handleTouchmove","detectPan","detectPinch","detectLinearSwipe","swipeType","handleLinearSwipe","detectDoubleTap","detectTap","handleMousedown","getMousedownPosition","handleMousemove","handleMouseup","handleWheel","handleResize","toggleEventListeners","action","assign","detectTouchScreen","listener","handler","addEventListener","removeEventListener","passive","getLinearSwipeType","eventName","response","doubleTapTimeout","movementX","moveLeft","movementY","moveTop","clientX","clientY","top","prefixes","split","mq","query","matchMedia","matches","join","isImagesLessCellLimit","carouselElementPositionX","MatDialogRef","MAT_DIALOG_DATA","dialogRef","onConfirm","onDismiss","ConfirmDialogComponent_Template","ConfirmDialogComponent_Template_button_click_6_listener","ConfirmDialogComponent_Template_button_click_9_listener","ConfirmDialogModel","InputRadioComponent_Template","LoadingComponent_Template","LottieComponent","SubjectCardComponent_HostBindings","QuestionsProgressComponent_Template","valueLength","valuePrefix","totalTiles","getTotalColorTiles","ScoreBarComponent_HostBindings","answerPrefixes","TestContentComponent_div_0_div_2_student_input_radio_4_Template_student_input_radio_change_0_listener","answer_r5","qi_r3","question_r2","getNextProgress","updateSubmitData","ai_r6","conponentId","TestContentComponent_div_0_div_2_student_input_radio_4_Template","currentIndex","ɵɵpipeBind2","answers","TestContentComponent_div_0_div_2_Template","_addedList","currentIndexEvent","progressEvent","contentEvent","submissionEvent","completeCallback","keyEvent","isActive","currentSubmitDataLength","key","emit","nextProgressValue","newProgress","questionId","answer","TestContentComponent_HostBindings","TestContentComponent_div_0_Template","qi_r4","question_r3","selected","right","TestReviewComponent_div_2_Template_div_click_1_listener","review_r1","isOpen","TestReviewComponent_div_2_div_8_Template","TestReviewComponent_HostBindings","TestReviewComponent_div_2_Template","Renderer2","TopMenuComponent_div_0_div_8_Template_div_click_0_listener","TopMenuComponent_div_0_Template_a_isActiveChange_3_listener","TopMenuComponent_div_0_div_8_Template","TopMenuComponent_div_0_Template_button_click_9_listener","TopMenuComponent_div_0_Template_li_isActiveChange_17_listener","TopMenuComponent_div_0_Template_li_isActiveChange_20_listener","renderer","notificationService","listen","toggleButton","menu","urlAfterRedirects","TopMenuComponent_Query","TopMenuComponent_div_0_Template","_isMouseActive","onMouseMove","_trackingInterval","_mouseInactiveTimeout","TrackingLessonComponent_HostBindings","ɵɵresolveDocument","ɵɵelementContainer","changeDetection","isLocalhost","hostname","TrackingComponent_HostBindings","OrderBySAPipe","TutorialLessonComponent_h6_29_span_1_Template","TutorialLessonComponent_h6_29_span_2_Template","TutorialLessonComponent_div_34_kyonsvn_input_radio_1_Template_kyonsvn_input_radio_change_0_listener","answer_r21","ai_r22","ctx_r20","TutorialLessonComponent_div_34_kyonsvn_input_radio_1_Template","TutorialLessonComponent_div_57_Template_button_click_6_listener","TutorialLessonComponent_div_58_Template_button_click_7_listener","TutorialLessonComponent_kyonsvn_tutorial_61_Template_kyonsvn_tutorial_skipCallback_0_listener","questionElm","TutorialLessonComponent_kyonsvn_tutorial_62_Template_kyonsvn_tutorial_skipCallback_0_listener","TutorialLessonComponent_kyonsvn_tutorial_63_Template_kyonsvn_tutorial_skipCallback_0_listener","_r34","TutorialLessonComponent_kyonsvn_tutorial_64_Template_kyonsvn_tutorial_skipCallback_0_listener","_r36","_initSubmission","answerId","currentForm","forEach","input","reset","TutorialLessonComponent_Query","TutorialLessonComponent_Template_button_click_24_listener","TutorialLessonComponent_h6_29_Template","TutorialLessonComponent_div_34_Template","TutorialLessonComponent_div_35_Template","TutorialLessonComponent_Template_button_click_40_listener","TutorialLessonComponent_Template_button_click_43_listener","TutorialLessonComponent_div_46_Template","TutorialLessonComponent_Template_button_click_51_listener","TutorialLessonComponent_Template_button_click_54_listener","TutorialLessonComponent_div_57_Template","TutorialLessonComponent_div_58_Template","TutorialLessonComponent_div_59_Template","TutorialLessonComponent_kyonsvn_tutorial_61_Template","TutorialLessonComponent_kyonsvn_tutorial_62_Template","TutorialLessonComponent_kyonsvn_tutorial_63_Template","TutorialLessonComponent_kyonsvn_tutorial_64_Template","AnswerTutorialScript","QuestionTutorialScript","TutorialTestComponent_kyonsvn_test_content_22_Template_kyonsvn_test_content_progressEvent_0_listener","TutorialTestComponent_kyonsvn_test_content_22_Template_kyonsvn_test_content_submissionEvent_0_listener","TutorialTestComponent_kyonsvn_test_content_22_Template_kyonsvn_test_content_currentIndexEvent_0_listener","TutorialTestComponent_kyonsvn_test_content_22_Template_kyonsvn_test_content_completeCallback_0_listener","ctx_r32","TutorialTestComponent_kyonsvn_test_content_22_Template_kyonsvn_test_content_showResultEvent_0_listener","tutorialScript","preTutorial","TutorialTestComponent_button_33_Template_button_click_0_listener","_r37","i_r35","question_r34","TutorialTestComponent_button_49_Template_button_click_0_listener","_r41","i_r39","ctx_r40","question_r38","TutorialTestComponent_kyonsvn_tutorial_57_Template_kyonsvn_tutorial_skipCallback_0_listener","TutorialTestComponent_kyonsvn_tutorial_58_Template_kyonsvn_tutorial_skipCallback_0_listener","_r45","ctx_r44","TutorialTestComponent_kyonsvn_tutorial_59_Template_kyonsvn_tutorial_skipCallback_0_listener","_r47","ctx_r46","TutorialTestComponent_kyonsvn_tutorial_60_Template_kyonsvn_tutorial_skipCallback_0_listener","_r49","ctx_r48","TutorialTestComponent_kyonsvn_tutorial_61_Template_kyonsvn_tutorial_skipCallback_0_listener","_r51","ctx_r50","TutorialTestComponent_kyonsvn_tutorial_62_Template_kyonsvn_tutorial_skipCallback_0_listener","TutorialTestComponent_kyonsvn_tutorial_63_Template_kyonsvn_tutorial_skipCallback_0_listener","_r55","ctx_r54","TutorialTestComponent_kyonsvn_tutorial_64_Template_kyonsvn_tutorial_skipCallback_0_listener","_r57","ctx_r56","_r13","TutorialTestComponent_kyonsvn_tutorial_65_Template_kyonsvn_tutorial_skipCallback_0_listener","_r59","ctx_r58","TutorialTestComponent_div_66_Template_button_click_8_listener","_r61","ctx_r60","TutorialTestComponent_div_66_Template_button_click_10_listener","ctx_r62","TutorialTestComponent_div_67_Template_button_click_10_listener","_r64","TutorialTestComponent_div_67_Template_button_click_12_listener","TutorialTestComponent_div_68_Template_button_click_6_listener","_r67","TutorialTestComponent_div_68_Template_button_click_8_listener","ctx_r68","skipCallback","tooltipContent","TutorialTestComponent_Query","TutorialTestComponent_Template_button_click_16_listener","TutorialTestComponent_kyonsvn_test_content_22_Template","TutorialTestComponent_Template_button_click_25_listener","TutorialTestComponent_Template_button_click_29_listener","TutorialTestComponent_button_33_Template","TutorialTestComponent_Template_button_click_34_listener","TutorialTestComponent_Template_button_click_36_listener","TutorialTestComponent_Template_button_click_39_listener","TutorialTestComponent_Template_button_click_45_listener","TutorialTestComponent_button_49_Template","TutorialTestComponent_Template_button_click_50_listener","TutorialTestComponent_Template_button_click_53_listener","TutorialTestComponent_student_loading_56_Template","TutorialTestComponent_kyonsvn_tutorial_57_Template","TutorialTestComponent_kyonsvn_tutorial_58_Template","TutorialTestComponent_kyonsvn_tutorial_59_Template","TutorialTestComponent_kyonsvn_tutorial_60_Template","TutorialTestComponent_kyonsvn_tutorial_61_Template","TutorialTestComponent_kyonsvn_tutorial_62_Template","TutorialTestComponent_kyonsvn_tutorial_63_Template","TutorialTestComponent_kyonsvn_tutorial_64_Template","TutorialTestComponent_kyonsvn_tutorial_65_Template","TutorialTestComponent_div_66_Template","TutorialTestComponent_div_67_Template","TutorialTestComponent_div_68_Template","formatCurrency","formatDate","date","production","isPromotionEnable","origin","apiKey","authDomain","projectId","storageBucket","messagingSenderId","DEFAULT_CURRENCY_CODE","enableProdMode","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","providers","catch","readyState","ExerciseContentComponent_div_0_div_4_kyonsvn_input_radio_1_Template_kyonsvn_input_radio_change_0_listener","ExerciseContentComponent_div_0_div_4_kyonsvn_input_radio_1_Template","ExerciseContentComponent_div_0_ng_template_5_div_0_div_1_i_1_Template","ExerciseContentComponent_div_0_ng_template_5_div_0_div_1_i_2_Template","answer_r10","isCorrect","ExerciseContentComponent_div_0_ng_template_5_div_0_div_1_Template","ExerciseContentComponent_div_0_ng_template_5_div_0_Template","ExerciseContentComponent_div_0_div_4_Template","ExerciseContentComponent_div_0_ng_template_5_Template","ExerciseContentComponent_HostBindings","ExerciseContentComponent_div_0_Template","hideLabel","QuestionsProgressComponent_span_3_Template","TestContentComponent_div_0_div_1_div_4_kyonsvn_input_radio_1_Template_kyonsvn_input_radio_change_0_listener","qi_r5","question_r4","ai_r11","TestContentComponent_div_0_div_1_div_4_kyonsvn_input_radio_1_Template","TestContentComponent_div_0_div_1_ng_template_5_div_0_div_1_i_1_Template","TestContentComponent_div_0_div_1_ng_template_5_div_0_div_1_i_2_Template","answer_r18","TestContentComponent_div_0_div_1_ng_template_5_div_0_div_1_Template","TestContentComponent_div_0_div_1_ng_template_5_div_0_Template","TestContentComponent_div_0_div_1_div_4_Template","TestContentComponent_div_0_div_1_ng_template_5_Template","scriptEvents","backTutorial","TestContentComponent_div_0_div_1_Template","TestContentComponent_div_0_kyonsvn_tutorial_2_Template","TestContentComponent_div_1_Template_div_click_1_listener","showGoTo","TestContentComponent_div_1_Template_input_ngModelChange_8_listener","TestContentComponent_div_1_Template_button_click_10_listener","goToIndex","tooltipPosition","scripts","delay","showTutorialWithDelay","showResultEvent","nextCallback","previousCallback","shiftKey","goToElm","focus","activeElement","blur","currentValue","answerElm","TestContentComponent_Query","TestContentComponent_div_1_Template","NumberValueAccessor","MinValidator","MaxValidator","NgForm","TestReviewHtmlComponent_div_2_Template_div_click_1_listener","TestReviewHtmlComponent_div_2_div_7_Template","TestReviewHtmlComponent","TestReviewHtmlComponent_HostBindings","TestReviewHtmlComponent_div_2_Template","TutorialComponent_div_9_Template_button_click_1_listener","pre","TutorialComponent_div_9_Template_button_click_3_listener","TutorialComponent_button_10_Template_button_click_0_listener","isOverlap","hasListener","overflow","_render","resizeObservable$","resizeSubscription$","evt","_rearrangeElement","_getOffsetParent","offsetParent","scriptElement","scriptEvent","scrollIntoView","behavior","block","remove","cloneNode","offsetHeight","offsetParents","temp","reduce","acc","cur","offsetTop","scrollY","isClicked","onclick","onchange","homeTutorialWrapperElm","appendChild","tooltipElm","clientHeight","tooltipLeft","setProperty","newTooltipLeft","caretLeft","opacity","_trigger","getAttribute","TutorialComponent_Query","TutorialComponent_div_9_Template","TutorialComponent_button_10_Template","callback","pure","KeysPipe","orderBy","sortBy","column","OrderByPipe","DomSanitizer","sanitized","bypassSecurityTrustHtml","isComplete","_submitData","_end","_testId","start_time","end_time","SubmissionHtml","user_response","user_response_ui","time_taken","TestType","TestContentHtml","questionObject","QuestionHtml","ExerciseHtml","html","topicName","test_id","learning_point_name","lesson_percentage","DifficultyLevel","answerObject","Answer","easy","is_correct","AnswerResult","maxScore","topicWrongQuestions","AnswerReview","selectedAnswers","rightAnswers","ordinalNumber","order_number","mocktest_referral","categoryToScoreMap","topicToScoreMap","topicWrongQuestionMap","resultScore","r","current","answerResult","answerReview","Mock","isFirst","canShare","getShareableMockTestLink"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}